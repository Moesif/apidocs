<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Moesif API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight {
  color: #FFFFFF;
  background-color: #231529;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #6D6E70;
  font-style: italic;
}
.highlight .cp {
  color: #41ff5b;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #FFFFFF;
  background-color: #CC0000;
}
.highlight .gr {
  color: #FFFFFF;
  background-color: #CC0000;
}
.highlight .k, .highlight .kd, .highlight .kv {
  color: #FFF02A;
  font-weight: bold;
}
.highlight .o, .highlight .ow {
  color: #41ff5b;
}
.highlight .p, .highlight .pi {
  color: #41ff5b;
}
.highlight .gd {
  color: #CC0000;
}
.highlight .gi {
  color: #3FB34F;
}
.highlight .ge {
  font-style: italic;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gt {
  color: #FFFFFF;
  background-color: #766DAF;
}
.highlight .gl {
  color: #FFFFFF;
  background-color: #766DAF;
}
.highlight .kc {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .kn {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .kp {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .kr {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .gh {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .gu {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .kt {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .no {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nc {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nd {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nn {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .bp {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .ne {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nl {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .nt {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .ld {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .ss {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .s, .highlight .sb, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .sr, .highlight .s1 {
  color: #fff0a6;
  font-weight: bold;
}
.highlight .se {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .sc {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .si {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nb {
  font-weight: bold;
}
.highlight .ni {
  color: #999999;
  font-weight: bold;
}
.highlight .w {
  color: #BBBBBB;
}
.highlight .nf {
  color: #41ff5b;
}
.highlight .py {
  color: #41ff5b;
}
.highlight .na {
  color: #41ff5b;
}
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi {
  color: #41ff5b;
  font-weight: bold;
}
    </style>
    <link href="//moesif.github.io/apidocs/stylesheets/screen-40026339.css" rel="stylesheet" media="screen" />
    <link href="//moesif.github.io/apidocs/stylesheets/print-953c62d9.css" rel="stylesheet" media="print" />
      <script src="//moesif.github.io/apidocs/javascripts/all-ee87ef62.js"></script>

    <!-- begin SEO -->
      <meta name="description" content="API Reference Documentation">
      <meta property="og:locale" content="en">
    <meta property="og:site_name" content="Moesif API Documentation">
    <meta property="og:title" content="Moesif API Documentation">
    <meta name="twitter:title" content="Moesif API Documentation">
      <link rel="canonical" href="https://www.moesif.com/docs/api">
      <meta property="og:url" content="https://www.moesif.com/docs/api">
      <meta name="twitter:url" content="https://www.moesif.com/docs/api">
      <meta name="twitter:site" content="MoesifHQ">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://www.moesif.com/static/og_image.png">
        <meta property="fb:app_id" content="232433703771289">
      <meta property="og:image" content="https://www.moesif.com/static/og_image.png">

      <script type="application/ld+json">
        {
          "@context": "http://schema.org",
          "@type": "Organization",
          "name" : "Moesif API Documentation",
            "url": "https://www.moesif.com",
          "description": "API Reference Documentation",
          "email": "support@moesif.com",
          "legalName" : "Moesif, Inc",
            "contactPoint": [{
              "@type": "ContactPoint",
              "email": "support@moesif.com",
              "contactType": "customer service",
              "telephone": "+1-415-851-0943"
            }],
            "logo": "https://www.moesif.com/static/og_image.png",
          "sameAs": [
              "https://facebook.com/MoesifHQ",
              "https://github.com/Moesif",
              "https://twitter.com/MoesifHQ"
          ],
            "address": {
              "@type": "PostalAddress",
              "streetAddress": "77 Van Ness Ave STE 101-1513",
              "addressLocality": "San Francisco",
              "addressRegion": "California",
              "postOfficeBoxNumber": 94102
            }
        }
      </script>
    <!-- end SEO -->

      <!-- begin Google Universal Analytics -->
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-78525975-1', 'auto');
        ga('send', 'pageview');
      </script>
      <!-- end Google Universal Analytics-->
  </head>

  <body class="index" data-languages="[&quot;yaml&quot;,&quot;javascript&quot;,&quot;python&quot;,&quot;ruby&quot;,&quot;php&quot;,&quot;go&quot;,&quot;csharp&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="//moesif.github.io/apidocs/images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
<a href="https://www.moesif.com">          <img src="//moesif.github.io/apidocs/images/logo-3ea9ea04.svg" class="tocify-wrapper--img" alt="Logo" />
</a>        <div class="lang-selector">
              <a href="#" data-language-name="yaml">JSON</a>
              <a href="#" data-language-name="javascript">Javascript</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="ruby">Ruby</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="go">Go</a>
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="java">Java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='/docs'>Back to Docs</a></li>
            <li><a href='/wrap'>My Dashboard</a></li>
            <li><a href='http://status.moesif.com'>API Status</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="moesif-api-reference">Moesif API Reference</h1>

<p><em>Debugging RESTful APIs Made Easier.</em></p>

<p>This API reference centers around v1 of the Moesif REST API and API Client Libs for common languages.
For an overview on Moesif and higher level SDKs for common frameworks, please checkout the <a href="/docs">Developer Docs</a></p>

<p>This RESTful API is open for developers who want to build new extensions and clients. Apps can integrate with Moesif as long as it can send HTTP requests.</p>

<p><a href="http://www.programmableweb.com/api/moesif"><img src="//moesif.github.io/apidocs/images/programmable-web-722cea20.png" alt="Moesif on Programmable Web" /></a></p>

          <h1 id="overview">Overview</h1>

<h2 id="api-base-url">API Base URL</h2>

<p>The base url for v1 of the API is:</p>

<p><strong><a href="https://api.moesif.net/v1">https://api.moesif.net/v1</a></strong></p>

<p>Prepend all endpoints below with this base url. Both HTTPS and HTTP requests are supported.
Calls to our API are routed to the nearest datacenter.</p>

<h2 id="authentication">Authentication</h2>

<p>Authentication is done via HTTP Headers.
The same Application Id token can be used for the cloud proxy server, the client libs, and the REST API. Add the following header to all API Calls.</p>

<p><code class="prettyprint">X-Moesif-Application-Id: my_application_id</code></p>

<aside class="notice">
Replace <i>my_application_id</i> with your real Application Id. You can find your Application Id under <i>Menu -> App Setup Details</i>
</aside>

<h2 id="request-format">Request Format</h2>

<p>For POST, PUT, and PATCH requests, the request body should be JSON. The <code class="prettyprint">Content-Type</code> header
should be set to <code class="prettyprint">application/json</code></p>

<h2 id="response-format">Response Format</h2>

<p>The response body format is always JSON. Successful operations are seen via 2xx status code. Successful creation of new objects will be seen via 201. 4xx status implies client error.</p>

<p>The REST API JSON payloads uses <em>underscore</em> format (i.e some_key). Many of the API libs
may use camelCase, PascalCase, or other as their model entities. Please
select the respective language tab.</p>

<h2 id="cors">CORS</h2>

<p><a href="/blog/technical/cors/Authoritative-Guide-to-CORS-Cross-Origin-Resource-Sharing-for-REST-APIs/">CORS</a> is enabled on this API. <code class="prettyprint">Access-Control-Allow-Origin</code> is set to *</p>

<h2 id="list-of-endpoints">List of Endpoints</h2>

<table><thead>
<tr>
<th>URL</th>
<th>VERB</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>/events</td>
<td>POST</td>
<td>Create a single API Call to Moesif</td>
</tr>
<tr>
<td>/events/batch</td>
<td>POST</td>
<td>Create a batch of API Calls to Moesif</td>
</tr>
</tbody></table>

          <h2 id="errors">Errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request has an incorrect parameter</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your <code class="prettyprint">X-Moesif-Application-Id</code> header is incorrect</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You accessed a resource not allowed with your key</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a resource with an invalid HTTP method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that is not JSON format, Moesif&rsquo;s API supports JSON</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The resource requested has been removed from our servers</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Please <a href="mailto:support@moesif.com">contact us</a></td>
</tr>
</tbody></table>

          <h1 id="api-libs">API Libs</h1>

<p>These open-source libs are advanced wrappers for the Moesif REST API and are the building blocks for the higher level server and mobile SDKs.  These libs can be used similarly to other analytics event libs with a <code class="prettyprint">sendEvent()</code> call which sends event data to api.moesif.net. These libraries support both sync and async operations.</p>

<h2 id="important">Important</h2>

<aside class="warning">
Moesif has Middleware SDKs designed for common Web API frameworks which are easier to integrate for common environments.
Checkout Moesif&rsquo;s <a href="https://www.moesif.com/docs/server-integration/">Server Middleware SDK Docs</a> for more info.
</aside>

<h2 id="how-to-install">How to Install</h2>
<pre class="highlight plaintext"><code>Pick a language at the top
</code></pre>
<blockquote class="lang-specific java">
<a href="https://jitpack.io/#Moesif/moesifapi-java">
  <img src="https://jitpack.io/v/Moesif/moesifapi-java.svg">
</a>
<br><br>
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-java">https://github.com/moesif/moesifapi-java</a>
</blockquote>
<pre class="highlight java tab-java"><code><span class="c1">// Step 1. Add the JitPack repository to your build file such as pom.xml</span>
<span class="o">&lt;</span><span class="n">repositories</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">repository</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">id</span><span class="o">&gt;</span><span class="n">jitpack</span><span class="o">.</span><span class="na">io</span><span class="o">&lt;/</span><span class="n">id</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="nl">https:</span><span class="c1">//jitpack.io&lt;/url&gt;</span>
  <span class="o">&lt;/</span><span class="n">repository</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">repositories</span><span class="o">&gt;</span>


<span class="c1">// Step 2. Add the dependency</span>
<span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">com</span><span class="o">.</span><span class="na">moesif</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">moesifapi</span><span class="o">-</span><span class="n">java</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">2</span><span class="o">&lt;/</span><span class="n">version</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>

</code></pre>
<blockquote class="lang-specific javascript">
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-nodejs">https://github.com/moesif/moesifapi-nodejs</a><br><br><br>
Package:<br><br>
<a href="https://www.npmjs.com/package/moesifapi">https://www.npmjs.com/package/moesifapi</a>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// To Install Moesif Lib, run in your terminal</span>

<span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">save</span> <span class="nx">moesifapi</span>
</code></pre>
<blockquote class="lang-specific python">
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-python">https://github.com/moesif/moesifapi-python</a><br><br><br>
Package:<br><br>
<a href="https://pypi.python.org/pypi/moesifapi">https://pypi.python.org/pypi/moesifapi</a>
</blockquote>
<pre class="highlight python tab-python"><code><span class="c"># To Install Moesif Lib, run in your terminal</span>

<span class="n">pip</span> <span class="n">install</span> <span class="n">moesifapi</span>
</code></pre>
<blockquote class="lang-specific ruby">
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-ruby">https://github.com/moesif/moesifapi-ruby</a></a><br><br><br>
Package:<br><br>
<a href="https://rubygems.org/gems/moesif_api">https://rubygems.org/gems/moesif_api</a>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="c1"># To Install Moesif Lib, run in your terminal</span>

<span class="n">gem</span> <span class="n">install</span> <span class="n">moesif_api</span>
</code></pre>
<blockquote class="lang-specific csharp">
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-csharp">https://github.com/moesif/moesifapi-csharp</a></a><br><br><br>
Package:<br><br>
<a href="https://www.nuget.org/packages/Moesif.Api/">https://www.nuget.org/packages/Moesif.Api/</a>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="c1">// Install the Nuget Package via Package Manager Console:</span>

<span class="n">Install</span><span class="p">-</span><span class="n">Package</span> <span class="n">Moesif</span><span class="p">.</span><span class="n">Api</span>
</code></pre>
<blockquote class="lang-specific go">
Source Code:<br><br>
<a href="https://github.com/Moesif/moesifapi-go">https://github.com/Moesif/moesifapi-go</a>
</blockquote>
<pre class="highlight go tab-go"><code><span class="x">
</span><span class="k">go</span><span class="x"> </span><span class="n">get</span><span class="x"> </span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">moesif</span><span class="o">/</span><span class="n">moesifapi</span><span class="o">-</span><span class="k">go</span><span class="p">;</span><span class="x">
</span></code></pre>
<blockquote class="lang-specific php">
Source Code:<br><br>
<a href="https://github.com/Moesif/moesifapi-php">https://github.com/Moesif/moesifapi-php</a>
</blockquote>
<pre class="highlight php tab-php"><code>// Install via Composer

composer require moesif/moesifapi
</code></pre>
<p>Select your language on the right:</p>

<ul>
<li>Javascript</li>
<li>Python</li>
<li>Ruby</li>
<li>PHP</li>
<li>Go</li>
<li>C#</li>
<li>Java</li>
</ul>

<p>The SDKs are open-source and available on GitHub.</p>

<aside class="notice">
You can find your Application Id under <i>Menu -> App Setup Details</i>
</aside>

          <h1 id="event-log-api">Event Log API</h1>

<h2 id="create-an-event">Create an Event</h2>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/events</code></strong></p>

<p>Log a single API event to Moesif.
The request body itself is a single API Call object consisting of both the HTTP request and HTTP response.</p>

<aside class="info">
Replace <i>my_application_id</i> with your real Application Id
</aside>

<blockquote class="lang-specific yaml">
Example Request Body:
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">request"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2017-02-22T04:45:42.914"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">uri"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://api.acmeinc.com/items/83738/reviews/"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">verb"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">POST"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">api_version"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1.1.0"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">61.48.220.123"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">Host"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">api.acmeinc.com"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Accept"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*/*"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Connection"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Keep-Alive"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Content-Type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">application/json"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Content-Length"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">126"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Accept-Encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">gzip"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">items"</span><span class="pi">:</span> <span class="pi">[</span>
        <span class="pi">{</span>
          <span class="s2">"</span><span class="s">direction_type"</span><span class="pi">:</span> <span class="nv">1</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">item_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">fwdsfrf"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">liked"</span><span class="pi">:</span> <span class="nv">false</span>
        <span class="pi">},</span>
        <span class="pi">{</span>
          <span class="s2">"</span><span class="s">direction_type"</span><span class="pi">:</span> <span class="nv">2</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">item_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">d43d3f"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">liked"</span><span class="pi">:</span> <span class="nv">true</span>
        <span class="pi">}</span>
      <span class="pi">]</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">transfer_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="pi">},</span>
  <span class="s2">"</span><span class="s">response"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2017-02-22T04:45:42.914"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">status"</span><span class="pi">:</span> <span class="nv">500</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">Vary"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Accept-Encoding"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Pragma"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">no-cache"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Expires"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">-1"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Content-Type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">application/json;</span><span class="nv"> </span><span class="s">charset=utf-8"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Cache-Control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">no-cache"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">Error"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">InvalidArgumentException"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">Message"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Missing</span><span class="nv"> </span><span class="s">field</span><span class="nv"> </span><span class="s">location"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">transfer_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="pi">},</span>
  <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mndug437f43"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ng]s98y18cx98q3yhwmnhcfx43f"</span>
<span class="pi">}</span>

</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Import the Library</span>
<span class="n">MoesifAPIClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"my_application_id"</span><span class="o">);</span>
<span class="n">ApiController</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">getClient</span><span class="o">().</span><span class="na">getApi</span><span class="o">();</span>


<span class="c1">// Create API Event Model and set fields</span>
<span class="n">EventModel</span> <span class="n">myEventModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventModel</span><span class="o">();</span>
<span class="n">myEventModel</span><span class="o">.</span><span class="na">setTags</span><span class="o">(</span><span class="s">"user"</span><span class="o">);</span> <span class="c1">// ...</span>

<span class="c1">// Synchronous Call to Create Event</span>
<span class="n">controller</span><span class="o">.</span><span class="na">createEvent</span><span class="o">(</span><span class="n">myEventModel</span><span class="o">);</span>


<span class="c1">// Asynchronous Call to Create Event</span>
<span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">callBack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Object</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Event Added Successfully</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Throw exception or print error</span>
    <span class="o">}</span>
<span class="o">};</span>

<span class="n">controller</span><span class="o">.</span><span class="na">createEventAsync</span><span class="o">(</span><span class="n">myEventModel</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">///////////////////////////</span>
<span class="c1">// 1. Import the module: //</span>
<span class="c1">///////////////////////////</span>
    <span class="kd">var</span> <span class="nx">moesifapi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesifapi'</span><span class="p">);</span>


<span class="c1">////////////////////////////////</span>
<span class="c1">// 2. Configure ApplicationId //</span>
<span class="c1">////////////////////////////////</span>
    <span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">configuration</span><span class="p">;</span>
    <span class="nx">config</span><span class="p">.</span><span class="nx">ApplicationId</span> <span class="o">=</span> <span class="nx">my_application_id</span><span class="p">;</span>


<span class="c1">///////////////////////////////</span>
<span class="c1">// 3. Create API Event Model //</span>
<span class="c1">///////////////////////////////</span>
    <span class="kd">var</span> <span class="nx">reqHeaders</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{'</span> <span class="o">+</span>
            <span class="s1">'"Host": "api.acmeinc.com",'</span> <span class="o">+</span>
            <span class="s1">'"Accept": "*/*",'</span> <span class="o">+</span>
            <span class="s1">'"Connection": "Keep-Alive",'</span> <span class="o">+</span>
            <span class="s1">'"User-Agent": "Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)",'</span> <span class="o">+</span>
            <span class="s1">'"Content-Type": "application/json",'</span> <span class="o">+</span>
            <span class="s1">'"Content-Length": "126",'</span> <span class="o">+</span>
            <span class="s1">'"Accept-Encoding": "gzip"'</span> <span class="o">+</span>
        <span class="s1">'}'</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">reqBody</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span> <span class="s1">'{'</span> <span class="o">+</span>
            <span class="s1">'"items": ['</span> <span class="o">+</span>
                <span class="s1">'{'</span> <span class="o">+</span>
                    <span class="s1">'"type": 1,'</span> <span class="o">+</span>
                    <span class="s1">'"id": "fwfrf"'</span> <span class="o">+</span>
                <span class="s1">'},'</span> <span class="o">+</span>
                <span class="s1">'{'</span> <span class="o">+</span>
                    <span class="s1">'"type": 2,'</span> <span class="o">+</span>
                    <span class="s1">'"id": "d43d3f"'</span> <span class="o">+</span>
                <span class="s1">'}'</span> <span class="o">+</span>
            <span class="s1">']'</span> <span class="o">+</span>
        <span class="s1">'}'</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">rspHeaders</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{'</span> <span class="o">+</span>
            <span class="s1">'"Date": "Tue, 23 Jan 2017 23:46:49 GMT",'</span> <span class="o">+</span>
            <span class="s1">'"Vary": "Accept-Encoding",'</span> <span class="o">+</span>
            <span class="s1">'"Pragma": "no-cache",'</span> <span class="o">+</span>
            <span class="s1">'"Expires": "-1",'</span> <span class="o">+</span>
            <span class="s1">'"Content-Type": "application/json; charset=utf-8",'</span> <span class="o">+</span>
            <span class="s1">'"Cache-Control": "no-cache"'</span> <span class="o">+</span>
        <span class="s1">'}'</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">rspBody</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{'</span> <span class="o">+</span>
            <span class="s1">'"Error": "InvalidArgumentException",'</span> <span class="o">+</span>
            <span class="s1">'"Message": "Missing field field_a"'</span> <span class="o">+</span>
        <span class="s1">'}'</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">eventReq</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">time</span><span class="p">:</span> <span class="s2">"2017-09-09T04:45:42.914"</span><span class="p">,</span>
        <span class="na">uri</span><span class="p">:</span> <span class="s2">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
        <span class="na">verb</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
        <span class="na">apiVersion</span><span class="p">:</span> <span class="s2">"1.1.0"</span><span class="p">,</span>
        <span class="na">ipAddress</span><span class="p">:</span> <span class="s2">"61.48.220.123"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="nx">reqHeaders</span><span class="p">,</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">reqBody</span>
    <span class="p">};</span>

    <span class="kd">var</span> <span class="nx">eventRsp</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">time</span><span class="p">:</span> <span class="s2">"2017-02-22T04:45:42.914"</span><span class="p">,</span>
        <span class="na">status</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="nx">rspHeaders</span><span class="p">,</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">rspBody</span>
    <span class="p">};</span>

    <span class="kd">var</span> <span class="nx">eventModel</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">request</span><span class="p">:</span> <span class="nx">eventReq</span><span class="p">,</span>
        <span class="na">response</span><span class="p">:</span> <span class="nx">eventRsp</span><span class="p">,</span>
        <span class="na">userId</span><span class="p">:</span> <span class="s2">"my_user_id"</span><span class="p">,</span>
        <span class="na">sessionToken</span><span class="p">:</span> <span class="s2">"my_application_id"</span>
    <span class="p">};</span>


<span class="c1">//////////////////////////</span>
<span class="c1">// 4. Create new event: //</span>
<span class="c1">//////////////////////////</span>
    <span class="kd">var</span> <span class="nx">controller</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">ApiController</span><span class="p">;</span>

    <span class="c1">// Create a single event</span>
    <span class="nx">controller</span><span class="p">.</span><span class="nx">createEvent</span><span class="p">(</span><span class="k">new</span> <span class="nx">EventModel</span><span class="p">(</span><span class="nx">eventModel</span><span class="p">),</span> <span class="nx">callback</span><span class="p">);</span>

    <span class="c1">// Create batched set of events</span>
    <span class="nx">controller</span><span class="p">.</span><span class="nx">createEventsBatch</span><span class="p">(</span><span class="nx">someEventModelList</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">from</span> <span class="nn">moesifapi.moesif_api_client</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">moesifapi.models</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">MoesifAPIClient</span><span class="p">(</span><span class="n">my_application_id</span><span class="p">)</span>
<span class="n">api_client</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">api</span>

<span class="c"># Note: we recommend sending all API Calls via MVC framework middleware.</span>

<span class="n">req_headers</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span><span class="s">"""  {
  "Host": "api.acmeinc.com",
  "Accept": "*/*",
  "Connection": "Keep-Alive",
  "User-Agent": "Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)",
  "Content-Type": "application/json",
  "Content-Length": "126",
  "Accept-Encoding": "gzip"
} """</span><span class="p">)</span>

<span class="n">req_body</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span> <span class="s">"""{
  "items": [
    {
      "type": 1,
      "id": "fwfrf"
    },
    {
      "type": 2,
      "id": "d43d3f"
    }
  ]
}"""</span><span class="p">)</span>

<span class="n">rsp_headers</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span><span class="s">"""  {
    "Date": "Tue, 23 Jan 2017 23:46:49 GMT",
    "Vary": "Accept-Encoding",
    "Pragma": "no-cache",
    "Expires": "-1",
    "Content-Type": "application/json; charset=utf-8"
    "Cache-Control": "no-cache"
  } """</span><span class="p">)</span>

<span class="n">rsp_body</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span> <span class="s">"""{
    "Error": "InvalidArgumentException",
    "Message": "Missing field field_a"
  }"""</span><span class="p">)</span>


<span class="n">event_req</span> <span class="o">=</span> <span class="n">EventRequestModel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="s">"2017-02-22T04:45:42.914"</span><span class="p">,</span>
    <span class="n">uri</span> <span class="o">=</span> <span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
    <span class="n">verb</span> <span class="o">=</span> <span class="s">"PATCH"</span><span class="p">,</span>
    <span class="n">api_version</span> <span class="o">=</span> <span class="s">"1.1.0"</span><span class="p">,</span>
    <span class="n">ip_address</span> <span class="o">=</span> <span class="s">"61.48.220.123"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">req_headers</span><span class="p">,</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">req_body</span><span class="p">)</span>

<span class="n">event_rsp</span> <span class="o">=</span> <span class="n">EventResponseModel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="s">"2017-02-22T04:45:42.914"</span><span class="p">,</span>
    <span class="n">status</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">rsp_headers</span><span class="p">,</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">rsp_body</span><span class="p">)</span>

<span class="n">event_model</span> <span class="o">=</span> <span class="n">EventModel</span><span class="p">(</span><span class="n">request</span> <span class="o">=</span> <span class="n">event_req</span><span class="p">,</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">event_rsp</span><span class="p">,</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="s">"my_user_id"</span><span class="p">,</span>
    <span class="n">session_token</span> <span class="o">=</span> <span class="s">"my_application_id"</span><span class="p">)</span>


<span class="c"># Perform the API call through the SDK function</span>
<span class="n">api_client</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">event_model</span><span class="p">)</span>


<span class="n">controller</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">my_api_event_model</span><span class="p">)</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'moesif_api'</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="no">MoesifApi</span><span class="o">::</span><span class="no">MoesifAPIClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">my_application_id</span><span class="p">)</span>
<span class="n">api_controller</span> <span class="o">=</span> <span class="n">api_client</span><span class="p">.</span><span class="nf">api_controller</span>

<span class="n">req_headers</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'{'</span><span class="p">\</span>
  <span class="s1">'"Host": "api.acmeinc.com",'</span><span class="p">\</span>
  <span class="s1">'"Accept": "*/*",'</span><span class="p">\</span>
  <span class="s1">'"Connection": "Keep-Alive",'</span><span class="p">\</span>
  <span class="s1">'"User-Agent": "Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)",'</span><span class="p">\</span>
  <span class="s1">'"Content-Type": "application/json",'</span><span class="p">\</span>
  <span class="s1">'"Content-Length": "126",'</span><span class="p">\</span>
  <span class="s1">'"Accept-Encoding": "gzip"'</span><span class="p">\</span>
<span class="s1">'}'</span><span class="p">)</span>

<span class="n">req_body</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span> <span class="s1">'{'</span><span class="p">\</span>
  <span class="s1">'"items": ['</span><span class="p">\</span>
    <span class="s1">'{'</span><span class="p">\</span>
      <span class="s1">'"type": 1,'</span><span class="p">\</span>
      <span class="s1">'"id": "fwfrf"'</span><span class="p">\</span>
    <span class="s1">'},'</span><span class="p">\</span>
    <span class="s1">'{'</span><span class="p">\</span>
      <span class="s1">'"type": 2,'</span><span class="p">\</span>
      <span class="s1">'"id": "d43d3f"'</span><span class="p">\</span>
    <span class="s1">'}'</span><span class="p">\</span>
  <span class="s1">']'</span><span class="p">\</span>
<span class="s1">'}'</span><span class="p">)</span>

<span class="n">rsp_headers</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'{'</span><span class="p">\</span>
  <span class="s1">'"Date": "Tue, 23 Jan 2017 23:46:49 GMT",'</span><span class="p">\</span>
                <span class="s1">'"Vary": "Accept-Encoding",'</span><span class="p">\</span>
  <span class="s1">'"Pragma": "no-cache",'</span><span class="p">\</span>
  <span class="s1">'"Expires": "-1",'</span><span class="p">\</span>
  <span class="s1">'"Content-Type": "application/json; charset=utf-8",'</span><span class="p">\</span>
                <span class="s1">'"Cache-Control": "no-cache"'</span><span class="p">\</span>
<span class="s1">'}'</span><span class="p">)</span>

<span class="n">rsp_body</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'{'</span><span class="p">\</span>
  <span class="s1">'"Error": "InvalidArgumentException",'</span><span class="p">\</span>
  <span class="s1">'"Message": "Missing field field_a"'</span><span class="p">\</span>
<span class="s1">'}'</span><span class="p">)</span>


<span class="n">event_req</span> <span class="o">=</span> <span class="no">EventRequestModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">time</span> <span class="o">=</span> <span class="s2">"2017-02-22T04:45:42.914"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">uri</span> <span class="o">=</span> <span class="s2">"https://api.acmeinc.com/items/reviews/"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">verb</span> <span class="o">=</span> <span class="s2">"PATCH"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">api_version</span> <span class="o">=</span> <span class="s2">"1.1.0"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">ip_address</span> <span class="o">=</span> <span class="s2">"61.48.220.123"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">headers</span> <span class="o">=</span> <span class="n">req_headers</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">req_body</span>

<span class="n">event_rsp</span> <span class="o">=</span> <span class="no">EventResponseModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">event_rsp</span><span class="p">.</span><span class="nf">time</span> <span class="o">=</span> <span class="s2">"2017-02-22T04:45:42.914"</span>
<span class="n">event_rsp</span><span class="p">.</span><span class="nf">status</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">event_rsp</span><span class="p">.</span><span class="nf">headers</span> <span class="o">=</span> <span class="n">rsp_headers</span>
<span class="n">event_rsp</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">rsp_body</span>

<span class="n">event_model</span> <span class="o">=</span> <span class="no">EventModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">event_model</span><span class="p">.</span><span class="nf">request</span> <span class="o">=</span> <span class="n">event_req</span>
<span class="n">event_model</span><span class="p">.</span><span class="nf">response</span> <span class="o">=</span> <span class="n">event_rsp</span>
<span class="n">event_model</span><span class="p">.</span><span class="nf">user_id</span> <span class="o">=</span><span class="s2">"my_user_id"</span>
<span class="n">event_model</span><span class="p">.</span><span class="nf">session_token</span> <span class="o">=</span> <span class="s2">"my_application_id"</span>

<span class="c1"># Perform the API call through the SDK function</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">api_controller</span><span class="p">.</span><span class="nf">create_event</span><span class="p">(</span><span class="n">event_model</span><span class="p">)</span>

</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">Moesif.Api</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Moesif.Api.Helpers</span><span class="p">;</span>

<span class="c1">// Create client instance using your ApplicationId</span>
<span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MoesifAPIClient</span><span class="p">(</span><span class="s">"my_application_id"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">apiClient</span> <span class="p">=</span> <span class="nf">GetClient</span><span class="p">().</span><span class="n">Api</span><span class="p">;</span>

<span class="c1">// Parameters for the API call</span>
<span class="kt">var</span> <span class="n">reqHeaders</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Host</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">api</span><span class="p">.</span><span class="n">acmeinc</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Accept</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="p">*/*</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Connection</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Keep</span><span class="p">-</span><span class="n">Alive</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">User</span><span class="p">-</span><span class="n">Agent</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Dalvik</span><span class="p">/</span><span class="m">2.1</span><span class="p">.</span><span class="m">0</span> <span class="p">(</span><span class="n">Linux</span><span class="p">;</span> <span class="n">U</span><span class="p">;</span> <span class="n">Android</span> <span class="m">5.0</span><span class="p">.</span><span class="m">2</span><span class="p">;</span> <span class="n">C6906</span> <span class="n">Build</span><span class="p">/</span><span class="m">14.5</span><span class="p">.</span><span class="n">A</span><span class="p">.</span><span class="m">0.242</span><span class="p">)</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Length</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">126</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Accept</span><span class="p">-</span><span class="n">Encoding</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">gzip</span><span class="s">""</span>
    <span class="p">}</span><span class="s">");
</span>
<span class="kt">var</span> <span class="n">reqBody</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">items</span><span class="s">""</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s">""</span><span class="n">type</span><span class="s">""</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
                <span class="s">""</span><span class="n">id</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">fwfrf</span><span class="s">""</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s">""</span><span class="n">type</span><span class="s">""</span><span class="p">:</span> <span class="m">2</span><span class="p">,</span>
                <span class="s">""</span><span class="n">id</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">d43d3f</span><span class="s">""</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span><span class="s">");
</span>
<span class="kt">var</span> <span class="n">rspHeaders</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Date</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Tue</span><span class="p">,</span> <span class="m">23</span> <span class="n">Jan</span> <span class="m">2017</span> <span class="m">23</span><span class="p">:</span><span class="m">46</span><span class="p">:</span><span class="m">49</span> <span class="n">GMT</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Vary</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Accept</span><span class="p">-</span><span class="n">Encoding</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Pragma</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">no</span><span class="p">-</span><span class="n">cache</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Expires</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="p">-</span><span class="m">1</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="p">;</span> <span class="n">charset</span><span class="p">=</span><span class="n">utf</span><span class="p">-</span><span class="m">8</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Cache</span><span class="p">-</span><span class="n">Control</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">no</span><span class="p">-</span><span class="n">cache</span><span class="s">""</span>
    <span class="p">}</span> <span class="s">");
</span>
<span class="kt">var</span> <span class="n">rspBody</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Error</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">InvalidArgumentException</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Message</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Missing</span> <span class="n">field</span> <span class="n">field_a</span><span class="s">""</span>
    <span class="p">}</span><span class="s">");
</span>

<span class="kt">var</span> <span class="n">eventReq</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventRequestModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Time</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2017-02-22T04:45:42.914"</span><span class="p">),</span>
    <span class="n">Uri</span> <span class="p">=</span> <span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
    <span class="n">Verb</span> <span class="p">=</span> <span class="s">"PATCH"</span><span class="p">,</span>
    <span class="n">ApiVersion</span> <span class="p">=</span> <span class="s">"1.1.0"</span><span class="p">,</span>
    <span class="n">IpAddress</span> <span class="p">=</span> <span class="s">"61.48.220.123"</span><span class="p">,</span>
    <span class="n">Headers</span> <span class="p">=</span> <span class="n">reqHeaders</span><span class="p">,</span>
    <span class="n">Body</span> <span class="p">=</span> <span class="n">reqBody</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">eventRsp</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventResponseModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Time</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2017-02-22T04:45:42.914"</span><span class="p">),</span>
    <span class="n">Status</span> <span class="p">=</span> <span class="m">500</span><span class="p">,</span>
    <span class="n">Headers</span> <span class="p">=</span> <span class="n">rspHeaders</span><span class="p">,</span>
    <span class="n">Body</span> <span class="p">=</span> <span class="n">rspBody</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">eventModel</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Request</span> <span class="p">=</span> <span class="n">eventReq</span><span class="p">,</span>
    <span class="n">Response</span> <span class="p">=</span> <span class="n">eventRsp</span><span class="p">,</span>
    <span class="n">UserId</span> <span class="p">=</span> <span class="s">"my_user_id"</span><span class="p">,</span>
    <span class="n">SessionToken</span> <span class="p">=</span> <span class="s">"my_application_id"</span>
<span class="p">};</span>

<span class="c1">//////////////////////////////////////</span>
<span class="c1">// Example for making an async call //     </span>
<span class="c1">//////////////////////////////////////</span>
<span class="k">try</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">controller</span><span class="p">.</span><span class="nf">CreateEventAsync</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">APIException</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle Error</span>
<span class="p">};</span>

<span class="c1">///////////////////////////////////////////</span>
<span class="c1">// Example for making a synchronous call //</span>
<span class="c1">///////////////////////////////////////////</span>
<span class="k">try</span>
<span class="p">{</span>
    <span class="n">controller</span><span class="p">.</span><span class="nf">CreateEvent</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">APIException</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle Error</span>
<span class="p">};</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go/models"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"time"</span><span class="x">

</span><span class="n">apiClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">moesifapi</span><span class="o">.</span><span class="n">NewAPI</span><span class="p">(</span><span class="s">"your_moesif_application_id"</span><span class="p">)</span><span class="x">

</span><span class="n">reqTime</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">UTC</span><span class="p">()</span><span class="x">
</span><span class="n">apiVersion</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"1.0"</span><span class="x">
</span><span class="n">ipAddress</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"61.48.220.123"</span><span class="x">

</span><span class="n">req</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventRequestModel</span><span class="p">{</span><span class="x">
  </span><span class="n">Time</span><span class="o">:</span><span class="x">       </span><span class="o">&amp;</span><span class="n">reqTime</span><span class="p">,</span><span class="x">
  </span><span class="n">Uri</span><span class="o">:</span><span class="x">        </span><span class="s">"https://api.acmeinc.com/widgets"</span><span class="p">,</span><span class="x">
  </span><span class="n">Verb</span><span class="o">:</span><span class="x">       </span><span class="s">"GET"</span><span class="p">,</span><span class="x">
  </span><span class="n">ApiVersion</span><span class="o">:</span><span class="x"> </span><span class="o">&amp;</span><span class="n">apiVersion</span><span class="p">,</span><span class="x">
  </span><span class="n">IpAddress</span><span class="o">:</span><span class="x">  </span><span class="o">&amp;</span><span class="n">ipAddress</span><span class="p">,</span><span class="x">
  </span><span class="n">Headers</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
    </span><span class="s">"ReqHeader1"</span><span class="o">:</span><span class="x"> </span><span class="s">"ReqHeaderValue1"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
  </span><span class="n">Body</span><span class="o">:</span><span class="x"> </span><span class="no">nil</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">rspTime</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">UTC</span><span class="p">()</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="x"> </span><span class="o">*</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span><span class="x">

</span><span class="n">rsp</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventResponseModel</span><span class="p">{</span><span class="x">
  </span><span class="n">Time</span><span class="o">:</span><span class="x">      </span><span class="o">&amp;</span><span class="n">rspTime</span><span class="p">,</span><span class="x">
  </span><span class="n">Status</span><span class="o">:</span><span class="x">    </span><span class="m">500</span><span class="p">,</span><span class="x">
  </span><span class="n">IpAddress</span><span class="o">:</span><span class="x"> </span><span class="no">nil</span><span class="p">,</span><span class="x">
  </span><span class="n">Headers</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
    </span><span class="s">"RspHeader1"</span><span class="o">:</span><span class="x">     </span><span class="s">"RspHeaderValue1"</span><span class="p">,</span><span class="x">
    </span><span class="s">"Content-Type"</span><span class="o">:</span><span class="x">   </span><span class="s">"application/json"</span><span class="p">,</span><span class="x">
    </span><span class="s">"Content-Length"</span><span class="o">:</span><span class="x"> </span><span class="s">"1000"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
  </span><span class="n">Body</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
    </span><span class="s">"Key1"</span><span class="o">:</span><span class="x"> </span><span class="s">"Value1"</span><span class="p">,</span><span class="x">
    </span><span class="s">"Key2"</span><span class="o">:</span><span class="x"> </span><span class="m">12</span><span class="p">,</span><span class="x">
    </span><span class="s">"Key3"</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
      </span><span class="s">"Key3_1"</span><span class="o">:</span><span class="x"> </span><span class="s">"SomeValue"</span><span class="p">,</span><span class="x">
    </span><span class="p">},</span><span class="x">
  </span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">sessionToken</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"end user's API or Session Token"</span><span class="x">
</span><span class="n">userId</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"end user_id"</span><span class="x">

</span><span class="n">event</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventModel</span><span class="p">{</span><span class="x">
  </span><span class="n">Request</span><span class="o">:</span><span class="x">      </span><span class="n">req</span><span class="p">,</span><span class="x">
  </span><span class="n">Response</span><span class="o">:</span><span class="x">     </span><span class="n">rsp</span><span class="p">,</span><span class="x">
  </span><span class="n">SessionToken</span><span class="o">:</span><span class="x"> </span><span class="o">&amp;</span><span class="n">sessionToken</span><span class="p">,</span><span class="x">
  </span><span class="n">Tags</span><span class="o">:</span><span class="x">         </span><span class="no">nil</span><span class="p">,</span><span class="x">
  </span><span class="n">UserId</span><span class="o">:</span><span class="x">       </span><span class="o">&amp;</span><span class="n">userId</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">


</span><span class="c">// Queue the event (will queue the requests into batches and flush buffers periodically.)</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">QueueEvent</span><span class="p">(</span><span class="o">&amp;</span><span class="n">event</span><span class="p">)</span><span class="x">

</span><span class="c">// Create the event synchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">CreateEvent</span><span class="p">(</span><span class="o">&amp;</span><span class="n">event</span><span class="p">)</span><span class="x">

</span></code></pre><pre class="highlight php tab-php"><code>// 1. Use Composer to install the dependencies. See the section "How To Build".
// 2. See that you have configured your SDK correctly. See the section "How To Configure".
// 3. Depending on your project setup, you might need to include composer's autoloader
   in your PHP code to enable autoloading of classes.

   require_once "vendor/autoload.php";

// 4. Import the SDK client in your project:

    use MoesifApi\MoesifApiClient;

// 5. Instantiate the client. After this, you can now get the controllers and call the
    respective methods:

    $client = new MoesifApiClient();
    $controller = $client-&gt;getApi();

</code></pre>
<table><thead>
<tr>
<th>Fields</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request</td>
<td><strong>Required</strong></td>
<td>The object that specifies the request message</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.time</p></td>
<td><strong>Required</strong></td>
<td>Timestamp for the request in ISO 8601 format</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.uri</p></td>
<td><strong>Required</strong></td>
<td>Full uri such as <em>https://api.com/?query=string</em> including host, query string, etc</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.verb</p></td>
<td><strong>Required</strong></td>
<td>HTTP method used, i.e. <code class="prettyprint">GET</code>, <code class="prettyprint">POST</code></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.api_version</p></td>
<td>Optional</td>
<td>API Version you want to tag this request with such as <em>1.0.0</em></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.ip_address</p></td>
<td>Optional</td>
<td>IP address of the requester, If not set, we use the IP address of your logging API calls.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.headers</p></td>
<td>Optional</td>
<td>Headers of the  request as a <code class="prettyprint">Map&lt;string, string&gt;</code></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.body</p></td>
<td>Optional</td>
<td>Body of the request in JSON format or Base64 encoded binary data (see <em>transfer_encoding</em>)</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.transfer_encoding</p></td>
<td>Optional</td>
<td>A string that specifies the transfer encoding of Body being sent to Moesif. If field nonexistent, body assumed to be JSON or text. Only possible value is <em>base64</em> for sending binary data like protobuf</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>response</td>
<td>Optional</td>
<td>The object that specifies the response message, not set implies no response received such as a timeout.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.time</p></td>
<td><strong>Required</strong></td>
<td>Timestamp for the response in ISO 8601 format</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.status</p></td>
<td><strong>Required</strong></td>
<td>HTTP status code as number such as <em>200</em> or <em>500</em></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.ip_address</p></td>
<td>Optional</td>
<td>IP address of the responding server</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.headers</p></td>
<td><strong>Required</strong></td>
<td>Headers of the response as a <code class="prettyprint">Map&lt;string, string&gt;</code></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.body</p></td>
<td><strong>Required</strong></td>
<td>Body of the response in JSON format or Base64 encoded binary data (see <em>transfer_encoding</em>)</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.transfer_encoding</p></td>
<td>Optional</td>
<td>A string that specifies the transfer encoding of Body being sent to Moesif. If field nonexistent, body assumed to be JSON or text. Only possible value is <em>base64</em> for sending binary data like protobuf</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>session_token</td>
<td><em>Recommend</em></td>
<td>The end user session or API token such as a JWT or API key. Moesif will auto-detect the session token automatically if not set.</td>
</tr>
<tr>
<td>tags</td>
<td><em>Recommend</em></td>
<td>Comma separated list of tags for this API Call. <strong>See Supported Tags</strong></td>
</tr>
<tr>
<td>user_id</td>
<td><em>Recommend</em></td>
<td>Identifies this API call to a permanent user_id</td>
</tr>
</tbody></table>

<h3 id="supported-tags">Supported Tags:</h3>

<ol>
<li><code class="prettyprint">user</code></li>
<li>The <code class="prettyprint">user</code> tag is a hint to what is considered the user profile for the signed in end user.</li>
<li>Add to a <em>single</em> method/endpoint template which you consider has the most user metadata.</li>
<li>For example, if you have an endpoint that gets the authenticated user via <code class="prettyprint">GET /users/me</code>, add this header to those API Calls. The verb or url doesn&rsquo;t matter but the response body should have user&rsquo;s data.</li>
<li>You shouldn&rsquo;t add to more than one method/endpoint combination. i.e. Don&rsquo;t add it to both <code class="prettyprint">GET /users</code> and <code class="prettyprint">POST /users</code> unless both return the same JSON schema.</li>
</ol>

<h2 id="create-an-events-batch">Create an Events Batch</h2>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/events/batch</code></strong></p>

<p>Creates and logs a batch of API Calls to Moesif.
The request body itself is an array API Calls object consisting of both the HTTP request and HTTP response.</p>

<p>This API takes a list form of the same model defined in create single event.</p>

<p>The maximum batch size is <strong>12MB</strong>. Break up larger batches.</p>

<p>API Calls from multiple end users can be added in a single batch. Each Event in the list has independent <code class="prettyprint">session_token</code> and <code class="prettyprint">user_id</code> fields.</p>

<aside class="info">
Replace <i>my_application_id</i> with your real Application Id
</aside>

<blockquote class="lang-specific yaml">
Example Request Body:
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">[</span>
  <span class="pi">{</span>
        <span class="s2">"</span><span class="s">request"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2017-02-22T04:45:42.914"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">uri"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://api.acmeinc.com/items/83738/reviews/"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">verb"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">POST"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">api_version"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1.1.0"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">61.48.220.123"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
                <span class="s2">"</span><span class="s">Host"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">api.acmeinc.com"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Accept"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*/*"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Connection"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Keep-Alive"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Content-Type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">application/json"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Content-Length"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">126"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Accept-Encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">gzip"</span>
            <span class="pi">},</span>
            <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{</span>
                <span class="s2">"</span><span class="s">items"</span><span class="pi">:</span> <span class="pi">[</span>
                    <span class="pi">{</span>
                        <span class="s2">"</span><span class="s">direction_type"</span><span class="pi">:</span> <span class="nv">1</span><span class="pi">,</span>
                        <span class="s2">"</span><span class="s">item_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">fwdsfrf"</span><span class="pi">,</span>
                        <span class="s2">"</span><span class="s">liked"</span><span class="pi">:</span> <span class="nv">false</span>
                    <span class="pi">},</span>
                    <span class="pi">{</span>
                        <span class="s2">"</span><span class="s">direction_type"</span><span class="pi">:</span> <span class="nv">2</span><span class="pi">,</span>
                        <span class="s2">"</span><span class="s">item_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">d43d3f"</span><span class="pi">,</span>
                        <span class="s2">"</span><span class="s">liked"</span><span class="pi">:</span> <span class="nv">true</span>
                    <span class="pi">}</span>
                <span class="pi">]</span>
            <span class="pi">},</span>
        <span class="s2">"</span><span class="s">transfer_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="pi">},</span>
        <span class="s2">"</span><span class="s">response"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2017-02-22T04:45:42.914"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">status"</span><span class="pi">:</span> <span class="nv">500</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
                <span class="s2">"</span><span class="s">Vary"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Accept-Encoding"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Pragma"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">no-cache"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Expires"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">-1"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Content-Type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">application/json;</span><span class="nv"> </span><span class="s">charset=utf-8"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Cache-Control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">no-cache"</span>
            <span class="pi">},</span>
            <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{</span>
                <span class="s2">"</span><span class="s">Error"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">InvalidArgumentException"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">Message"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Missing</span><span class="nv"> </span><span class="s">field</span><span class="nv"> </span><span class="s">location"</span>
            <span class="pi">},</span>
        <span class="s2">"</span><span class="s">transfer_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="pi">},</span>
        <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mndug437f43"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ng]s98y18cx98q3yhwmnhcfx43f"</span>
  <span class="pi">}</span>
<span class="pi">]</span>

</code></pre><pre class="highlight java tab-java"><code><span class="c1">///////////////////////</span>
<span class="c1">// Create the Client //</span>
<span class="c1">///////////////////////</span>
    <span class="n">MoesifAPIClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"my_application_id"</span><span class="o">);</span>
    <span class="n">ApiController</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">getClient</span><span class="o">().</span><span class="na">getApi</span><span class="o">();</span>


<span class="c1">/////////////////////////////////</span>
<span class="c1">// Create the API Event Model: //</span>
<span class="c1">/////////////////////////////////</span>

        <span class="n">DateFormat</span> <span class="n">dateFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd'T'HH:mm:ss.SSS"</span><span class="o">);</span>

        <span class="c1">// Parameters for the API call</span>
        <span class="n">Object</span> <span class="n">reqHeaders</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
                    <span class="s">"\"Host\": \"api.acmeinc.com\","</span> <span class="o">+</span>
                    <span class="s">"\"Accept\": \"*/*\","</span> <span class="o">+</span>
                    <span class="s">"\"Connection\": \"Keep-Alive\","</span> <span class="o">+</span>
                    <span class="s">"\"User-Agent\": \"Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)\","</span> <span class="o">+</span>
                    <span class="s">"\"Content-Type\": \"application/json\","</span> <span class="o">+</span>
                    <span class="s">"\"Content-Length\": \"126\","</span> <span class="o">+</span>
                    <span class="s">"\"Accept-Encoding\": \"gzip\""</span> <span class="o">+</span>
                <span class="s">"}"</span><span class="o">);</span>

        <span class="n">Object</span> <span class="n">reqBody</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
                    <span class="s">"\"items\": ["</span> <span class="o">+</span>
                        <span class="s">"{"</span> <span class="o">+</span>
                            <span class="s">"\"type\": 1,"</span> <span class="o">+</span>
                            <span class="s">"\"id\": \"fwfrf\""</span> <span class="o">+</span>
                        <span class="s">"},"</span> <span class="o">+</span>
                        <span class="s">"{"</span> <span class="o">+</span>
                            <span class="s">"\"type\": 2,"</span> <span class="o">+</span>
                             <span class="s">"\"id\": \"d43d3f\""</span> <span class="o">+</span>
                         <span class="s">"}"</span> <span class="o">+</span>
                    <span class="s">"]"</span> <span class="o">+</span>
                <span class="s">"}"</span><span class="o">);</span>

        <span class="n">Object</span> <span class="n">rspHeaders</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
                    <span class="s">"\"Date\": \"Tue, 23 Jan 2017 23:46:49 GMT\","</span> <span class="o">+</span>
                    <span class="s">"\"Vary\": \"Accept-Encoding\","</span> <span class="o">+</span>
                    <span class="s">"\"Pragma\": \"no-cache\","</span> <span class="o">+</span>
                    <span class="s">"\"Expires\": \"-1\","</span> <span class="o">+</span>
                    <span class="s">"\"Content-Type\": \"application/json; charset=utf-8\","</span> <span class="o">+</span>
                    <span class="s">"\"Cache-Control\": \"no-cache\""</span> <span class="o">+</span>
                <span class="s">"}"</span><span class="o">);</span>

        <span class="n">Object</span> <span class="n">rspBody</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
                    <span class="s">"\"Error\": \"InvalidArgumentException\","</span> <span class="o">+</span>
                    <span class="s">"\"Message\": \"Missing field field_a\""</span> <span class="o">+</span>
                <span class="s">"}"</span><span class="o">);</span>


        <span class="n">EventRequestModel</span> <span class="n">eventReq</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventRequestModel</span><span class="o">();</span>

        <span class="n">eventReq</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">dateFormat</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"2017-02-22T04:45:42.914"</span><span class="o">));</span>
        <span class="n">eventReq</span><span class="o">.</span><span class="na">setUri</span><span class="o">(</span><span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="o">);</span>
        <span class="n">eventReq</span><span class="o">.</span><span class="na">setVerb</span><span class="o">(</span><span class="s">"PATCH"</span><span class="o">);</span>
        <span class="n">eventReq</span><span class="o">.</span><span class="na">setApiVersion</span><span class="o">(</span><span class="s">"1.1.0"</span><span class="o">);</span>
        <span class="n">eventReq</span><span class="o">.</span><span class="na">setIpAddress</span><span class="o">(</span><span class="s">"61.48.220.123"</span><span class="o">);</span>
        <span class="n">eventReq</span><span class="o">.</span><span class="na">setHeaders</span><span class="o">(</span><span class="n">reqHeaders</span><span class="o">);</span>
        <span class="n">eventReq</span><span class="o">.</span><span class="na">setBody</span><span class="o">(</span><span class="n">reqBody</span><span class="o">);</span>


        <span class="n">EventResponseModel</span> <span class="n">eventRsp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventResponseModel</span><span class="o">();</span>

        <span class="n">eventRsp</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">dateFormat</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"2017-02-22T04:45:42.914"</span><span class="o">));</span>
        <span class="n">eventRsp</span><span class="o">.</span><span class="na">setStatus</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
        <span class="n">eventRsp</span><span class="o">.</span><span class="na">setHeaders</span><span class="o">(</span><span class="n">rspHeaders</span><span class="o">);</span>
        <span class="n">eventRsp</span><span class="o">.</span><span class="na">setBody</span><span class="o">(</span><span class="n">rspBody</span><span class="o">);</span>

        <span class="n">EventModel</span> <span class="n">eventModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventModel</span><span class="o">();</span>
        <span class="n">eventModel</span><span class="o">.</span><span class="na">setRequest</span><span class="o">(</span><span class="n">eventReq</span><span class="o">);</span>
        <span class="n">eventModel</span><span class="o">.</span><span class="na">setResponse</span><span class="o">(</span><span class="n">eventRsp</span><span class="o">);</span>
        <span class="n">eventModel</span><span class="o">.</span><span class="na">setUserId</span><span class="o">(</span><span class="s">"my_user_id"</span><span class="o">);</span>
        <span class="n">eventModel</span><span class="o">.</span><span class="na">setSessionToken</span><span class="o">(</span><span class="s">"23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ng]s98y18cx98q3yhwmnhcfx43f"</span><span class="o">);</span>


<span class="c1">///////////////////////////////////////////</span>
<span class="c1">// Synchronous Call to create new event: //</span>
<span class="c1">///////////////////////////////////////////</span>

    <span class="n">controller</span><span class="o">.</span><span class="na">createEvent</span><span class="o">(</span><span class="n">eventModel</span><span class="o">);</span>

<span class="c1">////////////////////////////////////////////</span>
<span class="c1">// Asynchronous Call to create new event: //</span>
<span class="c1">////////////////////////////////////////////</span>

    <span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">callBack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;()</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Object</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">assertEquals</span><span class="o">(</span><span class="s">"Status is not 201"</span><span class="o">,</span>
                    <span class="mi">201</span><span class="o">,</span> <span class="n">context</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getStatusCode</span><span class="o">());</span>
            <span class="n">lock</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">fail</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">};</span>

    <span class="n">controller</span><span class="o">.</span><span class="na">createEventAsync</span><span class="o">(</span><span class="n">eventModel</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Import the module:</span>
<span class="kd">var</span> <span class="nx">moesifapi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesifapi'</span><span class="p">);</span>

<span class="c1">// Set your application id</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">configuration</span><span class="p">;</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">ApplicationId</span> <span class="o">=</span> <span class="s1">'my_application_id'</span><span class="p">;</span>

<span class="c1">// Create API Event Models and set fields</span>
<span class="kd">var</span> <span class="nx">eventA</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventModel</span><span class="p">();</span>
<span class="nx">eventA</span><span class="p">.</span><span class="nx">setTags</span><span class="p">(</span><span class="s2">"user"</span><span class="p">);</span> <span class="c1">// ...</span>
<span class="kd">var</span> <span class="nx">myEventModels</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">eventA</span> <span class="p">]</span>

<span class="c1">//Access various controllers by:</span>
<span class="kd">var</span> <span class="nx">controller</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">ApiController</span><span class="p">;</span>

<span class="c1">// Send the actual events</span>
<span class="nx">controller</span><span class="p">.</span><span class="nx">createEventsBatch</span><span class="p">(</span><span class="nx">myEventModels</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//  Handle Errors</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">from</span> <span class="nn">moesifapi.moesif_api_client</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c"># Setup API Client</span>
<span class="n">api_client</span> <span class="o">=</span> <span class="n">MoesifAPIClient</span><span class="p">(</span><span class="n">my_application_id</span><span class="p">)</span>
<span class="n">controller</span> <span class="o">=</span> <span class="n">api_client</span><span class="o">.</span><span class="n">api_controller</span>


<span class="c"># Create API Event Models and set fields</span>
<span class="n">event_a</span> <span class="o">=</span> <span class="n">EventModel</span><span class="p">()</span>
<span class="n">event_a</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="s">"user"</span> <span class="c">#  ...</span>

<span class="n">my_event_models</span> <span class="o">=</span> <span class="p">[</span> <span class="n">eventA</span> <span class="p">]</span>

<span class="c"># Send the actual events</span>
<span class="n">controller</span><span class="o">.</span><span class="n">create_events_batch</span><span class="p">(</span><span class="n">my_event_models</span><span class="p">)</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'moesif_api'</span>

<span class="c1"># Setup API Client</span>
<span class="n">api_client</span> <span class="o">=</span> <span class="no">MoesifApi</span><span class="o">::</span><span class="no">MoesifAPIClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">my_application_id</span><span class="p">)</span>
<span class="n">controller</span> <span class="o">=</span> <span class="n">api_client</span><span class="p">.</span><span class="nf">api_controller</span>

<span class="c1"># Create API Event Models and set fields</span>
<span class="n">event_a</span> <span class="o">=</span> <span class="no">EventModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">event_a</span><span class="p">.</span><span class="nf">tags</span> <span class="o">=</span> <span class="s2">"user"</span> <span class="c1"># ...</span>
<span class="n">my_event_models</span> <span class="o">=</span> <span class="p">[</span> <span class="n">eventA</span> <span class="p">]</span>

<span class="c1"># Send the actual events</span>
<span class="n">controller</span><span class="p">.</span><span class="nf">create_events_batch</span><span class="p">(</span><span class="n">my_event_models</span><span class="p">)</span>

</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">Moesif.Api</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Moesif.Api.Helpers</span><span class="p">;</span>

<span class="c1">// Create client instance using your ApplicationId</span>
<span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MoesifAPIClient</span><span class="p">(</span><span class="s">"my_application_id"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">apiClient</span> <span class="p">=</span> <span class="nf">GetClient</span><span class="p">().</span><span class="n">Api</span><span class="p">;</span>

<span class="c1">// Parameters for the API call</span>
<span class="kt">var</span> <span class="n">reqHeaders</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Host</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">api</span><span class="p">.</span><span class="n">acmeinc</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Accept</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="p">*/*</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Connection</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Keep</span><span class="p">-</span><span class="n">Alive</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">User</span><span class="p">-</span><span class="n">Agent</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Dalvik</span><span class="p">/</span><span class="m">2.1</span><span class="p">.</span><span class="m">0</span> <span class="p">(</span><span class="n">Linux</span><span class="p">;</span> <span class="n">U</span><span class="p">;</span> <span class="n">Android</span> <span class="m">5.0</span><span class="p">.</span><span class="m">2</span><span class="p">;</span> <span class="n">C6906</span> <span class="n">Build</span><span class="p">/</span><span class="m">14.5</span><span class="p">.</span><span class="n">A</span><span class="p">.</span><span class="m">0.242</span><span class="p">)</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Length</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">126</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Accept</span><span class="p">-</span><span class="n">Encoding</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">gzip</span><span class="s">""</span>
    <span class="p">}</span><span class="s">");
</span>
<span class="kt">var</span> <span class="n">reqBody</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">items</span><span class="s">""</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s">""</span><span class="n">type</span><span class="s">""</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
                <span class="s">""</span><span class="n">id</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">fwfrf</span><span class="s">""</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s">""</span><span class="n">type</span><span class="s">""</span><span class="p">:</span> <span class="m">2</span><span class="p">,</span>
                <span class="s">""</span><span class="n">id</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">d43d3f</span><span class="s">""</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span><span class="s">");
</span>
<span class="kt">var</span> <span class="n">rspHeaders</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Date</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Tue</span><span class="p">,</span> <span class="m">23</span> <span class="n">Jan</span> <span class="m">2017</span> <span class="m">23</span><span class="p">:</span><span class="m">46</span><span class="p">:</span><span class="m">49</span> <span class="n">GMT</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Vary</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Accept</span><span class="p">-</span><span class="n">Encoding</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Pragma</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">no</span><span class="p">-</span><span class="n">cache</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Expires</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="p">-</span><span class="m">1</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="p">;</span> <span class="n">charset</span><span class="p">=</span><span class="n">utf</span><span class="p">-</span><span class="m">8</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Cache</span><span class="p">-</span><span class="n">Control</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">no</span><span class="p">-</span><span class="n">cache</span><span class="s">""</span>
    <span class="p">}</span> <span class="s">");
</span>
<span class="kt">var</span> <span class="n">rspBody</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Error</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">InvalidArgumentException</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Message</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Missing</span> <span class="n">field</span> <span class="n">field_a</span><span class="s">""</span>
    <span class="p">}</span><span class="s">");
</span>

<span class="kt">var</span> <span class="n">eventReq</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventRequestModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Time</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2017-02-22T04:45:42.914"</span><span class="p">),</span>
    <span class="n">Uri</span> <span class="p">=</span> <span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
    <span class="n">Verb</span> <span class="p">=</span> <span class="s">"PATCH"</span><span class="p">,</span>
    <span class="n">ApiVersion</span> <span class="p">=</span> <span class="s">"1.1.0"</span><span class="p">,</span>
    <span class="n">IpAddress</span> <span class="p">=</span> <span class="s">"61.48.220.123"</span><span class="p">,</span>
    <span class="n">Headers</span> <span class="p">=</span> <span class="n">reqHeaders</span><span class="p">,</span>
    <span class="n">Body</span> <span class="p">=</span> <span class="n">reqBody</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">eventRsp</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventResponseModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Time</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2017-02-22T04:45:42.914"</span><span class="p">),</span>
    <span class="n">Status</span> <span class="p">=</span> <span class="m">500</span><span class="p">,</span>
    <span class="n">Headers</span> <span class="p">=</span> <span class="n">rspHeaders</span><span class="p">,</span>
    <span class="n">Body</span> <span class="p">=</span> <span class="n">rspBody</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">eventModel</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Request</span> <span class="p">=</span> <span class="n">eventReq</span><span class="p">,</span>
    <span class="n">Response</span> <span class="p">=</span> <span class="n">eventRsp</span><span class="p">,</span>
    <span class="n">UserId</span> <span class="p">=</span> <span class="s">"my_user_id"</span><span class="p">,</span>
    <span class="n">SessionToken</span> <span class="p">=</span> <span class="s">"my_application_id"</span>
<span class="p">};</span>

<span class="c1">// Create a List</span>
<span class="kt">var</span> <span class="n">events</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">EventModel</span><span class="p">&gt;();</span>
<span class="n">events</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>
<span class="n">events</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>
<span class="n">events</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>

<span class="c1">//////////////////////////////////////</span>
<span class="c1">// Example for making an async call //  </span>
<span class="c1">//////////////////////////////////////</span>
<span class="k">try</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">controller</span><span class="p">.</span><span class="nf">CreateEventsBatchAsync</span><span class="p">(</span><span class="n">events</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">APIException</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle Error</span>
<span class="p">};</span>

<span class="c1">///////////////////////////////////////////</span>
<span class="c1">// Example for making a synchronous call //</span>
<span class="c1">///////////////////////////////////////////</span>
<span class="k">try</span>
<span class="p">{</span>
    <span class="n">controller</span><span class="p">.</span><span class="nf">CreateEventsBatch</span><span class="p">(</span><span class="n">events</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">APIException</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle Error</span>
<span class="p">};</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go/models"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"time"</span><span class="x">

</span><span class="n">apiClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">moesifapi</span><span class="o">.</span><span class="n">NewAPI</span><span class="p">(</span><span class="s">"my_application_id"</span><span class="p">)</span><span class="x">

</span><span class="n">reqTime</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">UTC</span><span class="p">()</span><span class="x">
</span><span class="n">apiVersion</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"1.0"</span><span class="x">
</span><span class="n">ipAddress</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"61.48.220.123"</span><span class="x">

</span><span class="n">req</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventRequestModel</span><span class="p">{</span><span class="x">
    </span><span class="n">Time</span><span class="o">:</span><span class="x">       </span><span class="o">&amp;</span><span class="n">reqTime</span><span class="p">,</span><span class="x">
    </span><span class="n">Uri</span><span class="o">:</span><span class="x">        </span><span class="s">"https://api.acmeinc.com/widgets"</span><span class="p">,</span><span class="x">
    </span><span class="n">Verb</span><span class="o">:</span><span class="x">       </span><span class="s">"GET"</span><span class="p">,</span><span class="x">
    </span><span class="n">ApiVersion</span><span class="o">:</span><span class="x"> </span><span class="o">&amp;</span><span class="n">apiVersion</span><span class="p">,</span><span class="x">
    </span><span class="n">IpAddress</span><span class="o">:</span><span class="x">  </span><span class="o">&amp;</span><span class="n">ipAddress</span><span class="p">,</span><span class="x">
    </span><span class="n">Headers</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
        </span><span class="s">"ReqHeader1"</span><span class="o">:</span><span class="x"> </span><span class="s">"ReqHeaderValue1"</span><span class="p">,</span><span class="x">
    </span><span class="p">},</span><span class="x">
    </span><span class="n">Body</span><span class="o">:</span><span class="x"> </span><span class="no">nil</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">rspTime</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">UTC</span><span class="p">()</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="x"> </span><span class="o">*</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span><span class="x">

</span><span class="n">rsp</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventResponseModel</span><span class="p">{</span><span class="x">
    </span><span class="n">Time</span><span class="o">:</span><span class="x">      </span><span class="o">&amp;</span><span class="n">rspTime</span><span class="p">,</span><span class="x">
    </span><span class="n">Status</span><span class="o">:</span><span class="x">    </span><span class="m">500</span><span class="p">,</span><span class="x">
    </span><span class="n">IpAddress</span><span class="o">:</span><span class="x"> </span><span class="no">nil</span><span class="p">,</span><span class="x">
    </span><span class="n">Headers</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
        </span><span class="s">"RspHeader1"</span><span class="o">:</span><span class="x"> </span><span class="s">"RspHeaderValue1"</span><span class="p">,</span><span class="x">
    </span><span class="p">},</span><span class="x">
    </span><span class="n">Body</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
        </span><span class="s">"Key1"</span><span class="o">:</span><span class="x"> </span><span class="s">"Value1"</span><span class="p">,</span><span class="x">
        </span><span class="s">"Key2"</span><span class="o">:</span><span class="x"> </span><span class="m">12</span><span class="p">,</span><span class="x">
        </span><span class="s">"Key3"</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
            </span><span class="s">"Key3_1"</span><span class="o">:</span><span class="x"> </span><span class="s">"SomeValue"</span><span class="p">,</span><span class="x">
        </span><span class="p">},</span><span class="x">
    </span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">sessionToken</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"end user API or session token"</span><span class="x">
</span><span class="n">userId</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"end user_id"</span><span class="x">

</span><span class="n">event</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventModel</span><span class="p">{</span><span class="x">
    </span><span class="n">Request</span><span class="o">:</span><span class="x">      </span><span class="n">req</span><span class="p">,</span><span class="x">
    </span><span class="n">Response</span><span class="o">:</span><span class="x">     </span><span class="n">rsp</span><span class="p">,</span><span class="x">
    </span><span class="n">SessionToken</span><span class="o">:</span><span class="x"> </span><span class="o">&amp;</span><span class="n">sessionToken</span><span class="p">,</span><span class="x">
    </span><span class="n">Tags</span><span class="o">:</span><span class="x">         </span><span class="no">nil</span><span class="p">,</span><span class="x">
    </span><span class="n">UserId</span><span class="o">:</span><span class="x">       </span><span class="o">&amp;</span><span class="n">userId</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">events</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="nb">make</span><span class="p">([]</span><span class="o">*</span><span class="n">models</span><span class="o">.</span><span class="n">EventModel</span><span class="p">,</span><span class="x"> </span><span class="m">20</span><span class="p">)</span><span class="x">
</span><span class="k">for</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">0</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">20</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="o">++</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">events</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">event</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// Queue the events</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">QueueEvents</span><span class="p">(</span><span class="n">events</span><span class="p">)</span><span class="x">

</span><span class="c">// Create the events batch synchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">CreateEventsBatch</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="x">

</span></code></pre><pre class="highlight php tab-php"><code>// 1. Use Composer to install the dependencies. See the section "How To Build".
// 2. See that you have configured your SDK correctly. See the section "How To Configure".
// 3. Depending on your project setup, you might need to include composer's autoloader
   in your PHP code to enable autoloading of classes.

   require_once "vendor/autoload.php";

// 4. Import the SDK client in your project:

    use MoesifApi\MoesifApiClient;

// 5. Instantiate the client. After this, you can now get the controllers and call the
    respective methods:

    $client = new MoesifApiClient();
    $controller = $client-&gt;getApi();
</code></pre>
<table><thead>
<tr>
<th>Fields</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request</td>
<td><strong>Required</strong></td>
<td>The object that specifies the request message</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.time</p></td>
<td><strong>Required</strong></td>
<td>Timestamp for the request in ISO 8601 format</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.uri</p></td>
<td><strong>Required</strong></td>
<td>Full uri such as <em>https://api.com/?query=string</em> including host, query string, etc</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.verb</p></td>
<td><strong>Required</strong></td>
<td>HTTP method used, i.e. <code class="prettyprint">GET</code>, <code class="prettyprint">POST</code></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.api_version</p></td>
<td>Optional</td>
<td>API Version you want to tag this request with such as <em>1.0.0</em></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.ip_address</p></td>
<td>Optional</td>
<td>IP address of the requester, If not set, we use the IP address of your logging API calls.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.headers</p></td>
<td>Optional</td>
<td>Headers of the  request as a <code class="prettyprint">Map&lt;string, string&gt;</code></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.body</p></td>
<td>Optional</td>
<td>Body of the request in JSON format or Base64 encoded binary data (see <em>transfer_encoding</em>)</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.transfer_encoding</p></td>
<td>Optional</td>
<td>A string that specifies the transfer encoding of Body being sent to Moesif. If field nonexistent, body assumed to be JSON or text. Only possible value is <em>base64</em> for sending binary data like protobuf</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>response</td>
<td>Optional</td>
<td>The object that specifies the response message, not set implies no response received such as a timeout.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.time</p></td>
<td><strong>Required</strong></td>
<td>Timestamp for the response in ISO 8601 format</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.status</p></td>
<td><strong>Required</strong></td>
<td>HTTP status code as number such as <em>200</em> or <em>500</em></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.ip_address</p></td>
<td>Optional</td>
<td>IP address of the responding server</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.headers</p></td>
<td><strong>Required</strong></td>
<td>Headers of the response as a <code class="prettyprint">Map&lt;string, string&gt;</code></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.body</p></td>
<td><strong>Required</strong></td>
<td>Body of the response in JSON format or Base64 encoded binary data (see <em>transfer_encoding</em>)</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.transfer_encoding</p></td>
<td>Optional</td>
<td>A string that specifies the transfer encoding of Body being sent to Moesif. If field nonexistent, body assumed to be JSON or text. Only possible value is <em>base64</em> for sending binary data like protobuf</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>session_token</td>
<td><em>Recommend</em></td>
<td>The end user session or API token such as a JWT or API key. Moesif will auto-detect the session token automatically if not set.</td>
</tr>
<tr>
<td>tags</td>
<td><em>Recommend</em></td>
<td>Comma separated list of tags for this API Call. <strong>See Supported Tags</strong></td>
</tr>
<tr>
<td>user_id</td>
<td><em>Recommend</em></td>
<td>Identifies this API call to a permanent user_id</td>
</tr>
</tbody></table>

<h3 id="supported-tags">Supported Tags:</h3>

<ol>
<li><code class="prettyprint">user</code>

<ul>
<li>The <code class="prettyprint">user</code> tag is a hint to what is considered the user profile for the signed in end user.</li>
<li>Add to a <em>single</em> method/endpoint template which you consider has the most user metadata.</li>
<li>For example, if you have an endpoint that gets the authenticated user via <code class="prettyprint">GET /users/me</code>, add this header to those API Calls. The verb or url doesn&rsquo;t matter but the response body should have user&rsquo;s data.</li>
<li>You shouldn&rsquo;t add to more than one method/endpoint combination. i.e. Don&rsquo;t add it to both <code class="prettyprint">GET /users</code> and <code class="prettyprint">POST /users</code> unless both return the same JSON schema.</li>
</ul></li>
</ol>

          <h1 id="users-api">Users API</h1>

<h2 id="update-a-user">Update a User</h2>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/users</code></strong></p>

<p>Updates an end user profile in Moesif.</p>

<p>A custom JSON object can be placed in the <code class="prettyprint">metadata</code> object which
will be stored as part of the user profile.</p>

<p>If present, Moesif will detect special metadata fields like:</p>

<ul>
<li>email</li>
<li>name</li>
<li>first_name</li>
<li>last_name</li>
<li>phone</li>
<li>photo_url</li>
</ul>

<aside class="info">
Replace <i>my_application_id</i> with your real Application Id
</aside>

<blockquote class="lang-specific yaml">
Example Request Body:
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">modified_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2017-02-22T04:45:42.914"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">61.48.220.123"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">df32dkj32opxzfdmji4hf4fs98y18cx98q3yhwmnhcfx43f"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">123456"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">user_agent_string"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Mozilla/5.0</span><span class="nv"> </span><span class="s">(Macintosh;</span><span class="nv"> </span><span class="s">Intel</span><span class="nv"> </span><span class="s">Mac</span><span class="nv"> </span><span class="s">OS</span><span class="nv"> </span><span class="s">X</span><span class="nv"> </span><span class="s">10_12_3)</span><span class="nv"> </span><span class="s">AppleWebKit/537.36</span><span class="nv"> </span><span class="s">(KHTML,</span><span class="nv"> </span><span class="s">like</span><span class="nv"> </span><span class="s">Gecko)</span><span class="nv"> </span><span class="s">Chrome/56.0.2924.87</span><span class="nv"> </span><span class="s">Safari/537.36"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">John</span><span class="nv"> </span><span class="s">Doe"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">John</span><span class="nv"> </span><span class="s">Doe"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">john@gmail.com"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">phone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">123-456-7890"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">custom_string_field"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">some_value"</span>
    <span class="s2">"</span><span class="s">custom_int_field"</span><span class="pi">:</span> <span class="nv">55</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">custom_obj_field"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">sub_a"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">value_a"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">sub_b"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">value_b"</span>
    <span class="pi">}</span>
  <span class="pi">}</span>
<span class="pi">}</span>

</code></pre>
<table><thead>
<tr>
<th>Fields</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>modified_time</td>
<td>Optional</td>
<td>Last Modified Timestamp for the user in ISO 8601 format (Set automatically if not provided).</td>
</tr>
<tr>
<td>ip_address</td>
<td>Optional</td>
<td>Current IP address of the user, If not set, we use the IP address of the POST request.</td>
</tr>
<tr>
<td>session_token</td>
<td>Optional</td>
<td>Current end user session or API token such as a JWT or API key.</td>
</tr>
<tr>
<td>user_id</td>
<td><strong>Required</strong></td>
<td>Your application&rsquo;s <code class="prettyprint">user_id</code> to identify this user.</td>
</tr>
<tr>
<td>user_agent_string</td>
<td>Optional</td>
<td>If you want Moesif to parse a user agent string, you can do so via <code class="prettyprint">user_agent_string</code>.</td>
</tr>
<tr>
<td>metadata</td>
<td>Optional</td>
<td>A JSON Object consisting of any custom metadata to be stored with this user.</td>
</tr>
</tbody></table>

<h2 id="update-users-in-batch">Update Users in Batch</h2>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/users/batch</code></strong></p>

<p>Updates a list of end user profile in Moesif.</p>

<p>A custom JSON object can be placed in the <code class="prettyprint">metadata</code> object of each user
which will be stored as part of the user profile.</p>

<p>If present, Moesif will detect special metadata fields like:</p>

<ul>
<li>email</li>
<li>name</li>
<li>first_name</li>
<li>last_name</li>
<li>phone</li>
<li>photo_url
<aside class="info"></li>
</ul>

<p>Replace <i>my_application_id</i> with your real Application Id
</aside></p>

<blockquote class="lang-specific yaml">
Example Request Body:
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">[</span>
  <span class="pi">{</span>
    <span class="s2">"</span><span class="s">modified_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2017-02-22T04:45:42.914"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">61.48.220.123"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">df32dkj32opxzfdmji4hf4fs98y18cx98q3yhwmnhcfx43f"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">12345"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">user_agent_string"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Mozilla/5.0</span><span class="nv"> </span><span class="s">(Macintosh;</span><span class="nv"> </span><span class="s">Intel</span><span class="nv"> </span><span class="s">Mac</span><span class="nv"> </span><span class="s">OS</span><span class="nv"> </span><span class="s">X</span><span class="nv"> </span><span class="s">10_12_3)</span><span class="nv"> </span><span class="s">AppleWebKit/537.36</span><span class="nv"> </span><span class="s">(KHTML,</span><span class="nv"> </span><span class="s">like</span><span class="nv"> </span><span class="s">Gecko)</span><span class="nv"> </span><span class="s">Chrome/56.0.2924.87</span><span class="nv"> </span><span class="s">Safari/537.36"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">John</span><span class="nv"> </span><span class="s">Doe"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">John</span><span class="nv"> </span><span class="s">Doe"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">john@gmail.com"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">phone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">123-456-7890"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">custom_string_field"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">some_value"</span>
      <span class="s2">"</span><span class="s">custom_int_field"</span><span class="pi">:</span> <span class="nv">55</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">custom_obj_field"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">sub_a"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">value_a"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">sub_b"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">value_b"</span>
      <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">},</span>
  <span class="pi">{</span>
    <span class="s2">"</span><span class="s">modified_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2017-02-22T04:45:42.914"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">61.48.220.129"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">d2ewzcazchurvcqdevnhcuiyrgvru"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">7890"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">user_agent_string"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Mozilla/5.0</span><span class="nv"> </span><span class="s">(Macintosh;</span><span class="nv"> </span><span class="s">Intel</span><span class="nv"> </span><span class="s">Mac</span><span class="nv"> </span><span class="s">OS</span><span class="nv"> </span><span class="s">X</span><span class="nv"> </span><span class="s">10_12_3)</span><span class="nv"> </span><span class="s">AppleWebKit/537.36</span><span class="nv"> </span><span class="s">(KHTML,</span><span class="nv"> </span><span class="s">like</span><span class="nv"> </span><span class="s">Gecko)</span><span class="nv"> </span><span class="s">Chrome/56.0.2924.87</span><span class="nv"> </span><span class="s">Safari/537.36"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Mary</span><span class="nv"> </span><span class="s">Doe"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Mary</span><span class="nv"> </span><span class="s">Doe"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mary@gmail.com"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">phone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">123-456-7890"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">custom_string_field"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">some_value"</span>
      <span class="s2">"</span><span class="s">custom_int_field"</span><span class="pi">:</span> <span class="nv">55</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">custom_obj_field"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">sub_a"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">value_a"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">sub_b"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">value_b"</span>
      <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">}</span>
<span class="pi">]</span>

</code></pre>
<table><thead>
<tr>
<th>Fields</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>modified_time</td>
<td>Optional</td>
<td>Last Modified Timestamp for the user in ISO 8601 format (Set automatically if not provided).</td>
</tr>
<tr>
<td>ip_address</td>
<td>Optional</td>
<td>Current IP address of the user, If not set, we use the IP address of the POST request.</td>
</tr>
<tr>
<td>session_token</td>
<td>Optional</td>
<td>Current end user session or API token such as a JWT or API key.</td>
</tr>
<tr>
<td>user_id</td>
<td><strong>Required</strong></td>
<td>Your application&rsquo;s <code class="prettyprint">user_id</code> to identify this user.</td>
</tr>
<tr>
<td>user_agent_string</td>
<td>Optional</td>
<td>If you want Moesif to parse a user agent string, you can do so via <code class="prettyprint">user_agent_string</code>.</td>
</tr>
<tr>
<td>metadata</td>
<td>Optional</td>
<td>A JSON Object consisting of any custom metadata to be stored with this user.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="yaml">JSON</a>
                <a href="#" data-language-name="javascript">Javascript</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="go">Go</a>
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="java">Java</a>
          </div>
      </div>
    </div>
  </body>
</html>
