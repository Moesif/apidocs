<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Moesif API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight {
  color: #FFFFFF;
  background-color: #231529;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #6D6E70;
  font-style: italic;
}
.highlight .cp {
  color: #41ff5b;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #FFFFFF;
  background-color: #CC0000;
}
.highlight .gr {
  color: #FFFFFF;
  background-color: #CC0000;
}
.highlight .k, .highlight .kd, .highlight .kv {
  color: #FFF02A;
  font-weight: bold;
}
.highlight .o, .highlight .ow {
  color: #41ff5b;
}
.highlight .p, .highlight .pi {
  color: #41ff5b;
}
.highlight .gd {
  color: #CC0000;
}
.highlight .gi {
  color: #3FB34F;
}
.highlight .ge {
  font-style: italic;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gt {
  color: #FFFFFF;
  background-color: #766DAF;
}
.highlight .gl {
  color: #FFFFFF;
  background-color: #766DAF;
}
.highlight .kc {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .kn {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .kp {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .kr {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .gh {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .gu {
  color: #FFFFFF;
  font-weight: bold;
}
.highlight .kt {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .no {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nc {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nd {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nn {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .bp {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .ne {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nl {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .nt {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .ld {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .ss {
  color: #9f93e6;
  font-weight: bold;
}
.highlight .s, .highlight .sb, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .sr, .highlight .s1 {
  color: #fff0a6;
  font-weight: bold;
}
.highlight .se {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .sc {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .si {
  color: #FAAF4C;
  font-weight: bold;
}
.highlight .nb {
  font-weight: bold;
}
.highlight .ni {
  color: #999999;
  font-weight: bold;
}
.highlight .w {
  color: #BBBBBB;
}
.highlight .nf {
  color: #41ff5b;
}
.highlight .py {
  color: #41ff5b;
}
.highlight .na {
  color: #41ff5b;
}
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi {
  color: #41ff5b;
  font-weight: bold;
}
    </style>
    <link href="//apidocs.moesif.com/stylesheets/screen-85924653.css" rel="stylesheet" media="screen" />
    <link href="//apidocs.moesif.com/stylesheets/print-b1632cf2.css" rel="stylesheet" media="print" />
      <script src="//apidocs.moesif.com/javascripts/all-cf4bce92.js"></script>

    <!-- begin SEO -->
      <meta name="description" content="API Reference Documentation">
      <meta property="og:locale" content="en">
    <meta property="og:site_name" content="Moesif API Documentation">
    <meta property="og:title" content="Moesif API Documentation">
    <meta name="twitter:title" content="Moesif API Documentation">
      <link rel="canonical" href="https://www.moesif.com/docs/api">
      <meta property="og:url" content="https://www.moesif.com/docs/api">
      <meta name="twitter:url" content="https://www.moesif.com/docs/api">
      <meta name="twitter:site" content="MoesifHQ">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://www.moesif.com/static/og_image.png">
        <meta property="fb:app_id" content="232433703771289">
      <meta property="og:image" content="https://www.moesif.com/static/og_image.png">

      <script type="application/ld+json">
        {
          "@context": "http://schema.org",
          "@type": "Organization",
          "name" : "Moesif API Documentation",
            "url": "https://www.moesif.com",
          "description": "API Reference Documentation",
          "email": "support@moesif.com",
          "legalName" : "Moesif, Inc",
            "contactPoint": [{
              "@type": "ContactPoint",
              "email": "support@moesif.com",
              "contactType": "customer service",
              "telephone": "+1-415-851-9835"
            }],
            "logo": "https://www.moesif.com/static/og_image.png",
          "sameAs": [
              "https://facebook.com/MoesifHQ",
              "https://github.com/Moesif",
              "https://twitter.com/MoesifHQ"
          ],
            "address": {
              "@type": "PostalAddress",
              "streetAddress": "77 Van Ness Ave STE 101-1513",
              "addressLocality": "San Francisco",
              "addressRegion": "California",
              "postOfficeBoxNumber": 94102
            }
        }
      </script>
    <!-- end SEO -->

      <!-- begin Google Universal Analytics -->
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-78525975-1', 'auto');
        ga('send', 'pageview');
      </script>
      <!-- end Google Universal Analytics-->
  </head>

  <body class="index" data-languages="[&quot;yaml&quot;,&quot;shell&quot;,&quot;javascript--nodejs&quot;,&quot;python&quot;,&quot;ruby&quot;,&quot;php&quot;,&quot;go&quot;,&quot;csharp&quot;,&quot;java&quot;,&quot;javascript--browser&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="//apidocs.moesif.com/images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
<a href="https://www.moesif.com">          <img src="//apidocs.moesif.com/images/logo-0b716966.svg" class="tocify-wrapper--img" alt="Logo" />
</a>        <div class="lang-selector">
              <a href="#" data-language-name="yaml">JSON</a>
              <a href="#" data-language-name="shell">Shell</a>
              <a href="#" data-language-name="javascript--nodejs">Node.js</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="ruby">Ruby</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="go">Go</a>
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="java">Java</a>
              <a href="#" data-language-name="javascript--browser">Browser</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='/docs'>Back to Docs</a></li>
            <li><a href='/wrap'>My Dashboard</a></li>
            <li><a href='https://status.moesif.com'>API Status</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="moesif-api-reference">Moesif API Reference</h1>

<p><em>Debugging RESTful APIs Made Easier.</em></p>

<p>This API reference centers around v1 of the Moesif REST APIs and API Client Libs for common languages.
For an overview on Moesif and higher level SDKs for common frameworks, please checkout the <a href="/docs">Developer Docs</a></p>

<p>This RESTful API is open for developers who want to build new extensions and clients. Apps can integrate with Moesif as long as it can send HTTP requests.</p>

<p><a href="http://www.programmableweb.com/api/moesif"><img src="//apidocs.moesif.com/images/programmable-web-722cea20.png" alt="Moesif on Programmable Web" /></a></p>

<p>There are two distinct APIs:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Host</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#collector-api">Collector API</a></td>
<td><a href="https://api.moesif.net">api.moesif.net</a></td>
<td>Retrieve your Collection Application Id from the Moesif portal under <em>Installation</em> menu and place in the request <code class="prettyprint">X-Moesif-Application-Id</code> header. <a href="#collector-api">More info</a></td>
</tr>
<tr>
<td><a href="#Management-API">Management API</a></td>
<td><a href="https://api.moesif.com">api.moesif.com</a></td>
<td>Generate a Management API token under in the Moesif portal under <em>Management API</em> menu with the necessary <em>resource scopes</em> . Add it as a <a href="https://swagger.io/docs/specification/authentication/bearer-authentication/">Bearer token</a> to the request <code class="prettyprint">Authorization</code> header. <a href="#Management-API">More info</a></td>
</tr>
</tbody></table>

<h2 id="which-should-i-use">Which should I use?</h2>

<p>The <em>Collector API</em> is a write-only API and used for high-volume data ingestion from middleware SDKs and agents
Think of it as a reverse CDN and used only for importing data into Moesif.</p>

<p>The <em>Management API</em> is for operations on the data stored already in Moesif. You can use it to query data for custom reports,
build custom dashboards, integrate with other apps like bug tracking tools, etc.</p>

          <h1 id="overview">Overview</h1>

<h2 id="pagination-and-filtering">Pagination and Filtering</h2>

<h3 id="dates">Dates</h3>

<p>In the search endpoints, you must provide a timerange for data to look at. This is done via the <code class="prettyprint">from</code> and the <code class="prettyprint">to</code> 
URL parameters.</p>

<p>Relative dates support the following units:</p>

<table><thead>
<tr>
<th>symbol</th>
<th>unit</th>
</tr>
</thead><tbody>
<tr>
<td>s</td>
<td>seconds</td>
</tr>
<tr>
<td>m</td>
<td>minutes</td>
</tr>
<tr>
<td>h</td>
<td>hours</td>
</tr>
<tr>
<td>d</td>
<td>days</td>
</tr>
<tr>
<td>w</td>
<td>weeks</td>
</tr>
<tr>
<td>M</td>
<td>months</td>
</tr>
<tr>
<td>now</td>
<td>current UTC time</td>
</tr>
</tbody></table>

<p>Dates can optionally be prepended with a <code class="prettyprint">-</code> or a <code class="prettyprint">+</code></p>

<p>Some examples:</p>

<table><thead>
<tr>
<th>From Date</th>
<th>To Date</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>-24h</td>
<td>now</td>
<td>from 24 hours ago to now</td>
</tr>
<tr>
<td>-1d</td>
<td>now</td>
<td>from 1 day ago to now</td>
</tr>
<tr>
<td>-1w</td>
<td>now</td>
<td>from 1 week ago to now</td>
</tr>
<tr>
<td>-2w</td>
<td>-1w</td>
<td>frm 2 weeks ago to 1 week ago</td>
</tr>
<tr>
<td>-1M</td>
<td>1M</td>
<td>from 1 month ago to 1 month in the future</td>
</tr>
</tbody></table>

<h3 id="search-dsl">Search DSL</h3>

<p>For certain search endpoints, Moesif supports querying and filtering using <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-body.html">Elasticsearch DSL</a>. Simply pass the DSL as the request body.
While majority of DSL for Elasticsearch&rsquo;s Request Body Search is supported by Moesif, other administrative APIs are unavailable. For help building a query for your business requirements, <a href="mailto:support@moesif.com">contact us</a>.</p>

<h3 id="example-getting-most-recent-500-errors">Example: Getting most recent 500 errors</h3>

<p>If you wanted to get the most recent API errors, you can filter by API calls with response status 500 and sort by 
request time in descending order. </p>

<blockquote class="lang-specific yaml">
<code><b>POST</b> https://api.moesif.com/search/~/search/events?from=-1d&to=now</code>
<br><br><i>Example Request</i><br>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">post_filter"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">bool"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">should"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">term"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">response.status"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">500"</span>
        <span class="pi">}</span>
      <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">},</span>
  <span class="s2">"</span><span class="s">size"</span><span class="pi">:</span> <span class="nv">50</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">sort"</span><span class="pi">:</span> <span class="pi">[</span>
    <span class="pi">{</span>
      <span class="s2">"</span><span class="s">request.time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">desc"</span>
    <span class="pi">}</span>
  <span class="pi">]</span>
<span class="pi">}</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -XPOST <span class="se">\</span>
    -d <span class="s1">'{"post_filter":{"bool":{"should":{"term":{"response.status":"500"}}}},"size":50,"sort":[{"request.time":"desc"}]}'</span> <span class="se">\</span>
    -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'Authorization: Bearer {access-token}'</span> <span class="se">\</span>
    <span class="s2">"https://api.moesif.com/search/~/search/events?from=-1d&amp;to=now"</span>
</code></pre>
<h3 id="example-getting-api-usage-per-customer">Example: Getting API usage per customer</h3>

<p>Another popular use case is to get the monthly API usage for a specific customer so you can 
display current usage vs. plan quota in your customer facing portal. 
This can be done easily by looking at past month and getting a count for the user_id</p>

<blockquote class="lang-specific yaml">
<code><b>POST</b> https://api.moesif.com/search/~/search/count?from=-1M&to=now</code>
<br><br><i>Example Request</i><br>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">post_filter"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">bool"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">should"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">term"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">user_id.raw"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">123456"</span>
        <span class="pi">}</span>
      <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">}</span>
<span class="pi">}</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -XPOST <span class="se">\</span>
    -d <span class="s1">'{"post_filter":{"bool":{"should":{"term":{"user_id.raw":"123456"}}}}}'</span> <span class="se">\</span>
    -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'Authorization: Bearer {access-token}'</span> <span class="se">\</span>
    <span class="s2">"https://api.moesif.com/search/~/count/events?from=-1M&amp;to=now"</span>
</code></pre>
<h2 id="request-format">Request Format</h2>

<p>For POST, PUT, and PATCH requests, the request body should be JSON. The <code class="prettyprint">Content-Type</code> header
should be set to <code class="prettyprint">application/json</code></p>

<h2 id="response-format">Response Format</h2>

<p>The response body format is always JSON. Successful operations are seen via 2xx status code. Successful creation of new objects will be seen via 201. 4xx status implies client error.</p>

<p>The REST API JSON payloads uses <em>underscore</em> format (i.e some_key). Many of the API libs
may use camelCase, PascalCase, or other as their model entities. Please
select the respective language tab.</p>

<h2 id="cors">CORS</h2>

<p><a href="/blog/technical/cors/Authoritative-Guide-to-CORS-Cross-Origin-Resource-Sharing-for-REST-APIs/">CORS</a> is enabled on this API. <code class="prettyprint">Access-Control-Allow-Origin</code> is set to *</p>

          <h2 id="errors">Errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request has an incorrect parameter</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your <code class="prettyprint">X-Moesif-Application-Id</code> or <code class="prettyprint">Authorization</code> header is incorrect</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You accessed a resource not allowed with your key</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a resource with an invalid HTTP method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that is not JSON format, Moesif&rsquo;s API supports JSON</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The resource requested has been removed from our servers</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Please <a href="mailto:support@moesif.com">contact us</a></td>
</tr>
</tbody></table>

          <h1 id="api-libs">API Libs</h1>

<p>These open-source libs are convenient libs for the Moesif REST API and are used in the higher level <a href="https://www.moesif.com/implementation">middleware SDKs</a>.  These libs can be used like other web analytics libs with a <code class="prettyprint">sendEvent()</code> method. There are also methods available to add metadata to user and company profiles.
These libraries support both sync and async operations.</p>

<h2 id="important">Important</h2>

<aside class="warning">
Moesif has Middleware SDKs designed for common Web API frameworks which are easier to integrate for common environments.
Checkout <a href="https://www.moesif.com/implementation">implementation overview</a> for more info.
</aside>

<h2 id="how-to-install">How to Install</h2>
<pre class="highlight java tab-java"><code><span class="n">Pick</span> <span class="n">a</span> <span class="n">language</span> <span class="n">at</span> <span class="n">the</span> <span class="n">top</span>
</code></pre>
<blockquote class="lang-specific java">
<a href="https://bintray.com/moesif/maven/moesifapi/_latestVersion">
  <img src="https://api.bintray.com/packages/moesif/maven/moesifapi/images/download.svg">
</a>
<br><br>
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-java">https://github.com/moesif/moesifapi-java</a>
</blockquote>
<pre class="highlight java tab-java"><code><span class="c1">// Add the dependency</span>

<span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">com</span><span class="o">.</span><span class="na">moesif</span><span class="o">.</span><span class="na">api</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">moesifapi</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span><span class="mf">1.6</span><span class="o">.</span><span class="mi">9</span><span class="o">&lt;/</span><span class="n">version</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>
</code></pre>
<blockquote class="lang-specific javascript--nodejs">
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-nodejs">https://github.com/moesif/moesifapi-nodejs</a><br><br><br>
Package:<br><br>
<a href="https://www.npmjs.com/package/moesifapi">https://www.npmjs.com/package/moesifapi</a>
</blockquote>
<pre class="highlight javascript tab-javascript--nodejs"><code><span class="c1">// To Install Moesif Lib, run in your terminal</span>

<span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">save</span> <span class="nx">moesifapi</span>
</code></pre>
<blockquote class="lang-specific python">
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-python">https://github.com/moesif/moesifapi-python</a><br><br><br>
Package:<br><br>
<a href="https://pypi.python.org/pypi/moesifapi">https://pypi.python.org/pypi/moesifapi</a>
</blockquote>
<pre class="highlight python tab-python"><code><span class="c"># To Install Moesif Lib, run in your terminal</span>

<span class="n">pip</span> <span class="n">install</span> <span class="n">moesifapi</span>
</code></pre>
<blockquote class="lang-specific ruby">
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-ruby">https://github.com/moesif/moesifapi-ruby</a></a><br><br><br>
Package:<br><br>
<a href="https://rubygems.org/gems/moesif_api">https://rubygems.org/gems/moesif_api</a>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="c1"># To Install Moesif Lib, run in your terminal</span>

<span class="n">gem</span> <span class="n">install</span> <span class="n">moesif_api</span>
</code></pre>
<blockquote class="lang-specific csharp">
Source Code:<br><br>
<a href="https://github.com/moesif/moesifapi-csharp">https://github.com/moesif/moesifapi-csharp</a></a><br><br><br>
Package:<br><br>
<a href="https://www.nuget.org/packages/Moesif.Api/">https://www.nuget.org/packages/Moesif.Api/</a>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="c1">// Install the Nuget Package via Package Manager Console:</span>

<span class="n">Install</span><span class="p">-</span><span class="n">Package</span> <span class="n">Moesif</span><span class="p">.</span><span class="n">Api</span>
</code></pre>
<blockquote class="lang-specific go">
Source Code:<br><br>
<a href="https://github.com/Moesif/moesifapi-go">https://github.com/Moesif/moesifapi-go</a>
</blockquote>
<pre class="highlight go tab-go"><code><span class="x">
</span><span class="k">go</span><span class="x"> </span><span class="n">get</span><span class="x"> </span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">moesif</span><span class="o">/</span><span class="n">moesifapi</span><span class="o">-</span><span class="k">go</span><span class="p">;</span><span class="x">
</span></code></pre>
<blockquote class="lang-specific php">
Source Code:<br><br>
<a href="https://github.com/Moesif/moesifapi-php">https://github.com/Moesif/moesifapi-php</a>
</blockquote>
<pre class="highlight php tab-php"><code>// Install via Composer

composer require moesif/moesifapi-php
</code></pre>
<blockquote class="lang-specific javascript--browser">
Install via NPM:
</blockquote>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kd">var</span> <span class="nx">moesif</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesif-browser-js'</span><span class="p">);</span>

<span class="nx">moesif</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
  <span class="na">applicationId</span><span class="p">:</span> <span class="s1">'YOUR_COLLECTOR_APPLICATION_ID'</span>
  <span class="c1">// add other option here.</span>
<span class="p">});</span>
</code></pre>
<blockquote class="lang-specific javascript--browser">
Install via embedded code
</blockquote>
<pre class="highlight javascript tab-javascript--browser"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"//unpkg.com/moesif-browser-js@^1/moesif.min.js"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="nx">moesif</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
  <span class="na">applicationId</span><span class="p">:</span> <span class="s1">'YOUR_COLLECTOR_APPLICATION_ID'</span>
<span class="p">});</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre>
<p>Select your language on the right:</p>

<ul>
<li>Shell</li>
<li>Node.js</li>
<li>Python</li>
<li>Ruby</li>
<li>PHP</li>
<li>Go</li>
<li>C#</li>
<li>Java</li>
<li>Browser</li>
</ul>

<p>The SDKs are open-source and available on GitHub.</p>

<aside class="notice">
You can find your Application Id by logging into Moesif 
and selecting API keys from top right menu.
</aside>

          <h1 id="collector-api-v1"><a id="collector-api"></a> Collector API v1</h1>

<p>The Collector API is a high-volume distributed data collection network.
It&rsquo;s like a reverse CDN.</p>

<p>The Moesif Middleware SDKs and agents such as <em>moesif-express</em> sit in your code and send raw API data to 
the Collector API for processing.</p>

<p>Moesif also has a <a href="#Management-API">Management API</a> to query data out of Moesif and is the same 
API the Moesif web portal uses. </p>

<p>Base URLs:</p>

<ul>
<li><a href="https://api.moesif.net/v1">https://api.moesif.net/v1</a></li>
</ul>

<p><a href="https://www.moesif.com/terms">Terms of service</a></p>

<p>Prepend all endpoints below with this base url. Both HTTPS and HTTP requests are supported. 
However, Moesif&rsquo;s API libs enforce HTTPS only. Calls to our API are routed to the nearest datacenter.</p>

<h2 id="authentication">Authentication</h2>

<p>Authentication is done via HTTP Headers.
The same Application Id token can be used for the cloud proxy server, the client libs, and the REST API. Add the following header to all API Calls.</p>

<p><code class="prettyprint">X-Moesif-Application-Id: my_application_id</code></p>

<aside class="notice">
Replace <i>YOUR_COLLECTOR_APPLICATION_ID</i> with your real Application Id found by logging into Moesif 
and selecting API keys from top right menu.
</aside>

          <h2 id="events">Events</h2>

<h3 id="create-an-event">Create an Event</h3>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/events</code></strong></p>

<p>Log a single API event to Moesif.
The request body itself is a single API Call object consisting of both the HTTP request and HTTP response.</p>

<aside class="info">
Replace <i>my_application_id</i> with your real Application Id
</aside>

<blockquote class="lang-specific yaml">
<code><b>POST</b> https://api.moesif.net/v1/events</code>
<br><br><i>Example Request</i><br>
</blockquote>
<pre class="highlight yaml tab-yaml"><code>  <span class="pi">{</span>
    <span class="s2">"</span><span class="s">request"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2019-06-20T04:45:42.914"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">uri"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://api.acmeinc.com/items/12345/reviews/"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">verb"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">POST"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">api_version"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1.1.0"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">61.48.220.123"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">Host"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">api.acmeinc.com"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Accept"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*/*"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Connection"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Keep-Alive"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Content-Type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">application/json"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Content-Length"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">126"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Accept-Encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">gzip"</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">items"</span><span class="pi">:</span> <span class="pi">[</span>
          <span class="pi">{</span>
            <span class="s2">"</span><span class="s">direction_type"</span><span class="pi">:</span> <span class="nv">1</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">item_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">fwdsfrf"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">liked"</span><span class="pi">:</span> <span class="nv">false</span>
          <span class="pi">},</span>
          <span class="pi">{</span>
            <span class="s2">"</span><span class="s">direction_type"</span><span class="pi">:</span> <span class="nv">2</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">item_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">d43d3f"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">liked"</span><span class="pi">:</span> <span class="nv">true</span>
          <span class="pi">}</span>
        <span class="pi">]</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">transfer_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">response"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2019-06-20T04:45:42.914"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">status"</span><span class="pi">:</span> <span class="nv">500</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">Vary"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Accept-Encoding"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Pragma"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">no-cache"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Expires"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">-1"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Content-Type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">application/json;</span><span class="nv"> </span><span class="s">charset=utf-8"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Cache-Control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">no-cache"</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">Error"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">InvalidArgumentException"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">Message"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Missing</span><span class="nv"> </span><span class="s">field</span><span class="nv"> </span><span class="s">location"</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">transfer_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mndug437f43"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ng]s98y18cx98q3yhwmnhcfx43f"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">some_string"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">I</span><span class="nv"> </span><span class="s">am</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">string"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">some_int"</span><span class="pi">:</span> <span class="nv">77</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">some_object"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">some_sub_field"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">some_value"</span>
        <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">}</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.net/v1/events <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'X-Moesif-Application-Id: YOUR_COLLECTOR_APPLICATION_ID'</span>


</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Import the Library</span>
<span class="n">MoesifAPIClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"my_application_id"</span><span class="o">);</span>
<span class="n">APIController</span> <span class="n">api</span> <span class="o">=</span> <span class="n">getClient</span><span class="o">().</span><span class="na">getAPI</span><span class="o">();</span>

<span class="c1">// Generate the event</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">reqHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Host"</span><span class="o">,</span> <span class="s">"api.acmeinc.com"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"*/*"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Connection"</span><span class="o">,</span> <span class="s">"Keep-Alive"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"User-Agent"</span><span class="o">,</span> <span class="s">"Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Content-Length"</span><span class="o">,</span> <span class="s">"126"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Accept-Encoding"</span><span class="o">,</span> <span class="s">"gzip"</span><span class="o">);</span>

<span class="n">Object</span> <span class="n">reqBody</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
  <span class="s">"\"items\": ["</span> <span class="o">+</span>
    <span class="s">"{"</span> <span class="o">+</span>
      <span class="s">"\"type\": 1,"</span> <span class="o">+</span>
      <span class="s">"\"id\": \"fwfrf\""</span> <span class="o">+,</span>
    <span class="s">"},"</span> <span class="o">+</span>
    <span class="s">"{"</span> <span class="o">+</span>
      <span class="s">"\"type\": 2,"</span> <span class="o">+</span>
       <span class="s">"\"id\": \"d43d3f\""</span> <span class="o">+</span>
     <span class="s">"}"</span> <span class="o">+</span>
  <span class="s">"]"</span> <span class="o">+</span>
  <span class="s">"}"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">rspHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Vary"</span><span class="o">,</span> <span class="s">"Accept-Encoding"</span><span class="o">);</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Pragma"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">);</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Expires"</span><span class="o">,</span> <span class="s">"-1"</span><span class="o">);</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json; charset=utf-8"</span><span class="o">);</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Cache-Control"</span><span class="o">,</span><span class="s">"no-cache"</span><span class="o">);</span>

<span class="n">Object</span> <span class="n">rspBody</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
    <span class="s">"\"Error\": \"InvalidArgumentException\","</span> <span class="o">+</span>
    <span class="s">"\"Message\": \"Missing field field_a\""</span> <span class="o">+</span>
  <span class="s">"}"</span><span class="o">);</span>


<span class="n">EventRequestModel</span> <span class="n">eventReq</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventRequestBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">time</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">())</span>
        <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">verb</span><span class="o">(</span><span class="s">"PATCH"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">apiVersion</span><span class="o">(</span><span class="s">"1.1.0"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">ipAddress</span><span class="o">(</span><span class="s">"61.48.220.123"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">headers</span><span class="o">(</span><span class="n">reqHeaders</span><span class="o">)</span>
        <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="n">reqBody</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>


<span class="n">EventResponseModel</span> <span class="n">eventRsp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventResponseBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">time</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1000</span><span class="o">))</span>
        <span class="o">.</span><span class="na">status</span><span class="o">(</span><span class="mi">500</span><span class="o">)</span>
        <span class="o">.</span><span class="na">headers</span><span class="o">(</span><span class="n">rspHeaders</span><span class="o">)</span>
        <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="n">rspBody</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">EventModel</span> <span class="n">eventModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">eventReq</span><span class="o">)</span>
        <span class="o">.</span><span class="na">response</span><span class="o">(</span><span class="n">eventRsp</span><span class="o">)</span>
        <span class="o">.</span><span class="na">userId</span><span class="o">(</span><span class="s">"my_user_id"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">sessionToken</span><span class="o">(</span><span class="s">"23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ng]s98y18cx98q3yhwmnhcfx43f"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// Asynchronous Call to Create Event</span>
<span class="n">MoesifAPIClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"my_application_id"</span><span class="o">);</span>
<span class="n">APIController</span> <span class="n">api</span> <span class="o">=</span> <span class="n">getClient</span><span class="o">().</span><span class="na">getAPI</span><span class="o">();</span>

<span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">callBack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Object</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Do something</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Do something else</span>
    <span class="o">}</span>
<span class="o">};</span>

<span class="n">api</span><span class="o">.</span><span class="na">createEventsBatchAsync</span><span class="o">(</span><span class="n">eventsList</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>

<span class="c1">// Synchronous Call to Create Event</span>
<span class="n">api</span><span class="o">.</span><span class="na">createEventsBatch</span><span class="o">(</span><span class="n">eventsList</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>
</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="c1">// 1. Import the module</span>
<span class="kd">var</span> <span class="nx">moesifapi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesifapi'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">EventModel</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">UserModel</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">ApiController</span><span class="p">;</span>

<span class="c1">// 2. Configure the ApplicationId</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">configuration</span><span class="p">;</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">ApplicationId</span> <span class="o">=</span> <span class="s2">"my_application_id"</span><span class="p">;</span>

<span class="c1">// 3. Generate an API Event Model</span>
<span class="kd">var</span> <span class="nx">reqHeaders</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{'</span> <span class="o">+</span>
        <span class="s1">'"Host": "api.acmeinc.com",'</span> <span class="o">+</span>
        <span class="s1">'"Accept": "*/*",'</span> <span class="o">+</span>
        <span class="s1">'"Connection": "Keep-Alive",'</span> <span class="o">+</span>
        <span class="s1">'"User-Agent": "Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)",'</span> <span class="o">+</span>
        <span class="s1">'"Content-Type": "application/json",'</span> <span class="o">+</span>
        <span class="s1">'"Content-Length": "126",'</span> <span class="o">+</span>
        <span class="s1">'"Accept-Encoding": "gzip"'</span> <span class="o">+</span>
    <span class="s1">'}'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">reqBody</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span> <span class="s1">'{'</span> <span class="o">+</span>
        <span class="s1">'"items": ['</span> <span class="o">+</span>
            <span class="s1">'{'</span> <span class="o">+</span>
                <span class="s1">'"type": 1,'</span> <span class="o">+</span>
                <span class="s1">'"id": "fwfrf"'</span> <span class="o">+</span>
            <span class="s1">'},'</span> <span class="o">+</span>
            <span class="s1">'{'</span> <span class="o">+</span>
                <span class="s1">'"type": 2,'</span> <span class="o">+</span>
                <span class="s1">'"id": "d43d3f"'</span> <span class="o">+</span>
            <span class="s1">'}'</span> <span class="o">+</span>
        <span class="s1">']'</span> <span class="o">+</span>
    <span class="s1">'}'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">rspHeaders</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{'</span> <span class="o">+</span>
        <span class="s1">'"Vary": "Accept-Encoding",'</span> <span class="o">+</span>
        <span class="s1">'"Pragma": "no-cache",'</span> <span class="o">+</span>
        <span class="s1">'"Expires": "-1",'</span> <span class="o">+</span>
        <span class="s1">'"Content-Type": "application/json; charset=utf-8",'</span> <span class="o">+</span>
        <span class="s1">'"Cache-Control": "no-cache"'</span> <span class="o">+</span>
    <span class="s1">'}'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">rspBody</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{'</span> <span class="o">+</span>
        <span class="s1">'"Error": "InvalidArgumentException",'</span> <span class="o">+</span>
        <span class="s1">'"Message": "Missing field field_a"'</span> <span class="o">+</span>
    <span class="s1">'}'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">reqDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">eventReq</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">time</span><span class="p">:</span> <span class="nx">reqDate</span><span class="p">,</span>
    <span class="na">uri</span><span class="p">:</span> <span class="s2">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
    <span class="na">verb</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
    <span class="na">apiVersion</span><span class="p">:</span> <span class="s2">"1.1.0"</span><span class="p">,</span>
    <span class="na">ipAddress</span><span class="p">:</span> <span class="s2">"61.48.220.123"</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">reqHeaders</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">reqBody</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">eventRsp</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">time</span><span class="p">:</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">setMilliseconds</span><span class="p">(</span><span class="nx">reqDate</span><span class="p">.</span><span class="nx">getMilliseconds</span><span class="p">()</span> <span class="o">+</span> <span class="mi">500</span><span class="p">),</span>
    <span class="na">status</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">rspHeaders</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">rspBody</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">eventModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">request</span><span class="p">:</span> <span class="nx">eventReq</span><span class="p">,</span>
    <span class="na">response</span><span class="p">:</span> <span class="nx">eventRsp</span><span class="p">,</span>
    <span class="na">userId</span><span class="p">:</span> <span class="s2">"my_user_id"</span><span class="p">,</span>
    <span class="na">sessionToken</span><span class="p">:</span> <span class="s2">"23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ng]s98y18cx98q3yhwmnhcfx43f"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">events</span> <span class="o">=</span> <span class="p">[</span><span class="k">new</span> <span class="nx">EventModel</span><span class="p">(</span><span class="nx">eventModel</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">EventModel</span><span class="p">(</span><span class="nx">eventModel</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">EventModel</span><span class="p">(</span><span class="nx">eventModel</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">EventModel</span><span class="p">(</span><span class="nx">eventModel</span><span class="p">)];</span>

<span class="c1">// 4. Send batch of events</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">createEventsBatch</span><span class="p">(</span><span class="nx">events</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do Something</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">from</span> <span class="nn">moesifapi.moesif_api_client</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">moesifapi.models</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">MoesifAPIClient</span><span class="p">(</span><span class="n">my_application_id</span><span class="p">)</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">api</span>

<span class="c"># Note: we recommend sending all API Calls via MVC framework middleware.</span>

<span class="n">req_headers</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span><span class="s">"""  {
  "Host": "api.acmeinc.com",
  "Accept": "*/*",
  "Connection": "Keep-Alive",
  "User-Agent": "Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)",
  "Content-Type": "application/json",
  "Content-Length": "126",
  "Accept-Encoding": "gzip"
} """</span><span class="p">)</span>

<span class="n">req_body</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span> <span class="s">"""{
  "items": [
    {
      "type": 1,
      "id": "fwfrf"
    },
    {
      "type": 2,
      "id": "d43d3f"
    }
  ]
}"""</span><span class="p">)</span>

<span class="n">rsp_headers</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span><span class="s">"""  {
    "Date": "Tue, 20 Jan 2019 23:46:49 GMT",
    "Vary": "Accept-Encoding",
    "Pragma": "no-cache",
    "Expires": "-1",
    "Content-Type": "application/json; charset=utf-8"
    "Cache-Control": "no-cache"
  } """</span><span class="p">)</span>

<span class="n">rsp_body</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span> <span class="s">"""{
    "Error": "InvalidArgumentException",
    "Message": "Missing field field_a"
  }"""</span><span class="p">)</span>


<span class="n">event_req</span> <span class="o">=</span> <span class="n">EventRequestModel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">uri</span> <span class="o">=</span> <span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
    <span class="n">verb</span> <span class="o">=</span> <span class="s">"PATCH"</span><span class="p">,</span>
    <span class="n">api_version</span> <span class="o">=</span> <span class="s">"1.1.0"</span><span class="p">,</span>
    <span class="n">ip_address</span> <span class="o">=</span> <span class="s">"61.48.220.123"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">req_headers</span><span class="p">,</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">req_body</span><span class="p">)</span>

<span class="n">event_rsp</span> <span class="o">=</span> <span class="n">EventResponseModel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(),</span>
    <span class="n">status</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">rsp_headers</span><span class="p">,</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">rsp_body</span><span class="p">)</span>

<span class="n">event_model</span> <span class="o">=</span> <span class="n">EventModel</span><span class="p">(</span><span class="n">request</span> <span class="o">=</span> <span class="n">event_req</span><span class="p">,</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">event_rsp</span><span class="p">,</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="s">"my_user_id"</span><span class="p">,</span>
    <span class="n">session_token</span> <span class="o">=</span> <span class="s">"my_application_id"</span><span class="p">)</span>


<span class="c"># Perform the API call through the SDK function</span>
<span class="n">api</span><span class="o">.</span><span class="n">create_event</span><span class="p">(</span><span class="n">event_model</span><span class="p">)</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'moesif_api'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">MoesifApi</span><span class="o">::</span><span class="no">MoesifAPIClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">my_application_id</span><span class="p">)</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">api_controller</span>

<span class="n">req_headers</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'{'</span><span class="p">\</span>
  <span class="s1">'"Host": "api.acmeinc.com",'</span><span class="p">\</span>
  <span class="s1">'"Accept": "*/*",'</span><span class="p">\</span>
  <span class="s1">'"Connection": "Keep-Alive",'</span><span class="p">\</span>
  <span class="s1">'"User-Agent": "Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)",'</span><span class="p">\</span>
  <span class="s1">'"Content-Type": "application/json",'</span><span class="p">\</span>
  <span class="s1">'"Content-Length": "126",'</span><span class="p">\</span>
  <span class="s1">'"Accept-Encoding": "gzip"'</span><span class="p">\</span>
<span class="s1">'}'</span><span class="p">)</span>

<span class="n">req_body</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span> <span class="s1">'{'</span><span class="p">\</span>
  <span class="s1">'"items": ['</span><span class="p">\</span>
    <span class="s1">'{'</span><span class="p">\</span>
      <span class="s1">'"type": 1,'</span><span class="p">\</span>
      <span class="s1">'"id": "fwfrf"'</span><span class="p">\</span>
    <span class="s1">'},'</span><span class="p">\</span>
    <span class="s1">'{'</span><span class="p">\</span>
      <span class="s1">'"type": 2,'</span><span class="p">\</span>
      <span class="s1">'"id": "d43d3f"'</span><span class="p">\</span>
    <span class="s1">'}'</span><span class="p">\</span>
  <span class="s1">']'</span><span class="p">\</span>
<span class="s1">'}'</span><span class="p">)</span>

<span class="n">rsp_headers</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'{'</span><span class="p">\</span>
  <span class="s1">'"Date": "Tue, 20 Jan 2019 23:46:49 GMT",'</span><span class="p">\</span>
                <span class="s1">'"Vary": "Accept-Encoding",'</span><span class="p">\</span>
  <span class="s1">'"Pragma": "no-cache",'</span><span class="p">\</span>
  <span class="s1">'"Expires": "-1",'</span><span class="p">\</span>
  <span class="s1">'"Content-Type": "application/json; charset=utf-8",'</span><span class="p">\</span>
                <span class="s1">'"Cache-Control": "no-cache"'</span><span class="p">\</span>
<span class="s1">'}'</span><span class="p">)</span>

<span class="n">rsp_body</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s1">'{'</span><span class="p">\</span>
  <span class="s1">'"Error": "InvalidArgumentException",'</span><span class="p">\</span>
  <span class="s1">'"Message": "Missing field field_a"'</span><span class="p">\</span>
<span class="s1">'}'</span><span class="p">)</span>


<span class="n">event_req</span> <span class="o">=</span> <span class="no">EventRequestModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">time</span> <span class="o">=</span> <span class="s2">"2019-06-20T04:45:42.914"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">uri</span> <span class="o">=</span> <span class="s2">"https://api.acmeinc.com/items/reviews/"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">verb</span> <span class="o">=</span> <span class="s2">"PATCH"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">api_version</span> <span class="o">=</span> <span class="s2">"1.1.0"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">ip_address</span> <span class="o">=</span> <span class="s2">"61.48.220.123"</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">headers</span> <span class="o">=</span> <span class="n">req_headers</span>
<span class="n">event_req</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">req_body</span>

<span class="n">event_rsp</span> <span class="o">=</span> <span class="no">EventResponseModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">event_rsp</span><span class="p">.</span><span class="nf">time</span> <span class="o">=</span> <span class="s2">"2019-06-20T04:45:42.914"</span>
<span class="n">event_rsp</span><span class="p">.</span><span class="nf">status</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">event_rsp</span><span class="p">.</span><span class="nf">headers</span> <span class="o">=</span> <span class="n">rsp_headers</span>
<span class="n">event_rsp</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">rsp_body</span>

<span class="n">event_model</span> <span class="o">=</span> <span class="no">EventModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">event_model</span><span class="p">.</span><span class="nf">request</span> <span class="o">=</span> <span class="n">event_req</span>
<span class="n">event_model</span><span class="p">.</span><span class="nf">response</span> <span class="o">=</span> <span class="n">event_rsp</span>
<span class="n">event_model</span><span class="p">.</span><span class="nf">user_id</span> <span class="o">=</span><span class="s2">"my_user_id"</span>
<span class="n">event_model</span><span class="p">.</span><span class="nf">session_token</span> <span class="o">=</span> <span class="s2">"my_application_id"</span>

<span class="c1"># Perform the API call through the SDK function</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="nf">create_event</span><span class="p">(</span><span class="n">event_model</span><span class="p">)</span>

</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">Moesif.Api</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Moesif.Api.Helpers</span><span class="p">;</span>

<span class="c1">// Create client instance using your ApplicationId</span>
<span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MoesifApiClient</span><span class="p">(</span><span class="s">"my_application_id"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">apiClient</span> <span class="p">=</span> <span class="nf">GetClient</span><span class="p">().</span><span class="n">Api</span><span class="p">;</span>

<span class="c1">// Parameters for the API call</span>
<span class="kt">var</span> <span class="n">reqHeaders</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Host</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">api</span><span class="p">.</span><span class="n">acmeinc</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Accept</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="p">*/*</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Connection</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Keep</span><span class="p">-</span><span class="n">Alive</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">User</span><span class="p">-</span><span class="n">Agent</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Dalvik</span><span class="p">/</span><span class="m">2.1</span><span class="p">.</span><span class="m">0</span> <span class="p">(</span><span class="n">Linux</span><span class="p">;</span> <span class="n">U</span><span class="p">;</span> <span class="n">Android</span> <span class="m">5.0</span><span class="p">.</span><span class="m">2</span><span class="p">;</span> <span class="n">C6906</span> <span class="n">Build</span><span class="p">/</span><span class="m">14.5</span><span class="p">.</span><span class="n">A</span><span class="p">.</span><span class="m">0.242</span><span class="p">)</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Length</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">126</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Accept</span><span class="p">-</span><span class="n">Encoding</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">gzip</span><span class="s">""</span>
    <span class="p">}</span><span class="s">");
</span>
<span class="kt">var</span> <span class="n">reqBody</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">items</span><span class="s">""</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s">""</span><span class="n">type</span><span class="s">""</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
                <span class="s">""</span><span class="n">id</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">fwfrf</span><span class="s">""</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s">""</span><span class="n">type</span><span class="s">""</span><span class="p">:</span> <span class="m">2</span><span class="p">,</span>
                <span class="s">""</span><span class="n">id</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">d43d3f</span><span class="s">""</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span><span class="s">");
</span>
<span class="kt">var</span> <span class="n">rspHeaders</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Date</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Tue</span><span class="p">,</span> <span class="m">20</span> <span class="n">Jan</span> <span class="m">2019</span> <span class="m">23</span><span class="p">:</span><span class="m">46</span><span class="p">:</span><span class="m">49</span> <span class="n">GMT</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Vary</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Accept</span><span class="p">-</span><span class="n">Encoding</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Pragma</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">no</span><span class="p">-</span><span class="n">cache</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Expires</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="p">-</span><span class="m">1</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="p">;</span> <span class="n">charset</span><span class="p">=</span><span class="n">utf</span><span class="p">-</span><span class="m">8</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Cache</span><span class="p">-</span><span class="n">Control</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">no</span><span class="p">-</span><span class="n">cache</span><span class="s">""</span>
    <span class="p">}</span> <span class="s">");
</span>
<span class="kt">var</span> <span class="n">rspBody</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Error</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">InvalidArgumentException</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Message</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Missing</span> <span class="n">field</span> <span class="n">field_a</span><span class="s">""</span>
    <span class="p">}</span><span class="s">");
</span>

<span class="kt">var</span> <span class="n">eventReq</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventRequestModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Time</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2019-06-20T04:45:42.914"</span><span class="p">),</span>
    <span class="n">Uri</span> <span class="p">=</span> <span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
    <span class="n">Verb</span> <span class="p">=</span> <span class="s">"PATCH"</span><span class="p">,</span>
    <span class="n">ApiVersion</span> <span class="p">=</span> <span class="s">"1.1.0"</span><span class="p">,</span>
    <span class="n">IpAddress</span> <span class="p">=</span> <span class="s">"61.48.220.123"</span><span class="p">,</span>
    <span class="n">Headers</span> <span class="p">=</span> <span class="n">reqHeaders</span><span class="p">,</span>
    <span class="n">Body</span> <span class="p">=</span> <span class="n">reqBody</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">eventRsp</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventResponseModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Time</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2019-06-20T04:45:42.914"</span><span class="p">),</span>
    <span class="n">Status</span> <span class="p">=</span> <span class="m">500</span><span class="p">,</span>
    <span class="n">Headers</span> <span class="p">=</span> <span class="n">rspHeaders</span><span class="p">,</span>
    <span class="n">Body</span> <span class="p">=</span> <span class="n">rspBody</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">eventModel</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Request</span> <span class="p">=</span> <span class="n">eventReq</span><span class="p">,</span>
    <span class="n">Response</span> <span class="p">=</span> <span class="n">eventRsp</span><span class="p">,</span>
    <span class="n">UserId</span> <span class="p">=</span> <span class="s">"my_user_id"</span><span class="p">,</span>
    <span class="n">SessionToken</span> <span class="p">=</span> <span class="s">"my_application_id"</span>
<span class="p">};</span>

<span class="c1">//////////////////////////////////////</span>
<span class="c1">// Example for making an async call //     </span>
<span class="c1">//////////////////////////////////////</span>
<span class="k">try</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">controller</span><span class="p">.</span><span class="nf">CreateEventAsync</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">APIException</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle Error</span>
<span class="p">};</span>

<span class="c1">///////////////////////////////////////////</span>
<span class="c1">// Example for making a synchronous call //</span>
<span class="c1">///////////////////////////////////////////</span>
<span class="k">try</span>
<span class="p">{</span>
    <span class="n">controller</span><span class="p">.</span><span class="nf">CreateEvent</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">APIException</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle Error</span>
<span class="p">};</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go/models"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"time"</span><span class="x">

</span><span class="n">apiClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">moesifapi</span><span class="o">.</span><span class="n">NewAPI</span><span class="p">(</span><span class="s">"your_moesif_application_id"</span><span class="p">)</span><span class="x">

</span><span class="n">reqTime</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">UTC</span><span class="p">()</span><span class="x">
</span><span class="n">apiVersion</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"1.0"</span><span class="x">
</span><span class="n">ipAddress</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"61.48.220.123"</span><span class="x">

</span><span class="n">req</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventRequestModel</span><span class="p">{</span><span class="x">
  </span><span class="n">Time</span><span class="o">:</span><span class="x">       </span><span class="o">&amp;</span><span class="n">reqTime</span><span class="p">,</span><span class="x">
  </span><span class="n">Uri</span><span class="o">:</span><span class="x">        </span><span class="s">"https://api.acmeinc.com/widgets"</span><span class="p">,</span><span class="x">
  </span><span class="n">Verb</span><span class="o">:</span><span class="x">       </span><span class="s">"GET"</span><span class="p">,</span><span class="x">
  </span><span class="n">ApiVersion</span><span class="o">:</span><span class="x"> </span><span class="o">&amp;</span><span class="n">apiVersion</span><span class="p">,</span><span class="x">
  </span><span class="n">IpAddress</span><span class="o">:</span><span class="x">  </span><span class="o">&amp;</span><span class="n">ipAddress</span><span class="p">,</span><span class="x">
  </span><span class="n">Headers</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
    </span><span class="s">"ReqHeader1"</span><span class="o">:</span><span class="x"> </span><span class="s">"ReqHeaderValue1"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
  </span><span class="n">Body</span><span class="o">:</span><span class="x"> </span><span class="no">nil</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">rspTime</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">UTC</span><span class="p">()</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="x"> </span><span class="o">*</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span><span class="x">

</span><span class="n">rsp</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventResponseModel</span><span class="p">{</span><span class="x">
  </span><span class="n">Time</span><span class="o">:</span><span class="x">      </span><span class="o">&amp;</span><span class="n">rspTime</span><span class="p">,</span><span class="x">
  </span><span class="n">Status</span><span class="o">:</span><span class="x">    </span><span class="m">500</span><span class="p">,</span><span class="x">
  </span><span class="n">IpAddress</span><span class="o">:</span><span class="x"> </span><span class="no">nil</span><span class="p">,</span><span class="x">
  </span><span class="n">Headers</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
    </span><span class="s">"RspHeader1"</span><span class="o">:</span><span class="x">     </span><span class="s">"RspHeaderValue1"</span><span class="p">,</span><span class="x">
    </span><span class="s">"Content-Type"</span><span class="o">:</span><span class="x">   </span><span class="s">"application/json"</span><span class="p">,</span><span class="x">
    </span><span class="s">"Content-Length"</span><span class="o">:</span><span class="x"> </span><span class="s">"1000"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
  </span><span class="n">Body</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
    </span><span class="s">"Key1"</span><span class="o">:</span><span class="x"> </span><span class="s">"Value1"</span><span class="p">,</span><span class="x">
    </span><span class="s">"Key2"</span><span class="o">:</span><span class="x"> </span><span class="m">12</span><span class="p">,</span><span class="x">
    </span><span class="s">"Key3"</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
      </span><span class="s">"Key3_1"</span><span class="o">:</span><span class="x"> </span><span class="s">"SomeValue"</span><span class="p">,</span><span class="x">
    </span><span class="p">},</span><span class="x">
  </span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">sessionToken</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"end user's API or Session Token"</span><span class="x">
</span><span class="n">userId</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"end user_id"</span><span class="x">

</span><span class="n">event</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventModel</span><span class="p">{</span><span class="x">
  </span><span class="n">Request</span><span class="o">:</span><span class="x">      </span><span class="n">req</span><span class="p">,</span><span class="x">
  </span><span class="n">Response</span><span class="o">:</span><span class="x">     </span><span class="n">rsp</span><span class="p">,</span><span class="x">
  </span><span class="n">SessionToken</span><span class="o">:</span><span class="x"> </span><span class="o">&amp;</span><span class="n">sessionToken</span><span class="p">,</span><span class="x">
  </span><span class="n">Tags</span><span class="o">:</span><span class="x">         </span><span class="no">nil</span><span class="p">,</span><span class="x">
  </span><span class="n">UserId</span><span class="o">:</span><span class="x">       </span><span class="o">&amp;</span><span class="n">userId</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">


</span><span class="c">// Queue the event (will queue the requests into batches and flush buffers periodically.)</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">QueueEvent</span><span class="p">(</span><span class="o">&amp;</span><span class="n">event</span><span class="p">)</span><span class="x">

</span><span class="c">// Create the event synchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">CreateEvent</span><span class="p">(</span><span class="o">&amp;</span><span class="n">event</span><span class="p">)</span><span class="x">

</span></code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Depending on your project setup, you might need to include composer's
// autoloader in your PHP code to enable autoloading of classes.
</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>

<span class="c1">// Import the SDK client in your project:
</span>
<span class="k">use</span> <span class="nx">MoesifApi\MoesifApiClient</span><span class="p">;</span>

<span class="c1">// Instantiate the client. After this, you can now access the Moesif API
// and call the respective methods:
</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MoesifApiClient</span><span class="p">(</span><span class="s2">"Your Moesif Application Id"</span><span class="p">);</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getApi</span><span class="p">();</span>

<span class="nv">$event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\EventModel</span><span class="p">();</span>
<span class="nv">$reqdate</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DateTime</span><span class="p">();</span>
<span class="nv">$rspdate</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DateTime</span><span class="p">();</span>

<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">request</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
       <span class="s2">"time"</span> <span class="o">=&gt;</span> <span class="nv">$reqdate</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="nx">DateTime</span><span class="o">::</span><span class="na">ISO8601</span><span class="p">),</span> 
       <span class="s2">"uri"</span> <span class="o">=&gt;</span> <span class="s2">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span> 
       <span class="s2">"verb"</span> <span class="o">=&gt;</span> <span class="s2">"PATCH"</span><span class="p">,</span> 
       <span class="s2">"api_version"</span> <span class="o">=&gt;</span> <span class="s2">"1.1.0"</span><span class="p">,</span> 
       <span class="s2">"ip_address"</span> <span class="o">=&gt;</span> <span class="s2">"61.48.220.123"</span><span class="p">,</span> 
       <span class="s2">"headers"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
         <span class="s2">"Host"</span> <span class="o">=&gt;</span> <span class="s2">"api.acmeinc.com"</span><span class="p">,</span> 
         <span class="s2">"Accept"</span> <span class="o">=&gt;</span> <span class="s2">"_/_"</span><span class="p">,</span> 
         <span class="s2">"Connection"</span> <span class="o">=&gt;</span> <span class="s2">"Keep-Alive"</span><span class="p">,</span> 
         <span class="s2">"User-Agent"</span> <span class="o">=&gt;</span> <span class="s2">"moesifapi-php/1.1.5"</span><span class="p">,</span>
         <span class="s2">"Content-Type"</span> <span class="o">=&gt;</span> <span class="s2">"application/json"</span><span class="p">,</span> 
         <span class="s2">"Content-Length"</span> <span class="o">=&gt;</span> <span class="s2">"126"</span><span class="p">,</span> 
         <span class="s2">"Accept-Encoding"</span> <span class="o">=&gt;</span> <span class="s2">"gzip"</span><span class="p">),</span> 
        <span class="s2">"body"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
          <span class="s2">"review_id"</span> <span class="o">=&gt;</span> <span class="mi">132232</span><span class="p">,</span> 
          <span class="s2">"item_id"</span> <span class="o">=&gt;</span> <span class="s2">"ewdcpoijc0"</span><span class="p">,</span> 
          <span class="s2">"liked"</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">)</span>
        <span class="p">);</span>

 <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">response</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
           <span class="s2">"time"</span> <span class="o">=&gt;</span> <span class="nv">$rspdate</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="nx">DateTime</span><span class="o">::</span><span class="na">ISO8601</span><span class="p">),</span> 
           <span class="s2">"status"</span> <span class="o">=&gt;</span> <span class="mi">500</span><span class="p">,</span> 
           <span class="s2">"headers"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
             <span class="s2">"Date"</span> <span class="o">=&gt;</span> <span class="s2">"Tue, 12 July 2019 23:46:49 GMT"</span><span class="p">,</span> 
             <span class="s2">"Vary"</span> <span class="o">=&gt;</span> <span class="s2">"Accept-Encoding"</span><span class="p">,</span> 
             <span class="s2">"Pragma"</span> <span class="o">=&gt;</span> <span class="s2">"no-cache"</span><span class="p">,</span> 
             <span class="s2">"Expires"</span> <span class="o">=&gt;</span> <span class="s2">"-1"</span><span class="p">,</span> 
             <span class="s2">"Content-Type"</span> <span class="o">=&gt;</span> <span class="s2">"application/json; charset=utf-8"</span><span class="p">,</span> 
             <span class="s2">"X-Powered-By"</span> <span class="o">=&gt;</span> <span class="s2">"ARR/3.0"</span><span class="p">,</span> 
             <span class="s2">"Cache-Control"</span> <span class="o">=&gt;</span> <span class="s2">"no-cache"</span><span class="p">,</span> 
             <span class="s2">"Arr-Disable-Session-Affinity"</span> <span class="o">=&gt;</span> <span class="s2">"true"</span><span class="p">),</span> 
             <span class="s2">"body"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
               <span class="s2">"item_id"</span> <span class="o">=&gt;</span> <span class="s2">"13221"</span><span class="p">,</span> 
               <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Red Brown Chair"</span><span class="p">,</span>
               <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Red brown chair for sale"</span><span class="p">,</span>
               <span class="s2">"price"</span> <span class="o">=&gt;</span> <span class="mf">22.23</span>
             <span class="p">)</span>
        <span class="p">);</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
          <span class="s2">"foo"</span> <span class="o">=&gt;</span> <span class="s2">"bar"</span> 
        <span class="p">);</span>

<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">user_id</span> <span class="o">=</span> <span class="s2">"12345"</span><span class="p">;</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">company_id</span> <span class="o">=</span> <span class="s2">"5678"</span><span class="p">;</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">session_token</span> <span class="o">=</span> <span class="s2">"23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ngs98y18cx98q3yhwmnhcfx43f"</span><span class="p">;</span>

<span class="nv">$api</span><span class="o">-&gt;</span><span class="na">createEvent</span><span class="p">(</span><span class="nv">$event</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request</td>
<td><strong>true</strong></td>
<td>The object that specifies the request message</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.time</p></td>
<td><strong>true</strong></td>
<td>Timestamp for the request in ISO 8601 format</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.uri</p></td>
<td><strong>true</strong></td>
<td>Full uri such as <em>https://api.com/?query=string</em> including host, query string, etc</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.verb</p></td>
<td><strong>true</strong></td>
<td>HTTP method used, i.e. <code class="prettyprint">GET</code>, <code class="prettyprint">POST</code></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.api_version</p></td>
<td>false</td>
<td>API Version you want to tag this request with such as <em>1.0.0</em></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.ip_address</p></td>
<td>false</td>
<td>IP address of the requester, If not set, we use the IP address of your logging API calls.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.headers</p></td>
<td><strong>true</strong></td>
<td>Headers of the  request as a <code class="prettyprint">Map&lt;string, string&gt;</code>.. Multiple headers with the same key name should be combined together such that the values are joined by a comma. <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2">HTTP Header Protocol on w3.org</a></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.body</p></td>
<td>false</td>
<td>Body of the request in JSON format or Base64 encoded binary data (see <em>transfer_encoding</em>)</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.transfer_encoding</p></td>
<td>false</td>
<td>A string that specifies the transfer encoding of Body being sent to Moesif. If field nonexistent, body assumed to be JSON or text. Only possible value is <em>base64</em> for sending binary data like protobuf</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>response</td>
<td>false</td>
<td>The object that specifies the response message, not set implies no response received such as a timeout.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.time</p></td>
<td><strong>true</strong></td>
<td>Timestamp for the response in ISO 8601 format</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.status</p></td>
<td><strong>true</strong></td>
<td>HTTP status code as number such as <em>200</em> or <em>500</em></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.ip_address</p></td>
<td>false</td>
<td>IP address of the responding server</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.headers</p></td>
<td><strong>true</strong></td>
<td>Headers of the response as a <code class="prettyprint">Map&lt;string, string&gt;</code>. Multiple headers with the same key name should be combined together such that the values are joined by a comma. <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2">HTTP Header Protocol on w3.org</a></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.body</p></td>
<td>false</td>
<td>Body of the response in JSON format or Base64 encoded binary data (see <em>transfer_encoding</em>)</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.transfer_encoding</p></td>
<td>false</td>
<td>A string that specifies the transfer encoding of Body being sent to Moesif. If field nonexistent, body assumed to be JSON or text. Only possible value is <em>base64</em> for sending binary data like protobuf</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>session_token</td>
<td><em>Recommend</em></td>
<td>The end user session token such as a JWT or API key, which may or may not be temporary. Moesif will auto-detect the session token automatically if not set.</td>
</tr>
<tr>
<td>user_id</td>
<td><em>Recommend</em></td>
<td>Identifies this API call to a permanent user_id</td>
</tr>
<tr>
<td>metadata</td>
<td>false</td>
<td>A JSON Object consisting of any custom metadata to be stored with this event.</td>
</tr>
</tbody></table>

<h3 id="create-an-events-batch">Create an Events Batch</h3>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/events/batch</code></strong></p>

<p>Creates and logs a batch of API Calls to Moesif.
The request body itself is an array API Calls object consisting of both the HTTP request and HTTP response.</p>

<p>This API takes a list form of the same model defined in create single event.</p>

<p>The maximum batch size is <strong>12MB</strong>. Break up larger batches.</p>

<p>API Calls from multiple end users can be added in a single batch. Each Event in the list has independent <code class="prettyprint">session_token</code> and <code class="prettyprint">user_id</code> fields.</p>

<aside class="info">
Replace <i>my_application_id</i> with your real Application Id
</aside>

<blockquote class="lang-specific yaml">
<code><b>POST</b> https://api.moesif.net/v1/events/batch</code>
<br><br><i>Example Request</i><br>
</blockquote>
<pre class="highlight yaml tab-yaml"><code>  <span class="pi">[</span>
    <span class="pi">{</span>
        <span class="s2">"</span><span class="s">request"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2019-06-20T04:45:42.914"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">uri"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://api.acmeinc.com/items/83738/reviews/"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">verb"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">POST"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">api_version"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1.1.0"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">61.48.220.123"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">Host"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">api.acmeinc.com"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Accept"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*/*"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Connection"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Keep-Alive"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Content-Type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">application/json"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Content-Length"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">126"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Accept-Encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">gzip"</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">items"</span><span class="pi">:</span> <span class="pi">[</span>
              <span class="pi">{</span>
                <span class="s2">"</span><span class="s">direction_type"</span><span class="pi">:</span> <span class="nv">1</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">item_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">fwdsfrf"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">liked"</span><span class="pi">:</span> <span class="nv">false</span>
              <span class="pi">},</span>
              <span class="pi">{</span>
                <span class="s2">"</span><span class="s">direction_type"</span><span class="pi">:</span> <span class="nv">2</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">item_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">d43d3f"</span><span class="pi">,</span>
                <span class="s2">"</span><span class="s">liked"</span><span class="pi">:</span> <span class="nv">true</span>
              <span class="pi">}</span>
            <span class="pi">]</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">transfer_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="pi">},</span>
        <span class="s2">"</span><span class="s">response"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2019-06-20T04:45:42.914"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">status"</span><span class="pi">:</span> <span class="nv">500</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">Vary"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Accept-Encoding"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Pragma"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">no-cache"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Expires"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">-1"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Content-Type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">application/json;</span><span class="nv"> </span><span class="s">charset=utf-8"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Cache-Control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">no-cache"</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">Error"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">InvalidArgumentException"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">Message"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Missing</span><span class="nv"> </span><span class="s">field</span><span class="nv"> </span><span class="s">location"</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">transfer_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="pi">},</span>
        <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mndug437f43"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ng]s98y18cx98q3yhwmnhcfx43f"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">some_string"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">I</span><span class="nv"> </span><span class="s">am</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">string"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">some_int"</span><span class="pi">:</span> <span class="nv">77</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">some_object"</span><span class="pi">:</span> <span class="pi">{</span>
                <span class="s2">"</span><span class="s">some_sub_field"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">some_value"</span>
            <span class="pi">}</span>
        <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">]</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.net/v1/events/batch <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'X-Moesif-Application-Id: YOUR_COLLECTOR_APPLICATION_ID'</span>


</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Import the Library</span>
<span class="n">MoesifAPIClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"my_application_id"</span><span class="o">);</span>
<span class="n">APIController</span> <span class="n">api</span> <span class="o">=</span> <span class="n">getClient</span><span class="o">().</span><span class="na">getAPI</span><span class="o">();</span>

<span class="c1">// Generate the events</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">reqHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Host"</span><span class="o">,</span> <span class="s">"api.acmeinc.com"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"*/*"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Connection"</span><span class="o">,</span> <span class="s">"Keep-Alive"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"User-Agent"</span><span class="o">,</span> <span class="s">"Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Content-Length"</span><span class="o">,</span> <span class="s">"126"</span><span class="o">);</span>
<span class="n">reqHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Accept-Encoding"</span><span class="o">,</span> <span class="s">"gzip"</span><span class="o">);</span>

<span class="n">Object</span> <span class="n">reqBody</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
  <span class="s">"\"items\": ["</span> <span class="o">+</span>
    <span class="s">"{"</span> <span class="o">+</span>
      <span class="s">"\"type\": 1,"</span> <span class="o">+</span>
      <span class="s">"\"id\": \"fwfrf\""</span> <span class="o">+</span>
    <span class="s">"},"</span> <span class="o">+</span>
    <span class="s">"{"</span> <span class="o">+</span>
      <span class="s">"\"type\": 2,"</span> <span class="o">+</span>
      <span class="s">"\"id\": \"d43d3f\""</span> <span class="o">+</span>
    <span class="s">"}"</span> <span class="o">+</span>
  <span class="s">"]"</span> <span class="o">+</span>
  <span class="s">"}"</span><span class="o">);</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">rspHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Date"</span><span class="o">,</span> <span class="s">"Tue, 20 Jan 2019 23:46:49 GMT"</span><span class="o">);</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Vary"</span><span class="o">,</span> <span class="s">"Accept-Encoding"</span><span class="o">);</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Pragma"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">);</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Expires"</span><span class="o">,</span> <span class="s">"-1"</span><span class="o">);</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json; charset=utf-8"</span><span class="o">);</span>
<span class="n">rspHeaders</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"Cache-Control"</span><span class="o">,</span><span class="s">"no-cache"</span><span class="o">);</span>

<span class="n">Object</span> <span class="n">rspBody</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
    <span class="s">"\"Error\": \"InvalidArgumentException\","</span> <span class="o">+</span>
    <span class="s">"\"Message\": \"Missing field field_a\""</span> <span class="o">+</span>
  <span class="s">"}"</span><span class="o">);</span>


<span class="n">EventRequestModel</span> <span class="n">eventReq</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventRequestBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">time</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">())</span>
        <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">verb</span><span class="o">(</span><span class="s">"PATCH"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">apiVersion</span><span class="o">(</span><span class="s">"1.1.0"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">ipAddress</span><span class="o">(</span><span class="s">"61.48.220.123"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">headers</span><span class="o">(</span><span class="n">reqHeaders</span><span class="o">)</span>
        <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="n">reqBody</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>


<span class="n">EventResponseModel</span> <span class="n">eventRsp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventResponseBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">time</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1000</span><span class="o">))</span>
        <span class="o">.</span><span class="na">status</span><span class="o">(</span><span class="mi">500</span><span class="o">)</span>
        <span class="o">.</span><span class="na">headers</span><span class="o">(</span><span class="n">rspHeaders</span><span class="o">)</span>
        <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="n">rspBody</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">EventModel</span> <span class="n">eventModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">eventReq</span><span class="o">)</span>
        <span class="o">.</span><span class="na">response</span><span class="o">(</span><span class="n">eventRsp</span><span class="o">)</span>
        <span class="o">.</span><span class="na">userId</span><span class="o">(</span><span class="s">"my_user_id"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">sessionToken</span><span class="o">(</span><span class="s">"23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ng]s98y18cx98q3yhwmnhcfx43f"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">EventModel</span><span class="o">&gt;</span> <span class="n">events</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">EventModel</span><span class="o">&gt;();</span>
<span class="n">events</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">eventModel</span><span class="o">);</span>
<span class="n">events</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">eventModel</span><span class="o">);</span>
<span class="n">events</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">eventModel</span><span class="o">);</span>
<span class="n">events</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">eventModel</span><span class="o">);</span>

<span class="c1">// Asynchronous Call to create new event</span>
<span class="n">MoesifAPIClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"my_application_id"</span><span class="o">);</span>
<span class="n">APIController</span> <span class="n">api</span> <span class="o">=</span> <span class="n">getClient</span><span class="o">().</span><span class="na">getAPI</span><span class="o">();</span>

<span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">callBack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Object</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// Do something</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// Do something else</span>
    <span class="o">}</span>
<span class="o">};</span>

<span class="n">api</span><span class="o">.</span><span class="na">createEventsBatchAsync</span><span class="o">(</span><span class="n">events</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>

<span class="c1">// Synchronous Call to create new event</span>
<span class="n">api</span><span class="o">.</span><span class="na">createEventsBatch</span><span class="o">(</span><span class="n">events</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>
</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="c1">// Import the module:</span>
<span class="kd">var</span> <span class="nx">moesifapi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesifapi'</span><span class="p">);</span>

<span class="c1">// Set your application id</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">configuration</span><span class="p">;</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">ApplicationId</span> <span class="o">=</span> <span class="s1">'my_application_id'</span><span class="p">;</span>

<span class="c1">// Create API Event Models and set fields</span>
<span class="kd">var</span> <span class="nx">reqHeaders</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{'</span> <span class="o">+</span>
        <span class="s1">'"Host": "api.acmeinc.com",'</span> <span class="o">+</span>
        <span class="s1">'"Accept": "*/*",'</span> <span class="o">+</span>
        <span class="s1">'"Connection": "Keep-Alive",'</span> <span class="o">+</span>
        <span class="s1">'"User-Agent": "Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)",'</span> <span class="o">+</span>
        <span class="s1">'"Content-Type": "application/json",'</span> <span class="o">+</span>
        <span class="s1">'"Content-Length": "126",'</span> <span class="o">+</span>
        <span class="s1">'"Accept-Encoding": "gzip"'</span> <span class="o">+</span>
    <span class="s1">'}'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">reqBody</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span> <span class="s1">'{'</span> <span class="o">+</span>
        <span class="s1">'"items": ['</span> <span class="o">+</span>
            <span class="s1">'{'</span> <span class="o">+</span>
                <span class="s1">'"type": 1,'</span> <span class="o">+</span>
                <span class="s1">'"id": "fwfrf"'</span> <span class="o">+</span>
            <span class="s1">'},'</span> <span class="o">+</span>
            <span class="s1">'{'</span> <span class="o">+</span>
                <span class="s1">'"type": 2,'</span> <span class="o">+</span>
                <span class="s1">'"id": "d43d3f"'</span> <span class="o">+</span>
            <span class="s1">'}'</span> <span class="o">+</span>
        <span class="s1">']'</span> <span class="o">+</span>
    <span class="s1">'}'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">rspHeaders</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{'</span> <span class="o">+</span>
        <span class="s1">'"Vary": "Accept-Encoding",'</span> <span class="o">+</span>
        <span class="s1">'"Pragma": "no-cache",'</span> <span class="o">+</span>
        <span class="s1">'"Expires": "-1",'</span> <span class="o">+</span>
        <span class="s1">'"Content-Type": "application/json; charset=utf-8",'</span> <span class="o">+</span>
        <span class="s1">'"Cache-Control": "no-cache"'</span> <span class="o">+</span>
    <span class="s1">'}'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">rspBody</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{'</span> <span class="o">+</span>
        <span class="s1">'"Error": "InvalidArgumentException",'</span> <span class="o">+</span>
        <span class="s1">'"Message": "Missing field field_a"'</span> <span class="o">+</span>
    <span class="s1">'}'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">reqDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">eventReq</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">time</span><span class="p">:</span> <span class="nx">reqDate</span><span class="p">,</span>
    <span class="na">uri</span><span class="p">:</span> <span class="s2">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
    <span class="na">verb</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
    <span class="na">apiVersion</span><span class="p">:</span> <span class="s2">"1.1.0"</span><span class="p">,</span>
    <span class="na">ipAddress</span><span class="p">:</span> <span class="s2">"61.48.220.123"</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">reqHeaders</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">reqBody</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">eventRsp</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">time</span><span class="p">:</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">setMilliseconds</span><span class="p">(</span><span class="nx">reqDate</span><span class="p">.</span><span class="nx">getMilliseconds</span><span class="p">()</span> <span class="o">+</span> <span class="mi">500</span><span class="p">),</span>
    <span class="na">status</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">rspHeaders</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">rspBody</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">eventA</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">request</span><span class="p">:</span> <span class="nx">eventReq</span><span class="p">,</span>
    <span class="na">response</span><span class="p">:</span> <span class="nx">eventRsp</span><span class="p">,</span>
    <span class="na">userId</span><span class="p">:</span> <span class="s2">"my_user_id"</span><span class="p">,</span>
    <span class="na">sessionToken</span><span class="p">:</span> <span class="s2">"23jdf0owekfmcn4u3qypxg09w4d8ayrcdx8nu2ng]s98y18cx98q3yhwmnhcfx43f"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">myEventModels</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">eventA</span> <span class="p">]</span>

<span class="c1">//Access various controllers by:</span>
<span class="kd">var</span> <span class="nx">controller</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">ApiController</span><span class="p">;</span>

<span class="c1">// Send the actual events</span>
<span class="nx">controller</span><span class="p">.</span><span class="nx">createEventsBatch</span><span class="p">(</span><span class="nx">myEventModels</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//  Handle Errors</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">from</span> <span class="nn">moesifapi.moesif_api_client</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">moesifapi.models</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c"># Setup API Client</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">MoesifAPIClient</span><span class="p">(</span><span class="n">my_application_id</span><span class="p">)</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">api_controller</span>


<span class="c"># Create API Event Models and set fields</span>
<span class="n">req_headers</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span><span class="s">"""  {
  "Host": "api.acmeinc.com",
  "Accept": "*/*",
  "Connection": "Keep-Alive",
  "User-Agent": "Dalvik/2.1.0 (Linux; U; Android 5.0.2; C6906 Build/14.5.A.0.242)",
  "Content-Type": "application/json",
  "Content-Length": "126",
  "Accept-Encoding": "gzip"
} """</span><span class="p">)</span>

<span class="n">req_body</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span> <span class="s">"""{
  "items": [
    {
      "type": 1,
      "id": "fwfrf"
    },
    {
      "type": 2,
      "id": "d43d3f"
    }
  ]
}"""</span><span class="p">)</span>

<span class="n">rsp_headers</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span><span class="s">"""  {
    "Date": "Tue, 20 Jan 2019 23:46:49 GMT",
    "Vary": "Accept-Encoding",
    "Pragma": "no-cache",
    "Expires": "-1",
    "Content-Type": "application/json; charset=utf-8"
    "Cache-Control": "no-cache"
  } """</span><span class="p">)</span>

<span class="n">rsp_body</span> <span class="o">=</span> <span class="n">APIHelper</span><span class="o">.</span><span class="n">json_deserialize</span><span class="p">(</span> <span class="s">"""{
    "Error": "InvalidArgumentException",
    "Message": "Missing field field_a"
  }"""</span><span class="p">)</span>


<span class="n">event_req</span> <span class="o">=</span> <span class="n">EventRequestModel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">uri</span> <span class="o">=</span> <span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
    <span class="n">verb</span> <span class="o">=</span> <span class="s">"PATCH"</span><span class="p">,</span>
    <span class="n">api_version</span> <span class="o">=</span> <span class="s">"1.1.0"</span><span class="p">,</span>
    <span class="n">ip_address</span> <span class="o">=</span> <span class="s">"61.48.220.123"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">req_headers</span><span class="p">,</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">req_body</span><span class="p">)</span>

<span class="n">event_rsp</span> <span class="o">=</span> <span class="n">EventResponseModel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(),</span>
    <span class="n">status</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">rsp_headers</span><span class="p">,</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">rsp_body</span><span class="p">)</span>

<span class="n">event_a</span> <span class="o">=</span> <span class="n">EventModel</span><span class="p">(</span><span class="n">request</span> <span class="o">=</span> <span class="n">event_req</span><span class="p">,</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">event_rsp</span><span class="p">,</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="s">"my_user_id"</span><span class="p">,</span>
    <span class="n">session_token</span> <span class="o">=</span> <span class="s">"my_application_id"</span><span class="p">)</span>

<span class="n">my_events</span> <span class="o">=</span> <span class="p">[</span> <span class="n">event_a</span> <span class="p">]</span>

<span class="c"># Send the actual events</span>
<span class="n">api</span><span class="o">.</span><span class="n">create_events_batch</span><span class="p">(</span><span class="n">my_events</span><span class="p">)</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'moesif_api'</span>

<span class="c1"># Setup API Client</span>
<span class="n">client</span> <span class="o">=</span> <span class="no">MoesifApi</span><span class="o">::</span><span class="no">MoesifAPIClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">my_application_id</span><span class="p">)</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">api_controller</span>

<span class="c1"># Create API Event Models and set fields</span>
<span class="n">event_a</span> <span class="o">=</span> <span class="no">EventModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">event_a</span><span class="p">.</span><span class="nf">user_id</span> <span class="o">=</span> <span class="s2">"my user id"</span> <span class="c1">#  ...</span>
<span class="n">my_event_models</span> <span class="o">=</span> <span class="p">[</span> <span class="n">event_a</span> <span class="p">]</span>

<span class="c1"># Send the actual events</span>
<span class="n">api</span><span class="p">.</span><span class="nf">create_events_batch</span><span class="p">(</span><span class="n">my_event_models</span><span class="p">)</span>

</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">Moesif.Api</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Moesif.Api.Helpers</span><span class="p">;</span>

<span class="c1">// Create client instance using your ApplicationId</span>
<span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MoesifApiClient</span><span class="p">(</span><span class="s">"my_application_id"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">apiClient</span> <span class="p">=</span> <span class="nf">GetClient</span><span class="p">().</span><span class="n">Api</span><span class="p">;</span>

<span class="c1">// Parameters for the API call</span>
<span class="kt">var</span> <span class="n">reqHeaders</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Host</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">api</span><span class="p">.</span><span class="n">acmeinc</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Accept</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="p">*/*</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Connection</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Keep</span><span class="p">-</span><span class="n">Alive</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">User</span><span class="p">-</span><span class="n">Agent</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Dalvik</span><span class="p">/</span><span class="m">2.1</span><span class="p">.</span><span class="m">0</span> <span class="p">(</span><span class="n">Linux</span><span class="p">;</span> <span class="n">U</span><span class="p">;</span> <span class="n">Android</span> <span class="m">5.0</span><span class="p">.</span><span class="m">2</span><span class="p">;</span> <span class="n">C6906</span> <span class="n">Build</span><span class="p">/</span><span class="m">14.5</span><span class="p">.</span><span class="n">A</span><span class="p">.</span><span class="m">0.242</span><span class="p">)</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Length</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="m">126</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Accept</span><span class="p">-</span><span class="n">Encoding</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">gzip</span><span class="s">""</span>
    <span class="p">}</span><span class="s">");
</span>
<span class="kt">var</span> <span class="n">reqBody</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">items</span><span class="s">""</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s">""</span><span class="n">type</span><span class="s">""</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
                <span class="s">""</span><span class="n">id</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">fwfrf</span><span class="s">""</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s">""</span><span class="n">type</span><span class="s">""</span><span class="p">:</span> <span class="m">2</span><span class="p">,</span>
                <span class="s">""</span><span class="n">id</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">d43d3f</span><span class="s">""</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span><span class="s">");
</span>
<span class="kt">var</span> <span class="n">rspHeaders</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Date</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Tue</span><span class="p">,</span> <span class="m">20</span> <span class="n">Jan</span> <span class="m">2019</span> <span class="m">23</span><span class="p">:</span><span class="m">46</span><span class="p">:</span><span class="m">49</span> <span class="n">GMT</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Vary</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Accept</span><span class="p">-</span><span class="n">Encoding</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Pragma</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">no</span><span class="p">-</span><span class="n">cache</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Expires</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="p">-</span><span class="m">1</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="p">;</span> <span class="n">charset</span><span class="p">=</span><span class="n">utf</span><span class="p">-</span><span class="m">8</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Cache</span><span class="p">-</span><span class="n">Control</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">no</span><span class="p">-</span><span class="n">cache</span><span class="s">""</span>
    <span class="p">}</span> <span class="s">");
</span>
<span class="kt">var</span> <span class="n">rspBody</span> <span class="p">=</span> <span class="n">APIHelper</span><span class="p">.</span><span class="n">JsonDeserialize</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;(</span><span class="err">@</span><span class="s">" {
</span>        <span class="s">""</span><span class="n">Error</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">InvalidArgumentException</span><span class="s">""</span><span class="p">,</span>
        <span class="s">""</span><span class="n">Message</span><span class="s">""</span><span class="p">:</span> <span class="s">""</span><span class="n">Missing</span> <span class="n">field</span> <span class="n">field_a</span><span class="s">""</span>
    <span class="p">}</span><span class="s">");
</span>
<span class="kt">var</span> <span class="n">reqDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Date</span><span class="p">();</span>
<span class="kt">var</span> <span class="n">eventReq</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventRequestModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Time</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2019-06-20T04:45:42.914"</span><span class="p">),</span>
    <span class="n">Uri</span> <span class="p">=</span> <span class="s">"https://api.acmeinc.com/items/reviews/"</span><span class="p">,</span>
    <span class="n">Verb</span> <span class="p">=</span> <span class="s">"PATCH"</span><span class="p">,</span>
    <span class="n">ApiVersion</span> <span class="p">=</span> <span class="s">"1.1.0"</span><span class="p">,</span>
    <span class="n">IpAddress</span> <span class="p">=</span> <span class="s">"61.48.220.123"</span><span class="p">,</span>
    <span class="n">Headers</span> <span class="p">=</span> <span class="n">reqHeaders</span><span class="p">,</span>
    <span class="n">Body</span> <span class="p">=</span> <span class="n">reqBody</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">eventRsp</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventResponseModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Time</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2019-06-20T04:45:42.914"</span><span class="p">),</span>
    <span class="n">Status</span> <span class="p">=</span> <span class="m">500</span><span class="p">,</span>
    <span class="n">Headers</span> <span class="p">=</span> <span class="n">rspHeaders</span><span class="p">,</span>
    <span class="n">Body</span> <span class="p">=</span> <span class="n">rspBody</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">eventModel</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Request</span> <span class="p">=</span> <span class="n">eventReq</span><span class="p">,</span>
    <span class="n">Response</span> <span class="p">=</span> <span class="n">eventRsp</span><span class="p">,</span>
    <span class="n">UserId</span> <span class="p">=</span> <span class="s">"my_user_id"</span><span class="p">,</span>
    <span class="n">SessionToken</span> <span class="p">=</span> <span class="s">"my_application_id"</span>
<span class="p">};</span>

<span class="c1">// Create a List</span>
<span class="kt">var</span> <span class="n">events</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">EventModel</span><span class="p">&gt;();</span>
<span class="n">events</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>
<span class="n">events</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>
<span class="n">events</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">eventModel</span><span class="p">);</span>

<span class="c1">//////////////////////////////////////</span>
<span class="c1">// Example for making an async call //  </span>
<span class="c1">//////////////////////////////////////</span>
<span class="k">try</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">controller</span><span class="p">.</span><span class="nf">CreateEventsBatchAsync</span><span class="p">(</span><span class="n">events</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">APIException</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle Error</span>
<span class="p">};</span>

<span class="c1">///////////////////////////////////////////</span>
<span class="c1">// Example for making a synchronous call //</span>
<span class="c1">///////////////////////////////////////////</span>
<span class="k">try</span>
<span class="p">{</span>
    <span class="n">controller</span><span class="p">.</span><span class="nf">CreateEventsBatch</span><span class="p">(</span><span class="n">events</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">APIException</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Handle Error</span>
<span class="p">};</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go/models"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"time"</span><span class="x">

</span><span class="n">apiClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">moesifapi</span><span class="o">.</span><span class="n">NewAPI</span><span class="p">(</span><span class="s">"my_application_id"</span><span class="p">)</span><span class="x">

</span><span class="n">reqTime</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">UTC</span><span class="p">()</span><span class="x">
</span><span class="n">apiVersion</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"1.0"</span><span class="x">
</span><span class="n">ipAddress</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"61.48.220.123"</span><span class="x">

</span><span class="n">req</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventRequestModel</span><span class="p">{</span><span class="x">
  </span><span class="n">Time</span><span class="o">:</span><span class="x">       </span><span class="o">&amp;</span><span class="n">reqTime</span><span class="p">,</span><span class="x">
  </span><span class="n">Uri</span><span class="o">:</span><span class="x">        </span><span class="s">"https://api.acmeinc.com/widgets"</span><span class="p">,</span><span class="x">
  </span><span class="n">Verb</span><span class="o">:</span><span class="x">       </span><span class="s">"GET"</span><span class="p">,</span><span class="x">
  </span><span class="n">ApiVersion</span><span class="o">:</span><span class="x"> </span><span class="o">&amp;</span><span class="n">apiVersion</span><span class="p">,</span><span class="x">
  </span><span class="n">IpAddress</span><span class="o">:</span><span class="x">  </span><span class="o">&amp;</span><span class="n">ipAddress</span><span class="p">,</span><span class="x">
  </span><span class="n">Headers</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
    </span><span class="s">"ReqHeader1"</span><span class="o">:</span><span class="x"> </span><span class="s">"ReqHeaderValue1"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
  </span><span class="n">Body</span><span class="o">:</span><span class="x"> </span><span class="no">nil</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">rspTime</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">UTC</span><span class="p">()</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="x"> </span><span class="o">*</span><span class="x"> </span><span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span><span class="x">

</span><span class="n">rsp</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventResponseModel</span><span class="p">{</span><span class="x">
  </span><span class="n">Time</span><span class="o">:</span><span class="x">      </span><span class="o">&amp;</span><span class="n">rspTime</span><span class="p">,</span><span class="x">
  </span><span class="n">Status</span><span class="o">:</span><span class="x">    </span><span class="m">500</span><span class="p">,</span><span class="x">
  </span><span class="n">IpAddress</span><span class="o">:</span><span class="x"> </span><span class="no">nil</span><span class="p">,</span><span class="x">
  </span><span class="n">Headers</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
    </span><span class="s">"RspHeader1"</span><span class="o">:</span><span class="x"> </span><span class="s">"RspHeaderValue1"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
  </span><span class="n">Body</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
    </span><span class="s">"Key1"</span><span class="o">:</span><span class="x"> </span><span class="s">"Value1"</span><span class="p">,</span><span class="x">
    </span><span class="s">"Key2"</span><span class="o">:</span><span class="x"> </span><span class="m">12</span><span class="p">,</span><span class="x">
    </span><span class="s">"Key3"</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
      </span><span class="s">"Key3_1"</span><span class="o">:</span><span class="x"> </span><span class="s">"SomeValue"</span><span class="p">,</span><span class="x">
    </span><span class="p">},</span><span class="x">
  </span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">sessionToken</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"end user API or session token"</span><span class="x">
</span><span class="n">userId</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"end user_id"</span><span class="x">

</span><span class="n">event</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">EventModel</span><span class="p">{</span><span class="x">
  </span><span class="n">Request</span><span class="o">:</span><span class="x">      </span><span class="n">req</span><span class="p">,</span><span class="x">
  </span><span class="n">Response</span><span class="o">:</span><span class="x">     </span><span class="n">rsp</span><span class="p">,</span><span class="x">
  </span><span class="n">SessionToken</span><span class="o">:</span><span class="x"> </span><span class="o">&amp;</span><span class="n">sessionToken</span><span class="p">,</span><span class="x">
  </span><span class="n">Tags</span><span class="o">:</span><span class="x">         </span><span class="no">nil</span><span class="p">,</span><span class="x">
  </span><span class="n">UserId</span><span class="o">:</span><span class="x">       </span><span class="o">&amp;</span><span class="n">userId</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">events</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="nb">make</span><span class="p">([]</span><span class="o">*</span><span class="n">models</span><span class="o">.</span><span class="n">EventModel</span><span class="p">,</span><span class="x"> </span><span class="m">20</span><span class="p">)</span><span class="x">
</span><span class="k">for</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="m">0</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">20</span><span class="p">;</span><span class="x"> </span><span class="n">i</span><span class="o">++</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">events</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">event</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// Queue the events</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">QueueEvents</span><span class="p">(</span><span class="n">events</span><span class="p">)</span><span class="x">

</span><span class="c">// Create the events batch synchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">CreateEventsBatch</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="x">

</span></code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Depending on your project setup, you might need to include composer's
// autoloader in your PHP code to enable autoloading of classes.
</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>

<span class="c1">// Import the SDK client in your project:
</span>
<span class="k">use</span> <span class="nx">MoesifApi\MoesifApiClient</span><span class="p">;</span>

<span class="c1">// Instantiate the client. After this, you can now access the Moesif API
// and call the respective methods:
</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MoesifApiClient</span><span class="p">(</span><span class="s2">"Your application Id"</span><span class="p">);</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">getApi</span><span class="p">();</span>
</code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request</td>
<td><strong>true</strong></td>
<td>The object that specifies the request message</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.time</p></td>
<td><strong>true</strong></td>
<td>Timestamp for the request in ISO 8601 format</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.uri</p></td>
<td><strong>true</strong></td>
<td>Full uri such as <em>https://api.com/?query=string</em> including host, query string, etc</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.verb</p></td>
<td><strong>true</strong></td>
<td>HTTP method used, i.e. <code class="prettyprint">GET</code>, <code class="prettyprint">POST</code></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.api_version</p></td>
<td>false</td>
<td>API Version you want to tag this request with such as <em>1.0.0</em></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.ip_address</p></td>
<td>false</td>
<td>IP address of the requester, If not set, we use the IP address of your logging API calls.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.headers</p></td>
<td><strong>true</strong></td>
<td>Headers of the  request as a <code class="prettyprint">Map&lt;string, string&gt;</code>. Multiple headers with the same key name should be combined together such that the values are joined by a comma. <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2">HTTP Header Protocol on w3.org</a></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.body</p></td>
<td>false</td>
<td>Body of the request in JSON format or Base64 encoded binary data (see <em>transfer_encoding</em>)</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">request.transfer_encoding</p></td>
<td>false</td>
<td>A string that specifies the transfer encoding of Body being sent to Moesif. If field nonexistent, body assumed to be JSON or text. Only possible value is <em>base64</em> for sending binary data like protobuf</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>response</td>
<td>false</td>
<td>The object that specifies the response message, not set implies no response received such as a timeout.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.time</p></td>
<td><strong>true</strong></td>
<td>Timestamp for the response in ISO 8601 format</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.status</p></td>
<td><strong>true</strong></td>
<td>HTTP status code as number such as <em>200</em> or <em>500</em></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.ip_address</p></td>
<td>false</td>
<td>IP address of the responding server</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.headers</p></td>
<td><strong>true</strong></td>
<td>Headers of the response as a <code class="prettyprint">Map&lt;string, string&gt;</code>. Multiple headers with the same key name should be combined together such that the values are joined by a comma. <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2">HTTP Header Protocol on w3.org</a></td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.body</p></td>
<td>false</td>
<td>Body of the response in JSON format or Base64 encoded binary data (see <em>transfer_encoding</em>)</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">response.transfer_encoding</p></td>
<td>false</td>
<td>A string that specifies the transfer encoding of Body being sent to Moesif. If field nonexistent, body assumed to be JSON or text. Only possible value is <em>base64</em> for sending binary data like protobuf</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>session_token</td>
<td><em>Recommend</em></td>
<td>The end user session token such as a JWT or API key, which may or may not be temporary. Moesif will auto-detect the session token automatically if not set.</td>
</tr>
<tr>
<td>user_id</td>
<td><em>Recommend</em></td>
<td>Identifies this API call to a permanent user_id</td>
</tr>
<tr>
<td>metadata</td>
<td>false</td>
<td>A JSON Object consisting of any custom metadata to be stored with this event.</td>
</tr>
</tbody></table>

          <h2 id="users">Users</h2>

<h3 id="update-a-user">Update a User</h3>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/users</code></strong></p>

<p>Updates a user profile in Moesif. A user can be a customer or end user accessing the API.
Adding user metadata enables you to understand API usage across different cohorts, 
user demographics, acquisition channels, etc.</p>

<p>Any custom user properties can be stored via the <code class="prettyprint">metadata</code> object.</p>

<p>We’ve reserved some fields names in the <code class="prettyprint">metadata</code> object that have semantic meanings for users, and we handle them in special ways. 
For example, we expect email to be a string containing the user’s email address which is used to sync with 
external CRMs and to look up a user&rsquo;s Gravatar and demographics.</p>

<p>Reserved metadata fields include:</p>

<ul>
<li>email</li>
<li>name (Which can contain both first and last name)</li>
<li>first_name</li>
<li>last_name</li>
<li>phone</li>
<li>photo_url</li>
</ul>

<h4 id="create-vs-update">Create vs update</h4>

<p>If the user does not exist, Moesif will create a new one. </p>

<p>If a user exists, the new user properties will be merged with the existing properties
recursively. This means you don&rsquo;t need to resend the entire user object if you are only 
updating a single field.</p>

<aside class="notice">
Replace <i>YOUR_COLLECTOR_APPLICATION_ID</i> with your real Application Id found by logging into Moesif 
and selecting API keys from top right menu.
</aside>

<blockquote class="lang-specific yaml">
<code><b>POST</b> https://api.moesif.net/v1/users</code>
<br><br><i>Example Request</i><br>
</blockquote>
<pre class="highlight yaml tab-yaml"><code>  <span class="pi">{</span>
    <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">12345"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">company_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">67890"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">XXXXXXXXXX"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">campaign"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">utm_source"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">google"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_medium"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">cpc"</span><span class="pi">,</span> 
      <span class="s2">"</span><span class="s">utm_campaign"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">adwords"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_term"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">api+tooling"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_content"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">landing"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">john@acmeinc.com"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">John"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Doe"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">title"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Software</span><span class="nv"> </span><span class="s">Engineer"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">sales_info"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">stage"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Customer"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">lifetime_value"</span><span class="pi">:</span> <span class="nv">24000</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">account_owner"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mary@contoso.com"</span>
      <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">}</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.net/v1/users <span class="se">\</span>
  -d <span class="s1">'{"user_id":"12345","company_id":"67890","session_token":"XXXXXXXXXX","campaign":{"utm_source":"google","utm_medium":"cpc","utm_campaign":"adwords","utm_term":"api+tooling","utm_content":"landing"},"metadata":{"email":"john@acmeinc.com","first_name":"John","last_name":"Doe","title":"Software Engineer","sales_info":{"stage":"Customer","lifetime_value":24000,"account_owner":"mary@contoso.com"}}}'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'X-Moesif-Application-Id: YOUR_COLLECTOR_APPLICATION_ID'</span>
</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kd">var</span> <span class="nx">moesifapi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesifapi'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">apiClient</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">ApiController</span><span class="p">;</span>

<span class="nx">moesifapi</span><span class="p">.</span><span class="nx">configuration</span><span class="p">.</span><span class="nx">ApplicationId</span> <span class="o">=</span> <span class="s2">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">;</span>

<span class="c1">// Only userId is required.</span>
<span class="c1">// metadata can be any custom object</span>
<span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">userId</span><span class="p">:</span> <span class="s1">'12345'</span><span class="p">,</span>
  <span class="na">companyId</span><span class="p">:</span> <span class="s1">'67890'</span>
  <span class="na">campaign</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">utmSource</span><span class="p">:</span> <span class="s1">'google'</span><span class="p">,</span>
    <span class="na">utmMedium</span><span class="p">:</span> <span class="s1">'cpc'</span><span class="p">,</span> 
    <span class="na">utmCampaign</span><span class="p">:</span> <span class="s1">'adwords'</span><span class="p">,</span>
    <span class="na">utmTerm</span><span class="p">:</span> <span class="s1">'api+tooling'</span><span class="p">,</span>
    <span class="na">utmContent</span><span class="p">:</span> <span class="s1">'landing'</span>
  <span class="p">},</span>
  <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">email</span><span class="p">:</span> <span class="s1">'john@acmeinc.com'</span><span class="p">,</span>
    <span class="na">firstName</span><span class="p">:</span> <span class="s1">'John'</span><span class="p">,</span>
    <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">'Software Engineer'</span><span class="p">,</span>
    <span class="na">salesInfo</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">stage</span><span class="p">:</span> <span class="s1">'Customer'</span><span class="p">,</span>
        <span class="na">lifetimeValue</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="na">accountOwner</span><span class="p">:</span> <span class="s1">'mary@contoso.com'</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// 4. Create a single user</span>
<span class="nx">apiClient</span><span class="p">.</span><span class="nx">updateUser</span><span class="p">(</span><span class="k">new</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">UserModel</span><span class="p">(</span><span class="nx">user</span><span class="p">),</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do Something</span>
<span class="p">});</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">moesifapi.moesif_api_client</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">moesifapi.models</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">MoesifAPIClient</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="o">.</span><span class="n">api</span>

<span class="c"># Only user_id is required.</span>
<span class="c"># Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c"># See https://www.moesif.com/docs/api#users for campaign schema</span>
<span class="c"># metadata can be any custom object</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'user_id'</span><span class="p">:</span> <span class="s">'12345'</span><span class="p">,</span>
  <span class="s">'company_id'</span><span class="p">:</span> <span class="s">'67890'</span><span class="p">,</span> <span class="c"># If set, associate user with a company object</span>
  <span class="s">'campaign'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'utm_source'</span><span class="p">:</span> <span class="s">'google'</span><span class="p">,</span>
    <span class="s">'utm_medium'</span><span class="p">:</span> <span class="s">'cpc'</span><span class="p">,</span> 
    <span class="s">'utm_campaign'</span><span class="p">:</span> <span class="s">'adwords'</span><span class="p">,</span>
    <span class="s">'utm_term'</span><span class="p">:</span> <span class="s">'api+tooling'</span><span class="p">,</span>
    <span class="s">'utm_content'</span><span class="p">:</span> <span class="s">'landing'</span>
  <span class="p">},</span>
  <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'email'</span><span class="p">:</span> <span class="s">'john@acmeinc.com'</span><span class="p">,</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'John'</span><span class="p">,</span>
    <span class="s">'last_name'</span><span class="p">:</span> <span class="s">'Doe'</span><span class="p">,</span>
    <span class="s">'title'</span><span class="p">:</span> <span class="s">'Software Engineer'</span><span class="p">,</span>
    <span class="s">'sales_info'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'stage'</span><span class="p">:</span> <span class="s">'Customer'</span><span class="p">,</span>
        <span class="s">'lifetime_value'</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="s">'account_owner'</span><span class="p">:</span> <span class="s">'mary@contoso.com'</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">update_user</span> <span class="o">=</span> <span class="n">api_client</span><span class="o">.</span><span class="n">update_user</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="n">api_client</span> <span class="o">=</span> <span class="no">MoesifApi</span><span class="o">::</span><span class="no">MoesifAPIClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'YOUR_COLLECTOR_APPLICATION_ID'</span><span class="p">).</span><span class="nf">api</span>

<span class="n">metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'john@acmeinc.com'</span><span class="p">,</span>
  <span class="ss">:first_name</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="ss">:last_name</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s1">'Software Engineer'</span><span class="p">,</span>
  <span class="ss">:salesInfo</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:stage</span> <span class="o">=&gt;</span> <span class="s1">'Customer'</span><span class="p">,</span>
      <span class="ss">:lifetime_value</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
      <span class="ss">:accountOwner</span> <span class="o">=&gt;</span> <span class="s1">'mary@contoso.com'</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1"># See https://www.moesif.com/docs/api#users for campaign schema</span>
<span class="n">campaign</span> <span class="o">=</span> <span class="no">CampaignModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_source</span> <span class="o">=</span> <span class="s2">"google"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_medium</span> <span class="o">=</span> <span class="s2">"cpc"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_campaign</span> <span class="o">=</span> <span class="s2">"adwords"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_term</span> <span class="o">=</span> <span class="s2">"api+tooling"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_content</span> <span class="o">=</span> <span class="s2">"landing"</span>

<span class="c1"># Only user_id is required.</span>
<span class="c1"># metadata can be any custom object</span>
<span class="n">user</span> <span class="o">=</span> <span class="no">UserModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">user</span><span class="p">.</span><span class="nf">user_id</span> <span class="o">=</span> <span class="s2">"12345"</span>
<span class="n">user</span><span class="p">.</span><span class="nf">company_id</span> <span class="o">=</span> <span class="s2">"67890"</span> <span class="c1"># If set, associate user with a company object</span>
<span class="n">user</span><span class="p">.</span><span class="nf">campaign</span> <span class="o">=</span> <span class="n">campaign</span>
<span class="n">user</span><span class="p">.</span><span class="nf">metadata</span> <span class="o">=</span> <span class="n">metadata</span>

<span class="n">update_user</span> <span class="o">=</span> <span class="n">api_client</span><span class="p">.</span><span class="nf">update_user</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Depending on your project setup, you might need to include composer's
// autoloader in your PHP code to enable autoloading of classes.
</span><span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>

<span class="c1">// Import the SDK client in your project:
</span><span class="k">use</span> <span class="nx">MoesifApi\MoesifApiClient</span><span class="p">;</span>
<span class="nv">$apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MoesifApiClient</span><span class="p">(</span><span class="s2">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getApi</span><span class="p">();;</span>

<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels
// See https://www.moesif.com/docs/api#update-a-user for campaign schema
</span><span class="nv">$campaign</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\CampaignModel</span><span class="p">();</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmSource</span> <span class="o">=</span> <span class="s2">"google"</span><span class="p">;</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmCampaign</span> <span class="o">=</span> <span class="s2">"cpc"</span><span class="p">;</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmMedium</span> <span class="o">=</span> <span class="s2">"adwords"</span><span class="p">;</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmContent</span> <span class="o">=</span> <span class="s2">"api+tooling"</span><span class="p">;</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmTerm</span> <span class="o">=</span> <span class="s2">"landing"</span><span class="p">;</span>

<span class="c1">// metadata can be any custom object
</span><span class="nv">$user</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"john@acmeinc.com"</span><span class="p">,</span>
        <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
        <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Doe"</span><span class="p">,</span>
        <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Software Engineer"</span><span class="p">,</span>
        <span class="s2">"sales_info"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s2">"stage"</span> <span class="o">=&gt;</span> <span class="s2">"Customer"</span><span class="p">,</span>
            <span class="s2">"lifetime_value"</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
            <span class="s2">"account_owner"</span> <span class="o">=&gt;</span> <span class="s2">"mary@contoso.com"</span>
        <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$user</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\UserModel</span><span class="p">();</span>
<span class="nv">$user</span><span class="o">-&gt;</span><span class="na">userId</span> <span class="o">=</span> <span class="s2">"12345"</span><span class="p">;</span>
<span class="nv">$user</span><span class="o">-&gt;</span><span class="na">companyId</span> <span class="o">=</span> <span class="s2">"67890"</span><span class="p">;</span> <span class="c1">// If set, associate user with a company object
</span><span class="nv">$user</span><span class="o">-&gt;</span><span class="na">campaign</span> <span class="o">=</span> <span class="nv">$campaign</span><span class="p">;</span>
<span class="nv">$user</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="nv">$metadata</span><span class="p">;</span>

<span class="nv">$apiClient</span><span class="o">-&gt;</span><span class="na">updateUser</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go/models"</span><span class="x">

</span><span class="n">apiClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">moesifapi</span><span class="o">.</span><span class="n">NewAPI</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="x">

</span><span class="c">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span><span class="x">
</span><span class="c">// See https://www.moesif.com/docs/api#users for campaign schema</span><span class="x">
</span><span class="n">campaign</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">CampaignModel</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">UtmSource</span><span class="o">:</span><span class="x"> </span><span class="s">"google"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmMedium</span><span class="o">:</span><span class="x"> </span><span class="s">"cpc"</span><span class="p">,</span><span class="x"> 
  </span><span class="n">UtmCampaign</span><span class="o">:</span><span class="x"> </span><span class="s">"adwords"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmTerm</span><span class="o">:</span><span class="x"> </span><span class="s">"api+tooling"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmContent</span><span class="o">:</span><span class="x"> </span><span class="s">"landing"</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// metadata can be any custom dictionary</span><span class="x">
</span><span class="n">metadata</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
  </span><span class="s">"email"</span><span class="p">,</span><span class="x"> </span><span class="s">"john@acmeinc.com"</span><span class="p">,</span><span class="x">
  </span><span class="s">"first_name"</span><span class="p">,</span><span class="x"> </span><span class="s">"John"</span><span class="p">,</span><span class="x">
  </span><span class="s">"last_name"</span><span class="p">,</span><span class="x"> </span><span class="s">"Doe"</span><span class="p">,</span><span class="x">
  </span><span class="s">"title"</span><span class="p">,</span><span class="x"> </span><span class="s">"Software Engineer"</span><span class="p">,</span><span class="x">
  </span><span class="s">"sales_info"</span><span class="p">,</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
      </span><span class="s">"stage"</span><span class="p">,</span><span class="x"> </span><span class="s">"Customer"</span><span class="p">,</span><span class="x">
      </span><span class="s">"lifetime_value"</span><span class="p">,</span><span class="x"> </span><span class="m">24000</span><span class="p">,</span><span class="x">
      </span><span class="s">"account_owner"</span><span class="p">,</span><span class="x"> </span><span class="s">"mary@contoso.com"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// Only UserId is required</span><span class="x">
</span><span class="n">user</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">UserModel</span><span class="p">{</span><span class="x">
  </span><span class="n">UserId</span><span class="o">:</span><span class="x">  </span><span class="s">"12345"</span><span class="p">,</span><span class="x">
  </span><span class="n">CompanyId</span><span class="o">:</span><span class="x">  </span><span class="s">"67890"</span><span class="p">,</span><span class="x"> </span><span class="c">// If set, associate user with a company object</span><span class="x">
  </span><span class="n">Campaign</span><span class="o">:</span><span class="x">  </span><span class="o">&amp;</span><span class="n">campaign</span><span class="p">,</span><span class="x">
  </span><span class="n">Metadata</span><span class="o">:</span><span class="x">  </span><span class="o">&amp;</span><span class="n">metadata</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// Queue the user asynchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">QueueUser</span><span class="p">(</span><span class="o">&amp;</span><span class="n">user</span><span class="p">)</span><span class="x">

</span><span class="c">// Update the user synchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">UpdateUser</span><span class="p">(</span><span class="o">&amp;</span><span class="n">user</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">apiClient</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MoesifApiClient</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">).</span><span class="n">Api</span><span class="p">;;</span>

<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1">// See https://www.moesif.com/docs/api#users for campaign schema</span>
<span class="kt">var</span> <span class="n">campaign</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CampaignModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">UtmSource</span> <span class="p">=</span> <span class="s">"google"</span><span class="p">,</span>
    <span class="n">UtmMedium</span> <span class="p">=</span> <span class="s">"cpc"</span>
  <span class="n">UtmCampaign</span> <span class="p">=</span> <span class="s">"adwords"</span>
    <span class="n">UtmTerm</span> <span class="p">=</span> <span class="s">"api+tooling"</span>
    <span class="n">UtmContent</span> <span class="p">=</span> <span class="s">"landing"</span>
<span class="p">};</span>

<span class="c1">// metadata can be any custom dictionary</span>
<span class="kt">var</span> <span class="n">metadata</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span><span class="s">"email"</span><span class="p">,</span> <span class="s">"john@acmeinc.com"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"first_name"</span><span class="p">,</span> <span class="s">"John"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"last_name"</span><span class="p">,</span> <span class="s">"Doe"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"title"</span><span class="p">,</span> <span class="s">"Software Engineer"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"sales_info"</span><span class="p">,</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="p">{</span><span class="s">"stage"</span><span class="p">,</span> <span class="s">"Customer"</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"lifetime_value"</span><span class="p">,</span> <span class="m">24000</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"account_owner"</span><span class="p">,</span> <span class="s">"mary@contoso.com"</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Only user_id is required</span>
<span class="kt">var</span> <span class="n">user</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">UserModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">UserId</span> <span class="p">=</span> <span class="s">"12345"</span><span class="p">,</span>
  <span class="n">CompanyId</span> <span class="p">=</span> <span class="s">"67890"</span><span class="p">,</span>
  <span class="n">Campaign</span> <span class="p">=</span> <span class="n">campaign</span><span class="p">,</span>
    <span class="n">Metadata</span> <span class="p">=</span> <span class="n">metadata</span>
<span class="p">};</span>

<span class="c1">// Update the user asynchronously</span>
<span class="k">await</span> <span class="n">apiClient</span><span class="p">.</span><span class="nf">UpdateUserAsync</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>

<span class="c1">// Update the user synchronously</span>
<span class="n">apiClient</span><span class="p">.</span><span class="nf">UpdateUser</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">MoesifAPIClient</span> <span class="n">apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="o">);</span>

<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1">// See https://www.moesif.com/docs/api#users for campaign schema</span>
<span class="n">CampaignModel</span> <span class="n">campaign</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CampaignBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">utmSource</span><span class="o">(</span><span class="s">"google"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmCampaign</span><span class="o">(</span><span class="s">"cpc"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmMedium</span><span class="o">(</span><span class="s">"adwords"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmTerm</span><span class="o">(</span><span class="s">"api+tooling"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmContent</span><span class="o">(</span><span class="s">"landing"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// Only userId is required</span>
<span class="c1">// metadata can be any custom object</span>
<span class="n">UserModel</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">userId</span><span class="o">(</span><span class="s">"12345"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">companyId</span><span class="o">(</span><span class="s">"67890"</span><span class="o">)</span> <span class="c1">// If set, associate user with a company object</span>
    <span class="o">.</span><span class="na">campaign</span><span class="o">(</span><span class="n">campaign</span><span class="o">)</span>
    <span class="o">.</span><span class="na">metadata</span><span class="o">(</span><span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
        <span class="s">"\"email\": \"johndoe@acmeinc.com\","</span> <span class="o">+</span>
        <span class="s">"\"first_name\": \"John\","</span> <span class="o">+</span>
        <span class="s">"\"last_name\": \"Doe\","</span> <span class="o">+</span>
        <span class="s">"\"title\": \"Software Engineer\","</span> <span class="o">+</span>
        <span class="s">"\"sales_info\": {"</span> <span class="o">+</span>
            <span class="s">"\"stage\": \"Customer\","</span> <span class="o">+</span>
            <span class="s">"\"lifetime_value\": 24000,"</span> <span class="o">+</span>
            <span class="s">"\"account_owner\": \"mary@contoso.com\""</span> <span class="o">+</span>
          <span class="s">"}"</span> <span class="o">+</span>
        <span class="s">"}"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// Synchronous Call to update user</span>
<span class="n">apiClient</span><span class="o">.</span><span class="na">updateUser</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>

<span class="c1">// Asynchronous Call to update user</span>
<span class="n">apiClient</span><span class="o">.</span><span class="na">updateUserAsync</span><span class="o">(</span><span class="n">user</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>
</code></pre>
<blockquote class="lang-specific javascript--browser">
<b>Only the user id and metadata object need to be set. All other fields like 
the user&rsquo;s IP address and converting campaign are captured from browser context automatically.</b>
</blockquote>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kd">var</span> <span class="nx">moesif</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesif-browser-js'</span><span class="p">);</span>

<span class="nx">moesif</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
  <span class="na">applicationId</span><span class="p">:</span> <span class="s1">'YOUR_COLLECTOR_APPLICATION_ID'</span>
  <span class="c1">// add other option here.</span>
<span class="p">});</span>

<span class="c1">// The second argument containing user metatdata is optional, but useful to store customer info like email and name.</span>
<span class="nx">moesif</span><span class="p">.</span><span class="nx">identifyUser</span><span class="p">(</span><span class="s1">'12345'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">'john@acmeinc.com'</span><span class="p">,</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="s1">'Software Engineer'</span><span class="p">,</span>
  <span class="na">salesInfo</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">stage</span><span class="p">:</span> <span class="s1">'Customer'</span><span class="p">,</span>
      <span class="na">lifetimeValue</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
      <span class="na">accountOwner</span><span class="p">:</span> <span class="s1">'mary@contoso.com'</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre>
<h4 id="user-id-vs-session-token">User id vs. session token</h4>

<p>Users in Moesif are identified by two attributes: <em>user_id</em> and <em>session_token</em>.</p>

<ul>
<li><p>A <code class="prettyprint">user_id</code> is a unique identifier for the user performing the activity.
User Ids are a <strong>permanent</strong> and robust identifier, like a database id or permanent <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>.
We recommend using database ids instead of simple email addresses or usernames, because database ids never change.</p></li>
<li><p>A <code class="prettyprint">session_token</code> is an API key or <a href="https://jwt.io/introduction/">JSON Web Tokens&rsquo;s</a> (JWT) that expires after a short duration.
Unlike user ids, session tokens, are <strong>transient</strong>. Thus, the same user can be associated with many API keys and tokens over
the lifetime of the user. </p></li>
</ul>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>string</td>
<td><strong>true</strong></td>
<td>The unique identifier for this user.</td>
</tr>
<tr>
<td>company_id</td>
<td>string</td>
<td>false</td>
<td>Associate the user with a <a href="#companies">company</a> (Helpful for B2B companies)</td>
</tr>
<tr>
<td>session_token</td>
<td>string</td>
<td>false</td>
<td>Associate this user with a new API key/session token. This field is <em>append only</em> meaning when you set this field, previously set tokens are not removed.</td>
</tr>
<tr>
<td>modified_time</td>
<td>string(date-time)</td>
<td>false</td>
<td>Last modified time of user profile. Set automatically by Moesif if not provided.</td>
</tr>
<tr>
<td>ip_address</td>
<td>string</td>
<td>false</td>
<td>Set the user&rsquo;s last known ip address. Moesif sets this automatically from the user&rsquo;s most recent API activity if not provided.</td>
</tr>
<tr>
<td>user_agent_string</td>
<td>string</td>
<td>false</td>
<td>Set the user&rsquo;s last known user agent. Moesif sets this automatically from the user&rsquo;s most recent API activity if not provided.</td>
</tr>
<tr>
<td>campaign</td>
<td>object</td>
<td>false</td>
<td><a href="https://en.wikipedia.org/wiki/HTTP_referer">Referrer</a> and <a href="https://en.wikipedia.org/wiki/UTM_parameters">UTM parameters</a> to track effectiveness of your acquisition channels. Set automatically by moesif-browser-js, but not with server side SDKs</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_source</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies which site sent the traffic</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_medium</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies what type of link was used, such as cost per click or email.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_campaign</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies a specific product promotion or strategic campaign.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_term</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies search terms.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_content</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies what specifically was clicked to bring the user to the site, such as a banner ad or a text link.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">referrer</p></td>
<td>string</td>
<td>false</td>
<td>The referring URI before your domain.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">referring_domain</p></td>
<td>string</td>
<td>false</td>
<td>The referring domain of the page that linked to your domain.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">gclid</p></td>
<td>string</td>
<td>false</td>
<td>Google click Identifier to track Google Ads</td>
</tr>
<tr>
<td>metadata</td>
<td>object</td>
<td>false</td>
<td>An object containing user demographics or other properties you want to store with this profile.</td>
</tr>
</tbody></table>

<h3 id="update-users-in-batch">Update Users in Batch</h3>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/users/batch</code></strong></p>

<p>Updates a list of user profiles in a single batch. Users can be customers or end users accessing the API.
Adding user metadata enables you to understand API usage across different cohorts, 
user demographics, acquisition channels, etc.</p>

<p>Any custom user properties can be stored via the <code class="prettyprint">metadata</code> object.</p>

<p>We’ve reserved some fields names in the <code class="prettyprint">metadata</code> object that have semantic meanings for users, and we handle them in special ways. 
For example, we expect email to be a string containing the user’s email address which is used to sync with 
external CRMs and to look up a user&rsquo;s Gravatar and demographics.</p>

<p>Reserved metadata fields include:</p>

<ul>
<li>email</li>
<li>name (Which can contain both first and last name)</li>
<li>first_name</li>
<li>last_name</li>
<li>phone</li>
<li>photo_url</li>
</ul>

<h4 id="create-vs-update">Create vs update</h4>

<p>If the user does not exist, Moesif will create a new one. </p>

<p>If a user exists, the new user properties will be merged with the existing properties
recursively. This means you don&rsquo;t need to resend the entire user object if you are only 
updating a single field.</p>

<aside class="notice">
Replace <i>YOUR_COLLECTOR_APPLICATION_ID</i> with your real Application Id found by logging into Moesif 
and selecting API keys from top right menu.
</aside>

<blockquote class="lang-specific yaml">
<code><b>POST</b> https://api.moesif.net/v1/users/batch</code>
<br><br><i>Example Request</i><br>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">[</span>
  <span class="pi">{</span>
    <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">12345"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">company_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">67890"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">XXXXXXXXXX"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">campaign"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">utm_source"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">google"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_medium"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">cpc"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_campaign"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">adwords"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_term"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">api+tooling"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_content"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">landing"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">john@acmeinc.com"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">John"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Doe"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">title"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Software</span><span class="nv"> </span><span class="s">Engineer"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">sales_info"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">stage"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Customer"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">lifetime_value"</span><span class="pi">:</span> <span class="nv">24000</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">account_owner"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mary@contoso.com"</span>
      <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">},</span>
  <span class="pi">{</span>
    <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">54321"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">company_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">67890"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">XXXXXXXXXX"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">campaign"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">utm_source"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">google"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_medium"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">cpc"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_campaign"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">adwords"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_term"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">api+tooling"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_content"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">landing"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mary@acmeinc.com"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Mary"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Jane"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">title"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Software</span><span class="nv"> </span><span class="s">Engineer"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">sales_info"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">stage"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Customer"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">lifetime_value"</span><span class="pi">:</span> <span class="nv">24000</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">account_owner"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mary@contoso.com"</span>
      <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">}</span>
<span class="pi">]</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.net/v1/events/batch <span class="se">\</span>
  -d <span class="s1">'[{"user_id":"12345","company_id":"67890","session_token":"XXXXXXXXXX","campaign":{"utm_source":"google","utm_medium":"cpc","utm_campaign":"adwords","utm_term":"api+tooling","utm_content":"landing"},"metadata":{"email":"john@acmeinc.com","first_name":"John","last_name":"Doe","title":"Software Engineer","sales_info":{"stage":"Customer","lifetime_value":24000,"account_owner":"mary@contoso.com"}}},{"user_id":"54321","company_id":"67890","session_token":"XXXXXXXXXX","campaign":{"utm_source":"google","utm_medium":"cpc","utm_campaign":"adwords","utm_term":"api+tooling","utm_content":"landing"},"metadata":{"email":"mary@acmeinc.com","first_name":"Mary","last_name":"Jane","title":"Software Engineer","sales_info":{"stage":"Customer","lifetime_value":24000,"account_owner":"mary@contoso.com"}}}]'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'X-Moesif-Application-Id: YOUR_COLLECTOR_APPLICATION_ID'</span>


</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kd">var</span> <span class="nx">moesifapi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesifapi'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">apiClient</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">ApiController</span><span class="p">;</span>

<span class="nx">moesifapi</span><span class="p">.</span><span class="nx">configuration</span><span class="p">.</span><span class="nx">ApplicationId</span> <span class="o">=</span> <span class="s2">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">;</span>

<span class="c1">// 3. Generate a User Model</span>
<span class="kd">var</span> <span class="nx">userA</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">userId</span><span class="p">:</span> <span class="s1">'12345'</span><span class="p">,</span>
  <span class="na">companyId</span><span class="p">:</span> <span class="s1">'67890'</span>
  <span class="na">campaign</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">utmSource</span><span class="p">:</span> <span class="s1">'google'</span><span class="p">,</span>
    <span class="na">utmMedium</span><span class="p">:</span> <span class="s1">'cpc'</span><span class="p">,</span> 
    <span class="na">utmCampaign</span><span class="p">:</span> <span class="s1">'adwords'</span><span class="p">,</span>
    <span class="na">utmTerm</span><span class="p">:</span> <span class="s1">'api+tooling'</span><span class="p">,</span>
    <span class="na">utmContent</span><span class="p">:</span> <span class="s1">'landing'</span>
  <span class="p">},</span>
  <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">email</span><span class="p">:</span> <span class="s1">'john@acmeinc.com'</span><span class="p">,</span>
    <span class="na">firstName</span><span class="p">:</span> <span class="s1">'John'</span><span class="p">,</span>
    <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">'Software Engineer'</span><span class="p">,</span>
    <span class="na">salesInfo</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">stage</span><span class="p">:</span> <span class="s1">'Customer'</span><span class="p">,</span>
        <span class="na">lifetimeValue</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="na">accountOwner</span><span class="p">:</span> <span class="s1">'mary@contoso.com'</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">userB</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">userId</span><span class="p">:</span> <span class="s1">'67890'</span><span class="p">,</span>
  <span class="na">companyId</span><span class="p">:</span> <span class="s1">'67890'</span>
  <span class="na">campaign</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">utmSource</span><span class="p">:</span> <span class="s1">'google'</span><span class="p">,</span>
    <span class="na">utmMedium</span><span class="p">:</span> <span class="s1">'cpc'</span><span class="p">,</span> 
    <span class="na">utmCampaign</span><span class="p">:</span> <span class="s1">'adwords'</span><span class="p">,</span>
    <span class="na">utmTerm</span><span class="p">:</span> <span class="s1">'api+tooling'</span><span class="p">,</span>
    <span class="na">utmContent</span><span class="p">:</span> <span class="s1">'landing'</span>
  <span class="p">},</span>
  <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">email</span><span class="p">:</span> <span class="s1">'mary@contoso.com'</span><span class="p">,</span>
    <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Mary'</span><span class="p">,</span>
    <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Jane'</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">'Software Engineer'</span><span class="p">,</span>
    <span class="na">salesInfo</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">stage</span><span class="p">:</span> <span class="s1">'Customer'</span><span class="p">,</span>
        <span class="na">lifetimeValue</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="na">accountOwner</span><span class="p">:</span> <span class="s1">'mary@contoso.com'</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">users</span> <span class="o">=</span> <span class="p">[</span>
  <span class="k">new</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">UserModel</span><span class="p">(</span><span class="nx">userA</span><span class="p">),</span>
  <span class="k">new</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">UserModel</span><span class="p">(</span><span class="nx">userB</span><span class="p">)</span>
<span class="p">];</span>

<span class="c1">// 4. Send batch of users</span>
<span class="nx">apiClient</span><span class="p">.</span><span class="nx">updateUsersBatch</span><span class="p">(</span><span class="nx">users</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do Something</span>
<span class="p">});</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">moesifapi.moesif_api_client</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">moesifapi.models</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">MoesifAPIClient</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="o">.</span><span class="n">api</span>

<span class="n">userA</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'user_id'</span><span class="p">:</span> <span class="s">'12345'</span><span class="p">,</span>
  <span class="s">'company_id'</span><span class="p">:</span> <span class="s">'67890'</span><span class="p">,</span> <span class="c"># If set, associate user with a company object</span>
  <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'email'</span><span class="p">:</span> <span class="s">'john@acmeinc.com'</span><span class="p">,</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'John'</span><span class="p">,</span>
    <span class="s">'last_name'</span><span class="p">:</span> <span class="s">'Doe'</span><span class="p">,</span>
    <span class="s">'title'</span><span class="p">:</span> <span class="s">'Software Engineer'</span><span class="p">,</span>
    <span class="s">'sales_info'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'stage'</span><span class="p">:</span> <span class="s">'Customer'</span><span class="p">,</span>
        <span class="s">'lifetime_value'</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="s">'account_owner'</span><span class="p">:</span> <span class="s">'mary@contoso.com'</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">userB</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'user_id'</span><span class="p">:</span> <span class="s">'54321'</span><span class="p">,</span>
  <span class="s">'company_id'</span><span class="p">:</span> <span class="s">'67890'</span><span class="p">,</span> <span class="c"># If set, associate user with a company object</span>
  <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'email'</span><span class="p">:</span> <span class="s">'mary@acmeinc.com'</span><span class="p">,</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Mary'</span><span class="p">,</span>
    <span class="s">'last_name'</span><span class="p">:</span> <span class="s">'Jane'</span><span class="p">,</span>
    <span class="s">'title'</span><span class="p">:</span> <span class="s">'Software Engineer'</span><span class="p">,</span>
    <span class="s">'sales_info'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'stage'</span><span class="p">:</span> <span class="s">'Customer'</span><span class="p">,</span>
        <span class="s">'lifetime_value'</span><span class="p">:</span> <span class="mi">48000</span><span class="p">,</span>
        <span class="s">'account_owner'</span><span class="p">:</span> <span class="s">'mary@contoso.com'</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">update_users</span> <span class="o">=</span> <span class="n">api_client</span><span class="o">.</span><span class="n">update_users_batch</span><span class="p">([</span><span class="n">userA</span><span class="p">,</span> <span class="n">userB</span><span class="p">])</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="n">api_client</span> <span class="o">=</span> <span class="no">MoesifApi</span><span class="o">::</span><span class="no">MoesifAPIClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'YOUR_COLLECTOR_APPLICATION_ID'</span><span class="p">).</span><span class="nf">api</span>

<span class="n">users</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'john@acmeinc.com'</span><span class="p">,</span>
  <span class="ss">:first_name</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="ss">:last_name</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s1">'Software Engineer'</span><span class="p">,</span>
  <span class="ss">:salesInfo</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:stage</span> <span class="o">=&gt;</span> <span class="s1">'Customer'</span><span class="p">,</span>
      <span class="ss">:lifetime_value</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
      <span class="ss">:accountOwner</span> <span class="o">=&gt;</span> <span class="s1">'mary@contoso.com'</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1"># See https://www.moesif.com/docs/api#users for campaign schema</span>
<span class="n">campaign</span> <span class="o">=</span> <span class="no">CampaignModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_source</span> <span class="o">=</span> <span class="s2">"google"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_medium</span> <span class="o">=</span> <span class="s2">"cpc"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_campaign</span> <span class="o">=</span> <span class="s2">"adwords"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_term</span> <span class="o">=</span> <span class="s2">"api+tooling"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_content</span> <span class="o">=</span> <span class="s2">"landing"</span>

<span class="c1"># Only user_id is required.</span>
<span class="c1"># metadata can be any custom object</span>
<span class="n">user</span> <span class="o">=</span> <span class="no">UserModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">user</span><span class="p">.</span><span class="nf">user_id</span> <span class="o">=</span> <span class="s2">"12345"</span>
<span class="n">user</span><span class="p">.</span><span class="nf">company_id</span> <span class="o">=</span> <span class="s2">"67890"</span> <span class="c1"># If set, associate user with a company object</span>
<span class="n">user</span><span class="p">.</span><span class="nf">campaign</span> <span class="o">=</span> <span class="n">campaign</span>
<span class="n">user</span><span class="p">.</span><span class="nf">metadata</span> <span class="o">=</span> <span class="n">metadata</span>

<span class="n">users</span> <span class="o">&lt;&lt;</span> <span class="n">user</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">api_controller</span><span class="p">.</span><span class="nf">update_users_batch</span><span class="p">(</span><span class="n">user_model</span><span class="p">)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Depending on your project setup, you might need to include composer's
// autoloader in your PHP code to enable autoloading of classes.
</span><span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">MoesifApi\MoesifApiClient</span><span class="p">;</span>
<span class="nv">$apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MoesifApiClient</span><span class="p">(</span><span class="s2">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getApi</span><span class="p">();</span>

<span class="c1">// metadata can be any custom object
</span><span class="nv">$userA</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"john@acmeinc.com"</span><span class="p">,</span>
        <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
        <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Doe"</span><span class="p">,</span>
        <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Software Engineer"</span><span class="p">,</span>
        <span class="s2">"sales_info"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s2">"stage"</span> <span class="o">=&gt;</span> <span class="s2">"Customer"</span><span class="p">,</span>
            <span class="s2">"lifetime_value"</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
            <span class="s2">"account_owner"</span> <span class="o">=&gt;</span> <span class="s2">"mary@contoso.com"</span>
        <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$userA</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\UserModel</span><span class="p">();</span>
<span class="nv">$userA</span><span class="o">-&gt;</span><span class="na">userId</span> <span class="o">=</span> <span class="s2">"12345"</span><span class="p">;</span>
<span class="nv">$userA</span><span class="o">-&gt;</span><span class="na">companyId</span> <span class="o">=</span> <span class="s2">"67890"</span><span class="p">;</span> <span class="c1">// If set, associate user with a company object
</span><span class="nv">$userA</span><span class="o">-&gt;</span><span class="na">campaign</span> <span class="o">=</span> <span class="nv">$campaign</span><span class="p">;</span>
<span class="nv">$userA</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="nv">$metadata</span><span class="p">;</span>

<span class="c1">// metadata can be any custom object
</span><span class="nv">$userB</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"mary@acmeinc.com"</span><span class="p">,</span>
        <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Mary"</span><span class="p">,</span>
        <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Jane"</span><span class="p">,</span>
        <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Software Engineer"</span><span class="p">,</span>
        <span class="s2">"sales_info"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s2">"stage"</span> <span class="o">=&gt;</span> <span class="s2">"Customer"</span><span class="p">,</span>
            <span class="s2">"lifetime_value"</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
            <span class="s2">"account_owner"</span> <span class="o">=&gt;</span> <span class="s2">"mary@contoso.com"</span>
        <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$userB</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\UserModel</span><span class="p">();</span>
<span class="nv">$userB</span><span class="o">-&gt;</span><span class="na">userId</span> <span class="o">=</span> <span class="s2">"12345"</span><span class="p">;</span>
<span class="nv">$userB</span><span class="o">-&gt;</span><span class="na">companyId</span> <span class="o">=</span> <span class="s2">"67890"</span><span class="p">;</span> <span class="c1">// If set, associate user with a company object
</span><span class="nv">$userB</span><span class="o">-&gt;</span><span class="na">campaign</span> <span class="o">=</span> <span class="nv">$campaign</span><span class="p">;</span>
<span class="nv">$userB</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="nv">$metadata</span><span class="p">;</span>

<span class="nv">$users</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$userA</span><span class="p">,</span> <span class="nv">$userB</span><span class="p">)</span>
<span class="nv">$apiClient</span><span class="o">-&gt;</span><span class="na">updateUsersBatch</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go/models"</span><span class="x">

</span><span class="n">apiClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">moesifapi</span><span class="o">.</span><span class="n">NewAPI</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="x">

</span><span class="c">// List of Users</span><span class="x">
</span><span class="k">var</span><span class="x"> </span><span class="n">users</span><span class="x"> </span><span class="p">[]</span><span class="o">*</span><span class="n">models</span><span class="o">.</span><span class="n">UserModel</span><span class="x">

</span><span class="c">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span><span class="x">
</span><span class="c">// See https://www.moesif.com/docs/api#users for campaign schema</span><span class="x">
</span><span class="n">campaign</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">CampaignModel</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">UtmSource</span><span class="o">:</span><span class="x"> </span><span class="s">"google"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmMedium</span><span class="o">:</span><span class="x"> </span><span class="s">"cpc"</span><span class="p">,</span><span class="x"> 
  </span><span class="n">UtmCampaign</span><span class="o">:</span><span class="x"> </span><span class="s">"adwords"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmTerm</span><span class="o">:</span><span class="x"> </span><span class="s">"api+tooling"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmContent</span><span class="o">:</span><span class="x"> </span><span class="s">"landing"</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// metadata can be any custom dictionary</span><span class="x">
</span><span class="n">metadata</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
  </span><span class="s">"email"</span><span class="p">,</span><span class="x"> </span><span class="s">"john@acmeinc.com"</span><span class="p">,</span><span class="x">
  </span><span class="s">"first_name"</span><span class="p">,</span><span class="x"> </span><span class="s">"John"</span><span class="p">,</span><span class="x">
  </span><span class="s">"last_name"</span><span class="p">,</span><span class="x"> </span><span class="s">"Doe"</span><span class="p">,</span><span class="x">
  </span><span class="s">"title"</span><span class="p">,</span><span class="x"> </span><span class="s">"Software Engineer"</span><span class="p">,</span><span class="x">
  </span><span class="s">"sales_info"</span><span class="p">,</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
      </span><span class="s">"stage"</span><span class="p">,</span><span class="x"> </span><span class="s">"Customer"</span><span class="p">,</span><span class="x">
      </span><span class="s">"lifetime_value"</span><span class="p">,</span><span class="x"> </span><span class="m">24000</span><span class="p">,</span><span class="x">
      </span><span class="s">"account_owner"</span><span class="p">,</span><span class="x"> </span><span class="s">"mary@contoso.com"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// Only UserId is required</span><span class="x">
</span><span class="n">userA</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">UserModel</span><span class="p">{</span><span class="x">
  </span><span class="n">UserId</span><span class="o">:</span><span class="x">  </span><span class="s">"12345"</span><span class="p">,</span><span class="x">
  </span><span class="n">CompanyId</span><span class="o">:</span><span class="x">  </span><span class="s">"67890"</span><span class="p">,</span><span class="x"> </span><span class="c">// If set, associate user with a company object</span><span class="x">
  </span><span class="n">Campaign</span><span class="o">:</span><span class="x">  </span><span class="o">&amp;</span><span class="n">campaign</span><span class="p">,</span><span class="x">
  </span><span class="n">Metadata</span><span class="o">:</span><span class="x">  </span><span class="o">&amp;</span><span class="n">metadata</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">users</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">append</span><span class="p">(</span><span class="n">users</span><span class="p">,</span><span class="x"> </span><span class="o">&amp;</span><span class="n">userA</span><span class="p">)</span><span class="x">

</span><span class="c">// Queue the user asynchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">QueueUsers</span><span class="p">(</span><span class="o">&amp;</span><span class="n">users</span><span class="p">)</span><span class="x">

</span><span class="c">// Update the user synchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">UpdateUsersBatch</span><span class="p">(</span><span class="o">&amp;</span><span class="n">users</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">apiClient</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MoesifApiClient</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">).</span><span class="n">Api</span><span class="p">;;</span>

<span class="kt">var</span> <span class="n">users</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">UserModel</span><span class="p">&gt;();</span>

<span class="kt">var</span> <span class="n">metadataA</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span><span class="s">"email"</span><span class="p">,</span> <span class="s">"john@acmeinc.com"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"first_name"</span><span class="p">,</span> <span class="s">"John"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"last_name"</span><span class="p">,</span> <span class="s">"Doe"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"title"</span><span class="p">,</span> <span class="s">"Software Engineer"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"sales_info"</span><span class="p">,</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="p">{</span><span class="s">"stage"</span><span class="p">,</span> <span class="s">"Customer"</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"lifetime_value"</span><span class="p">,</span> <span class="m">24000</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"account_owner"</span><span class="p">,</span> <span class="s">"mary@contoso.com"</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Only user_id is required</span>
<span class="kt">var</span> <span class="n">userA</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">UserModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">UserId</span> <span class="p">=</span> <span class="s">"12345"</span><span class="p">,</span>
  <span class="n">CompanyId</span> <span class="p">=</span> <span class="s">"67890"</span><span class="p">,</span> <span class="c1">// If set, associate user with a company object</span>
    <span class="n">Metadata</span> <span class="p">=</span> <span class="n">metadataA</span>
<span class="p">};</span>

<span class="kt">var</span> <span class="n">metadataB</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span><span class="s">"email"</span><span class="p">,</span> <span class="s">"mary@acmeinc.com"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"first_name"</span><span class="p">,</span> <span class="s">"Mary"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"last_name"</span><span class="p">,</span> <span class="s">"Jane"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"title"</span><span class="p">,</span> <span class="s">"Software Engineer"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"sales_info"</span><span class="p">,</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="p">{</span><span class="s">"stage"</span><span class="p">,</span> <span class="s">"Customer"</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"lifetime_value"</span><span class="p">,</span> <span class="m">24000</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"account_owner"</span><span class="p">,</span> <span class="s">"mary@contoso.com"</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Only user_id is required</span>
<span class="kt">var</span> <span class="n">userB</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">UserModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">UserId</span> <span class="p">=</span> <span class="s">"54321"</span><span class="p">,</span>
  <span class="n">CompanyId</span> <span class="p">=</span> <span class="s">"67890"</span><span class="p">,</span>
    <span class="n">Metadata</span> <span class="p">=</span> <span class="n">metadataA</span>
<span class="p">};</span>


<span class="n">users</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">userA</span><span class="p">);</span>
<span class="n">users</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">userB</span><span class="p">);</span>

<span class="c1">// Update the users asynchronously</span>
<span class="k">await</span> <span class="n">apiClient</span><span class="p">.</span><span class="nf">UpdateUsersBatchAsync</span><span class="p">(</span><span class="n">users</span><span class="p">);</span>

<span class="c1">// Update the users synchronously</span>
<span class="n">apiClient</span><span class="p">.</span><span class="nf">UpdateUsersBatch</span><span class="p">(</span><span class="n">users</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">MoesifAPIClient</span> <span class="n">apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">UserModel</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">UserModel</span><span class="o">&gt;();</span>

<span class="n">UserModel</span> <span class="n">userA</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">userId</span><span class="o">(</span><span class="s">"12345"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">companyId</span><span class="o">(</span><span class="s">"67890"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">campaign</span><span class="o">(</span><span class="n">campaign</span><span class="o">)</span>
        <span class="o">.</span><span class="na">metadata</span><span class="o">(</span><span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
            <span class="s">"\"email\": \"johndoe@acmeinc.com\","</span> <span class="o">+</span>
            <span class="s">"\"first_name\": \"John\","</span> <span class="o">+</span>
            <span class="s">"\"last_name\": \"Doe\","</span> <span class="o">+</span>
            <span class="s">"\"title\": \"Software Engineer\","</span> <span class="o">+</span>
            <span class="s">"\"sales_info\": {"</span> <span class="o">+</span>
                <span class="s">"\"stage\": \"Customer\","</span> <span class="o">+</span>
                <span class="s">"\"lifetime_value\": 24000,"</span> <span class="o">+</span>
                <span class="s">"\"account_owner\": \"mary@contoso.com\""</span> <span class="o">+</span>
              <span class="s">"}"</span> <span class="o">+</span>
            <span class="s">"}"</span><span class="o">))</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="n">users</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">userA</span><span class="o">);</span>

<span class="n">UserModel</span> <span class="n">userB</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">userId</span><span class="o">(</span><span class="s">"54321"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">companyId</span><span class="o">(</span><span class="s">"67890"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">campaign</span><span class="o">(</span><span class="n">campaign</span><span class="o">)</span>
        <span class="o">.</span><span class="na">metadata</span><span class="o">(</span><span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
            <span class="s">"\"email\": \"johndoe@acmeinc.com\","</span> <span class="o">+</span>
            <span class="s">"\"first_name\": \"John\","</span> <span class="o">+</span>
            <span class="s">"\"last_name\": \"Doe\","</span> <span class="o">+</span>
            <span class="s">"\"title\": \"Software Engineer\","</span> <span class="o">+</span>
            <span class="s">"\"sales_info\": {"</span> <span class="o">+</span>
                <span class="s">"\"stage\": \"Customer\","</span> <span class="o">+</span>
                <span class="s">"\"lifetime_value\": 24000,"</span> <span class="o">+</span>
                <span class="s">"\"account_owner\": \"mary@contoso.com\""</span> <span class="o">+</span>
              <span class="s">"}"</span> <span class="o">+</span>
            <span class="s">"}"</span><span class="o">))</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="n">users</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">userB</span><span class="o">);</span>

<span class="c1">// Asynchronous call to update users</span>
<span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">callBack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">APICallBack</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Object</span> <span class="n">response</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// Do something</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="o">,</span> <span class="n">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// Do something else</span>
    <span class="o">}</span>
<span class="o">};</span>

<span class="c1">// Asynchronous call to update users</span>
<span class="n">apiClient</span><span class="o">.</span><span class="na">updateUsersBatchAsync</span><span class="o">(</span><span class="n">users</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>


<span class="c1">// Synchronous call to update users</span>
<span class="n">apiClient</span><span class="o">.</span><span class="na">updateUsersBatch</span><span class="o">(</span><span class="n">users</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>
</code></pre>
<blockquote class="lang-specific javascript--browser">
<b>Since this is a client side SDK, you cannot save a batch of users with moesif-browser-js.</b>
</blockquote>

<h4 id="user-id-vs-session-token">User id vs. session token</h4>

<p>Users in Moesif are identified by two attributes: <em>user_id</em> and <em>session_token</em>.</p>

<ul>
<li><p>A <code class="prettyprint">user_id</code> is a unique identifier for the user performing the activity.
User Ids are a <strong>permanent</strong> and robust identifier, like a database id or permanent <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>.
We recommend using database ids instead of simple email addresses or usernames, because database ids never change.</p></li>
<li><p>A <code class="prettyprint">session_token</code> is an API key or <a href="https://jwt.io/introduction/">JSON Web Tokens&rsquo;s</a> (JWT) that expires after a short duration.
Unlike user ids, session tokens, are <strong>transient</strong>. Thus, the same user can be associated with many API keys and tokens over
the lifetime of the user. </p></li>
</ul>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>string</td>
<td><strong>true</strong></td>
<td>The unique identifier for this user.</td>
</tr>
<tr>
<td>company_id</td>
<td>string</td>
<td>false</td>
<td>Associate the user with a <a href="#companies">company</a> (Helpful for B2B companies).</td>
</tr>
<tr>
<td>session_token</td>
<td>string</td>
<td>false</td>
<td>Associate this user with a new API key/session token. This field is <em>append only</em> meaning when you set this field, previously set tokens are not removed.</td>
</tr>
<tr>
<td>modified_time</td>
<td>string(date-time)</td>
<td>false</td>
<td>Last modified time of user profile. Set automatically by Moesif if not provided.</td>
</tr>
<tr>
<td>ip_address</td>
<td>string</td>
<td>false</td>
<td>Set the user&rsquo;s last known ip address. Moesif sets this automatically from the user&rsquo;s most recent API activity if not provided.</td>
</tr>
<tr>
<td>user_agent_string</td>
<td>string</td>
<td>false</td>
<td>Set the user&rsquo;s last known user agent. Moesif sets this automatically from the user&rsquo;s most recent API activity if not provided.</td>
</tr>
<tr>
<td>campaign</td>
<td>object</td>
<td>false</td>
<td><a href="https://en.wikipedia.org/wiki/HTTP_referer">Referrer</a> and <a href="https://en.wikipedia.org/wiki/UTM_parameters">UTM parameters</a> to track effectiveness of your acquisition channels. Set automatically by moesif-browser-js, but not with server side SDKs.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_source</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies which site sent the traffic.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_medium</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies what type of link was used, such as cost per click or email.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_campaign</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies a specific product promotion or strategic campaign.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_term</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies search terms.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_content</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies what specifically was clicked to bring the user to the site, such as a banner ad or a text link.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">referrer</p></td>
<td>string</td>
<td>false</td>
<td>The referring URI before your domain.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">referring_domain</p></td>
<td>string</td>
<td>false</td>
<td>The referring domain of the page that linked to your domain.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">gclid</p></td>
<td>string</td>
<td>false</td>
<td>Google click Identifier to track Google Ads.</td>
</tr>
<tr>
<td>metadata</td>
<td>object</td>
<td>false</td>
<td>An object containing user demographics or other properties you want to store with this profile.</td>
</tr>
</tbody></table>

          <h2 id="companies">Companies</h2>

<h3 id="update-a-company">Update a Company</h3>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/companies</code></strong></p>

<p>Updates a company profile in Moesif. A company can be an enterprise account or a group of <a href="#update-a-user">users</a> accessing the API.
Adding company metadata enables you to understand API usage across different cohorts, 
company demographics, acquisition channels, etc.</p>

<p>Any custom company properties can be stored via the <code class="prettyprint">metadata</code> object. 
You can also set the company&rsquo;s website domain which enables Moesif to automatically your company profiles
with publicly available information.</p>

<h4 id="create-vs-update">Create vs update</h4>

<p>If the company does not exist, Moesif will create a new one. </p>

<p>If a company exists, the new company properties will be merged with the existing properties
recursively. This means you don&rsquo;t need to resend the entire company object if you are only 
updating a single field.</p>

<aside class="notice">
Replace <i>YOUR_COLLECTOR_APPLICATION_ID</i> with your real Application Id found by logging into Moesif 
and selecting API keys from top right menu.
</aside>

<blockquote class="lang-specific yaml">
<code><b>POST</b> https://api.moesif.net/v1/companies</code>
<br><br><i>Example Request</i><br>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">company_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">12345"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">company_domain"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">acmeinc.com"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">campaign"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">utm_source"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">google"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">utm_medium"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">cpc"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">utm_campaign"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">adwords"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">utm_term"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">api+tooling"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">utm_content"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">landing"</span>
  <span class="pi">},</span>
  <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">org_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Acme,</span><span class="nv"> </span><span class="s">Inc"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">plan_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Free"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">deal_stage"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Lead"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">mrr"</span><span class="pi">:</span> <span class="nv">24000</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">demographics"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">alexa_ranking"</span><span class="pi">:</span> <span class="nv">500000</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">employee_count"</span><span class="pi">:</span> <span class="nv">47</span>
    <span class="pi">}</span>
  <span class="pi">}</span>
<span class="pi">}</span>

</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.net/v1/companies <span class="se">\</span>
  -d <span class="s1">'{"company_id":"12345","company_domain":"acmeinc.com","campaign":{"utm_source":"google","utm_medium":"cpc","utm_campaign":"adwords","utm_term":"api+tooling","utm_content":"landing"},"metadata":{"org_name":"Acme, Inc","plan_name":"Free","deal_stage":"Lead","mrr":24000,"demographics":{"alexa_ranking":500000,"employee_count":47}}}'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'X-Moesif-Application-Id: YOUR_COLLECTOR_APPLICATION_ID'</span>


</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kd">var</span> <span class="nx">moesifapi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesifapi'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">apiClient</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">ApiController</span><span class="p">;</span>

<span class="nx">moesifapi</span><span class="p">.</span><span class="nx">configuration</span><span class="p">.</span><span class="nx">ApplicationId</span> <span class="o">=</span> <span class="s2">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">;</span>


<span class="c1">// Only companyId is required.</span>
<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1">// See https://www.moesif.com/docs/api#update-a-company for campaign schema</span>
<span class="c1">// metadata can be any custom object</span>
<span class="kd">var</span> <span class="nx">company</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">companyId</span><span class="p">:</span> <span class="s1">'67890'</span><span class="p">,</span>
  <span class="na">companyDomain</span><span class="p">:</span> <span class="s1">'acmeinc.com'</span><span class="p">,</span> <span class="c1">// If domain is set, Moesif will enrich your profiles with publicly available info </span>
  <span class="na">campaign</span><span class="p">:</span> <span class="p">{</span> 
    <span class="na">utmSource</span><span class="p">:</span> <span class="s1">'google'</span><span class="p">,</span>
    <span class="na">utmMedium</span><span class="p">:</span> <span class="s1">'cpc'</span><span class="p">,</span> 
    <span class="na">utmCampaign</span><span class="p">:</span> <span class="s1">'adwords'</span><span class="p">,</span>
    <span class="na">utmTerm</span><span class="p">:</span> <span class="s1">'api+tooling'</span><span class="p">,</span>
    <span class="na">utmContent</span><span class="p">:</span> <span class="s1">'landing'</span>
  <span class="p">},</span>
  <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">orgName</span><span class="p">:</span> <span class="s1">'Acme, Inc'</span><span class="p">,</span>
    <span class="na">planName</span><span class="p">:</span> <span class="s1">'Free Plan'</span><span class="p">,</span>
    <span class="na">dealStage</span><span class="p">:</span> <span class="s1">'Lead'</span><span class="p">,</span>
    <span class="na">mrr</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
    <span class="na">demographics</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">alexaRanking</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span>
      <span class="na">employeeCount</span><span class="p">:</span> <span class="mi">47</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">apiClient</span><span class="p">.</span><span class="nx">updateCompany</span><span class="p">(</span><span class="nx">company</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do Something</span>
<span class="p">});</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">moesifapi.moesif_api_client</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">moesifapi.models</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">MoesifAPIClient</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="o">.</span><span class="n">api</span>

<span class="c"># Only company_id is required.</span>
<span class="c"># Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c"># See https://www.moesif.com/docs/api#update-a-company for campaign schema</span>
<span class="c"># metadata can be any custom object</span>
<span class="n">company</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'company_id'</span><span class="p">:</span> <span class="s">'12345'</span><span class="p">,</span>
  <span class="s">'company_domain'</span><span class="p">:</span> <span class="s">'acmeinc.com'</span><span class="p">,</span> <span class="c"># If domain is set, Moesif will enrich your profiles with publicly available info </span>
  <span class="s">'campaign'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'utm_source'</span><span class="p">:</span> <span class="s">'google'</span><span class="p">,</span>
    <span class="s">'utm_medium'</span><span class="p">:</span> <span class="s">'cpc'</span><span class="p">,</span> 
    <span class="s">'utm_campaign'</span><span class="p">:</span> <span class="s">'adwords'</span><span class="p">,</span>
    <span class="s">'utm_term'</span><span class="p">:</span> <span class="s">'api+tooling'</span><span class="p">,</span>
    <span class="s">'utm_content'</span><span class="p">:</span> <span class="s">'landing'</span>
  <span class="p">},</span>
  <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'org_name'</span><span class="p">:</span> <span class="s">'Acme, Inc'</span><span class="p">,</span>
    <span class="s">'plan_name'</span><span class="p">:</span> <span class="s">'Free'</span><span class="p">,</span>
    <span class="s">'deal_stage'</span><span class="p">:</span> <span class="s">'Lead'</span><span class="p">,</span>
    <span class="s">'mrr'</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
    <span class="s">'demographics'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'alexa_ranking'</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span>
        <span class="s">'employee_count'</span><span class="p">:</span> <span class="mi">47</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">update_company</span> <span class="o">=</span> <span class="n">api_client</span><span class="o">.</span><span class="n">update_company</span><span class="p">(</span><span class="n">company</span><span class="p">)</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="n">api_client</span> <span class="o">=</span> <span class="no">MoesifApi</span><span class="o">::</span><span class="no">MoesifAPIClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'YOUR_COLLECTOR_APPLICATION_ID'</span><span class="p">).</span><span class="nf">api</span>

<span class="n">metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="ss">:org_name</span> <span class="o">=&gt;</span> <span class="s1">'Acme, Inc'</span><span class="p">,</span>
  <span class="ss">:plan_name</span> <span class="o">=&gt;</span> <span class="s1">'Free'</span><span class="p">,</span>
  <span class="ss">:deal_stage</span> <span class="o">=&gt;</span> <span class="s1">'Lead'</span><span class="p">,</span>
  <span class="ss">:mrr</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
  <span class="ss">:demographics</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:alexa_ranking</span> <span class="o">=&gt;</span> <span class="mi">500000</span><span class="p">,</span>
      <span class="ss">:employee_count</span> <span class="o">=&gt;</span> <span class="mi">47</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1"># See https://www.moesif.com/docs/api#update-a-company for campaign schema</span>
<span class="n">campaign</span> <span class="o">=</span> <span class="no">CampaignModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_source</span> <span class="o">=</span> <span class="s2">"google"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_medium</span> <span class="o">=</span> <span class="s2">"cpc"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_campaign</span> <span class="o">=</span> <span class="s2">"adwords"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_term</span> <span class="o">=</span> <span class="s2">"api+tooling"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_content</span> <span class="o">=</span> <span class="s2">"landing"</span>

<span class="c1"># Only company_id is required.</span>
<span class="c1"># metadata can be any custom object</span>
<span class="n">company</span> <span class="o">=</span> <span class="no">CompanyModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">company</span><span class="p">.</span><span class="nf">company_id</span> <span class="o">=</span> <span class="s2">"67890"</span>
<span class="n">company</span><span class="p">.</span><span class="nf">company_domain</span> <span class="o">=</span> <span class="s2">"acmeinc.com"</span> <span class="c1"># If domain is set, Moesif will enrich your profiles with publicly available info </span>
<span class="n">company</span><span class="p">.</span><span class="nf">campaign</span> <span class="o">=</span> <span class="n">campaign</span>
<span class="n">company</span><span class="p">.</span><span class="nf">metadata</span> <span class="o">=</span> <span class="n">metadata</span>

<span class="n">update_company</span> <span class="o">=</span> <span class="n">api_client</span><span class="p">.</span><span class="nf">update_company</span><span class="p">(</span><span class="n">company</span><span class="p">)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Depending on your project setup, you might need to include composer's
// autoloader in your PHP code to enable autoloading of classes.
</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">MoesifApi\MoesifApiClient</span><span class="p">;</span>
<span class="nv">$apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MoesifApiClient</span><span class="p">(</span><span class="s2">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getApi</span><span class="p">();</span>

<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels
// See https://www.moesif.com/docs/api#update-a-company for campaign schema
</span><span class="nv">$campaign</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\CampaignModel</span><span class="p">();</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmSource</span> <span class="o">=</span> <span class="s2">"google"</span><span class="p">;</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmCampaign</span> <span class="o">=</span> <span class="s2">"cpc"</span><span class="p">;</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmMedium</span> <span class="o">=</span> <span class="s2">"adwords"</span><span class="p">;</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmContent</span> <span class="o">=</span> <span class="s2">"api+tooling"</span><span class="p">;</span>
<span class="nv">$campaign</span><span class="o">-&gt;</span><span class="na">utmTerm</span> <span class="o">=</span> <span class="s2">"landing"</span><span class="p">;</span>


<span class="nv">$company</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\CompanyModel</span><span class="p">();</span>
<span class="nv">$company</span><span class="o">-&gt;</span><span class="na">companyId</span> <span class="o">=</span> <span class="s2">"67890"</span><span class="p">;</span>
<span class="nv">$company</span><span class="o">-&gt;</span><span class="na">companyDomain</span> <span class="o">=</span> <span class="s2">"acmeinc.com"</span><span class="p">;</span>
<span class="nv">$company</span><span class="o">-&gt;</span><span class="na">campaign</span> <span class="o">=</span> <span class="nv">$campaign</span><span class="p">;</span>

<span class="c1">// metadata can be any custom object
</span><span class="nv">$company</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"org_name"</span> <span class="o">=&gt;</span> <span class="s2">"Acme, Inc"</span><span class="p">,</span>
        <span class="s2">"plan_name"</span> <span class="o">=&gt;</span> <span class="s2">"Free"</span><span class="p">,</span>
        <span class="s2">"deal_stage"</span> <span class="o">=&gt;</span> <span class="s2">"Lead"</span><span class="p">,</span>
        <span class="s2">"mrr"</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="s2">"demographics"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s2">"alexa_ranking"</span> <span class="o">=&gt;</span> <span class="mi">500000</span><span class="p">,</span>
            <span class="s2">"employee_count"</span> <span class="o">=&gt;</span> <span class="mi">47</span>
        <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$apiClient</span><span class="o">-&gt;</span><span class="na">updateCompany</span><span class="p">(</span><span class="nv">$company</span><span class="p">);</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go/models"</span><span class="x">

</span><span class="n">apiClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">moesifapi</span><span class="o">.</span><span class="n">NewAPI</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="x">

</span><span class="c">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span><span class="x">
</span><span class="c">// See https://www.moesif.com/docs/api#update-a-company for campaign schema</span><span class="x">
</span><span class="n">campaign</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">CampaignModel</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">UtmSource</span><span class="o">:</span><span class="x"> </span><span class="s">"google"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmMedium</span><span class="o">:</span><span class="x"> </span><span class="s">"cpc"</span><span class="p">,</span><span class="x"> 
  </span><span class="n">UtmCampaign</span><span class="o">:</span><span class="x"> </span><span class="s">"adwords"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmTerm</span><span class="o">:</span><span class="x"> </span><span class="s">"api+tooling"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmContent</span><span class="o">:</span><span class="x"> </span><span class="s">"landing"</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// metadata can be any custom dictionary</span><span class="x">
</span><span class="n">metadata</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
  </span><span class="s">"org_name"</span><span class="p">,</span><span class="x"> </span><span class="s">"Acme, Inc"</span><span class="p">,</span><span class="x">
  </span><span class="s">"plan_name"</span><span class="p">,</span><span class="x"> </span><span class="s">"Free"</span><span class="p">,</span><span class="x">
  </span><span class="s">"deal_stage"</span><span class="p">,</span><span class="x"> </span><span class="s">"Lead"</span><span class="p">,</span><span class="x">
  </span><span class="s">"mrr"</span><span class="p">,</span><span class="x"> </span><span class="m">24000</span><span class="p">,</span><span class="x">
  </span><span class="s">"demographics"</span><span class="p">,</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
      </span><span class="s">"alexa_ranking"</span><span class="p">,</span><span class="x"> </span><span class="m">500000</span><span class="p">,</span><span class="x">
      </span><span class="s">"employee_count"</span><span class="p">,</span><span class="x"> </span><span class="m">47</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// Prepare company model</span><span class="x">
</span><span class="n">company</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">CompanyModel</span><span class="p">{</span><span class="x">
    </span><span class="n">CompanyId</span><span class="o">:</span><span class="x">        </span><span class="s">"67890"</span><span class="p">,</span><span class="x">  </span><span class="c">// The only required field is your company id</span><span class="x">
    </span><span class="n">CompanyDomain</span><span class="o">:</span><span class="x">    </span><span class="s">"acmeinc.com"</span><span class="p">,</span><span class="x"> </span><span class="c">// If domain is set, Moesif will enrich your profiles with publicly available info </span><span class="x">
    </span><span class="n">Campaign</span><span class="o">:</span><span class="x">         </span><span class="o">&amp;</span><span class="n">campaign</span><span class="p">,</span><span class="x">
    </span><span class="n">Metadata</span><span class="o">:</span><span class="x">         </span><span class="o">&amp;</span><span class="n">metadata</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// Queue the company asynchronously</span><span class="x">
</span><span class="n">apiClient</span><span class="o">.</span><span class="n">QueueCompany</span><span class="p">(</span><span class="o">&amp;</span><span class="n">company</span><span class="p">)</span><span class="x">

</span><span class="c">// Update the company synchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">UpdateCompany</span><span class="p">(</span><span class="o">&amp;</span><span class="n">company</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">apiClient</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MoesifApiClient</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">).</span><span class="n">Api</span><span class="p">;;</span>

<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1">// See https://www.moesif.com/docs/api#companies for campaign schema</span>
<span class="kt">var</span> <span class="n">campaign</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CampaignModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">UtmSource</span> <span class="p">=</span> <span class="s">"google"</span><span class="p">,</span>
    <span class="n">UtmMedium</span> <span class="p">=</span> <span class="s">"cpc"</span>
  <span class="n">UtmCampaign</span> <span class="p">=</span> <span class="s">"adwords"</span>
    <span class="n">UtmTerm</span> <span class="p">=</span> <span class="s">"api+tooling"</span>
    <span class="n">UtmContent</span> <span class="p">=</span> <span class="s">"landing"</span>
<span class="p">};</span>

<span class="c1">// metadata can be any custom dictionary</span>
<span class="kt">var</span> <span class="n">metadata</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span><span class="s">"org_name"</span><span class="p">,</span> <span class="s">"Acme, Inc"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"plan_name"</span><span class="p">,</span> <span class="s">"Free"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"deal_stage"</span><span class="p">,</span> <span class="s">"Lead"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"mrr"</span><span class="p">,</span> <span class="m">24000</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"demographics"</span><span class="p">,</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="p">{</span><span class="s">"alexa_ranking"</span><span class="p">,</span> <span class="m">500000</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"employee_count"</span><span class="p">,</span> <span class="m">47</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Only company id is required</span>
<span class="kt">var</span> <span class="n">company</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CompanyModel</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">CompanyId</span> <span class="p">=</span> <span class="s">"67890"</span><span class="p">,</span>
  <span class="n">CompanyDomain</span> <span class="p">=</span> <span class="s">"acmeinc.com"</span><span class="p">,</span> <span class="c1">// If domain is set, Moesif will enrich your profiles with publicly available info </span>
  <span class="n">Campaign</span> <span class="p">=</span> <span class="n">campaign</span><span class="p">,</span>
    <span class="n">Metadata</span> <span class="p">=</span> <span class="n">metadata</span>
<span class="p">};</span>

<span class="c1">// Update the company asynchronously</span>
<span class="k">await</span> <span class="n">apiClient</span><span class="p">.</span><span class="nf">UpdateCompanyAsync</span><span class="p">(</span><span class="n">company</span><span class="p">);</span>

<span class="c1">// Update the company synchronously</span>
<span class="n">apiClient</span><span class="p">.</span><span class="nf">UpdateCompany</span><span class="p">(</span><span class="n">company</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">MoesifAPIClient</span> <span class="n">apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="o">).</span><span class="na">Api</span><span class="o">;</span>

<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1">// See https://www.moesif.com/docs/api#update-a-company for campaign schema</span>
<span class="n">CampaignModel</span> <span class="n">campaign</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CampaignBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">utmSource</span><span class="o">(</span><span class="s">"google"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmCampaign</span><span class="o">(</span><span class="s">"cpc"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmMedium</span><span class="o">(</span><span class="s">"adwords"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmTerm</span><span class="o">(</span><span class="s">"api+tooling"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmContent</span><span class="o">(</span><span class="s">"landing"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// Only companyId is required</span>
<span class="c1">// metadata can be any custom object</span>
<span class="n">CompanyModel</span> <span class="n">company</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CompanyBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">companyId</span><span class="o">(</span><span class="s">"67890"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">companyDomain</span><span class="o">(</span><span class="s">"acmeinc.com"</span><span class="o">)</span> <span class="c1">// If set, Moesif will enrich your profiles with publicly available info </span>
    <span class="o">.</span><span class="na">campaign</span><span class="o">(</span><span class="n">campaign</span><span class="o">)</span> 
    <span class="o">.</span><span class="na">metadata</span><span class="o">(</span><span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
        <span class="s">"\"org_name\": \"Acme, Inc\","</span> <span class="o">+</span>
        <span class="s">"\"plan_name\": \"Free\","</span> <span class="o">+</span>
        <span class="s">"\"deal_stage\": \"Lead\","</span> <span class="o">+</span>
        <span class="s">"\"mrr\": 24000,"</span> <span class="o">+</span>
        <span class="s">"\"demographics\": {"</span> <span class="o">+</span>
            <span class="s">"\"alexa_ranking\": 500000,"</span> <span class="o">+</span>
            <span class="s">"\"employee_count\": 47"</span> <span class="o">+</span>
          <span class="s">"}"</span> <span class="o">+</span>
        <span class="s">"}"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// Asynchronous Call to update company</span>
<span class="n">apiClient</span><span class="o">.</span><span class="na">updateCompanyAsync</span><span class="o">(</span><span class="n">company</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>

<span class="c1">// Synchronous Call to update company</span>
<span class="n">apiClient</span><span class="o">.</span><span class="na">updateCompany</span><span class="o">(</span><span class="n">company</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>
</code></pre>
<blockquote class="lang-specific javascript--browser">
<b>Only the company id and metadata object need to be set. All other fields like 
the company&rsquo;s IP address and converting campaign are captured from browser context automatically.</b>
</blockquote>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kd">var</span> <span class="nx">moesif</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesif-browser-js'</span><span class="p">);</span>

<span class="nx">moesif</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
  <span class="na">applicationId</span><span class="p">:</span> <span class="s1">'YOUR_COLLECTOR_APPLICATION_ID'</span>
  <span class="c1">// add other option here.</span>
<span class="p">});</span>

<span class="c1">// Only the first argument is a string containing the company id. This is the only required field. </span>
<span class="c1">// The second argument is a object used to store a company info like plan, MRR, and company demographics.</span>
<span class="c1">// The third argument is a string containing company website or email domain. If set, Moesif will enrich your profiles with publicly available info.  </span>
<span class="nx">metadata</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">orgName</span><span class="p">:</span> <span class="s1">'Acme, Inc'</span><span class="p">,</span>
  <span class="na">planName</span><span class="p">:</span> <span class="s1">'Free Plan'</span><span class="p">,</span>
  <span class="na">dealStage</span><span class="p">:</span> <span class="s1">'Lead'</span><span class="p">,</span>
  <span class="na">mrr</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
  <span class="na">demographics</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">alexaRanking</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span>
    <span class="na">employeeCount</span><span class="p">:</span> <span class="mi">47</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">moesif</span><span class="p">.</span><span class="nx">identifyCompany</span><span class="p">(</span><span class="s1">'67890'</span><span class="p">,</span> <span class="nx">metadata</span><span class="p">,</span> <span class="s1">'acmeinc.com'</span><span class="p">);</span>
</code></pre>
<h4 id="company-id-vs-session-token">Company id vs. session token</h4>

<p>Companies in Moesif are identified by two attributes: <em>company_id</em> and <em>session_token</em>.</p>

<ul>
<li><p>A <code class="prettyprint">company_id</code> is a unique identifier for the company or enterprise account performing the activity.
Company Ids are a <strong>permanent</strong> and robust identifier, like a database id or permanent <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>.
We recommend using database ids instead of the company&rsquo;s name or website domain, because database ids never change.</p></li>
<li><p>A <code class="prettyprint">session_token</code> is an API key or <a href="https://jwt.io/introduction/">JSON Web Tokens&rsquo;s</a> (JWT) that expires after a short duration.
Unlike company ids, session tokens, are <strong>transient</strong>. Thus, the same company can be associated with many API keys and tokens over
the lifetime of the company. </p></li>
</ul>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>company_id</td>
<td>string</td>
<td><strong>true</strong></td>
<td>The unique identifier for this company.</td>
</tr>
<tr>
<td>company_domain</td>
<td>string</td>
<td>false</td>
<td>If set, Moesif will enrich your company profile with publicly available info</td>
</tr>
<tr>
<td>session_token</td>
<td>string</td>
<td>false</td>
<td>Associate this company with a new API key/session token. This field is <em>append only</em> meaning when you set this field, previously set tokens are not removed.</td>
</tr>
<tr>
<td>modified_time</td>
<td>string(date-time)</td>
<td>false</td>
<td>Last modified time of company profile. Set automatically by Moesif if not provided.</td>
</tr>
<tr>
<td>ip_address</td>
<td>string</td>
<td>false</td>
<td>Set the company&rsquo;s last known ip address. Moesif sets this automatically from the user&rsquo;s most recent API activity if not provided.</td>
</tr>
<tr>
<td>campaign</td>
<td>object</td>
<td>false</td>
<td><a href="https://en.wikipedia.org/wiki/HTTP_referer">Referrer</a> and <a href="https://en.wikipedia.org/wiki/UTM_parameters">UTM parameters</a> to track effectiveness of your acquisition channels. Set automatically by moesif-browser-js, but not with server side SDKs</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_source</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies which site sent the traffic</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_medium</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies what type of link was used, such as cost per click or email.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_campaign</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies a specific product promotion or strategic campaign.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_term</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies search terms.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_content</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies what specifically was clicked to bring the company to the site, such as a banner ad or a text link.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">referrer</p></td>
<td>string</td>
<td>false</td>
<td>The referring URI before your domain.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">referring_domain</p></td>
<td>string</td>
<td>false</td>
<td>The referring domain of the page that linked to your domain.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">gclid</p></td>
<td>string</td>
<td>false</td>
<td>Google click Identifier to track Google Ads</td>
</tr>
<tr>
<td>metadata</td>
<td>object</td>
<td>false</td>
<td>An object containing company demographics or other properties you want to store with this profile.</td>
</tr>
</tbody></table>

<h3 id="update-companies-in-batch">Update Companies in Batch</h3>

<p><strong><code class="prettyprint">POST https://api.moesif.net/v1/companies/batch</code></strong></p>

<p>Updates a list of companies profile in Moesif.</p>

<p>A custom JSON object can be placed in the <code class="prettyprint">metadata</code> object of each company
which will be stored as part of the company profile.</p>

<p>While optional, you can set the <code class="prettyprint">company_domain</code> field which enables Moesif
to enrich your company profiles with stuff like company logo.</p>

<p>If company does not exist, a new one will be created.
If a company exists, it will be merged on top of existing fields.
Any new field set will override the existing fields.
This is done via recursive merge which merges inner objects.</p>

<aside class="info">
Replace <i>my_application_id</i> with your real Application Id
</aside>

<blockquote class="lang-specific yaml">
<code><b>POST</b> https://api.moesif.net/v1/companies/batch</code>
<br><br><i>Example Request</i><br>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">[</span>
  <span class="pi">{</span>
    <span class="s2">"</span><span class="s">company_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">12345"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">company_domain"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">acmeinc.com"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">campaign"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">utm_source"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">google"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_medium"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">cpc"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_campaign"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">adwords"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_term"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">api+tooling"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_content"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">landing"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">org_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Acme,</span><span class="nv"> </span><span class="s">Inc"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">plan_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Free"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">deal_stage"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Lead"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">mrr"</span><span class="pi">:</span> <span class="nv">24000</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">demographics"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">alexa_ranking"</span><span class="pi">:</span> <span class="nv">500000</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">employee_count"</span><span class="pi">:</span> <span class="nv">47</span>
      <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">},</span>
  <span class="pi">{</span>
    <span class="s2">"</span><span class="s">company_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">54321"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">company_domain"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">contoso.com"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">campaign"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">utm_source"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">facebook"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_medium"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">dislay"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">utm_campaign"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">retargeting"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">org_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Contoso,</span><span class="nv"> </span><span class="s">Inc"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">plan_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Paid"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">deal_stage"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Lead"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">mrr"</span><span class="pi">:</span> <span class="nv">48000</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">demographics"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">alexa_ranking"</span><span class="pi">:</span> <span class="nv">500000</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">employee_count"</span><span class="pi">:</span> <span class="nv">47</span>
      <span class="pi">}</span>
    <span class="pi">}</span>
  <span class="pi">}</span>
<span class="pi">]</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.net/v1/events/batch <span class="se">\</span>
  -d <span class="s1">'[{"company_id":"12345","company_domain":"acmeinc.com","campaign":{"utm_source":"google","utm_medium":"cpc","utm_campaign":"adwords","utm_term":"api+tooling","utm_content":"landing"},"metadata":{"org_name":"Acme, Inc","plan_name":"Free","deal_stage":"Lead","mrr":24000,"demographics":{"alexa_ranking":500000,"employee_count":47}}},{"company_id":"54321","company_domain":"contoso.com","campaign":{"utm_source":"facebook","utm_medium":"dislay","utm_campaign":"retargeting"},"metadata":{"org_name":"Contoso, Inc","plan_name":"Paid","deal_stage":"Lead","mrr":48000,"demographics":{"alexa_ranking":500000,"employee_count":47}}}]'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'X-Moesif-Application-Id: YOUR_COLLECTOR_APPLICATION_ID'</span>


</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kd">var</span> <span class="nx">moesifapi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moesifapi'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">apiClient</span> <span class="o">=</span> <span class="nx">moesifapi</span><span class="p">.</span><span class="nx">ApiController</span><span class="p">;</span>

<span class="nx">moesifapi</span><span class="p">.</span><span class="nx">configuration</span><span class="p">.</span><span class="nx">ApplicationId</span> <span class="o">=</span> <span class="s2">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">;</span>


<span class="c1">// Only companyId is required.</span>
<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1">// See https://www.moesif.com/docs/api#update-a-company for campaign schema</span>
<span class="c1">// metadata can be any custom object</span>
<span class="kd">var</span> <span class="nx">companies</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="na">companyId</span><span class="p">:</span> <span class="s1">'67890'</span><span class="p">,</span>
    <span class="na">companyDomain</span><span class="p">:</span> <span class="s1">'acmeinc.com'</span><span class="p">,</span> <span class="c1">// If domain is set, Moesif will enrich your profiles with publicly available info </span>
    <span class="na">campaign</span><span class="p">:</span> <span class="p">{</span> 
      <span class="na">utmSource</span><span class="p">:</span> <span class="s1">'google'</span><span class="p">,</span>
      <span class="na">utmMedium</span><span class="p">:</span> <span class="s1">'cpc'</span><span class="p">,</span> 
      <span class="na">utmCampaign</span><span class="p">:</span> <span class="s1">'adwords'</span><span class="p">,</span>
      <span class="na">utmTerm</span><span class="p">:</span> <span class="s1">'api+tooling'</span><span class="p">,</span>
      <span class="na">utmContent</span><span class="p">:</span> <span class="s1">'landing'</span>
    <span class="p">},</span>
    <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">orgName</span><span class="p">:</span> <span class="s1">'Acme, Inc'</span><span class="p">,</span>
      <span class="na">planName</span><span class="p">:</span> <span class="s1">'Free Plan'</span><span class="p">,</span>
      <span class="na">dealStage</span><span class="p">:</span> <span class="s1">'Lead'</span><span class="p">,</span>
      <span class="na">mrr</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
      <span class="na">demographics</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">alexaRanking</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span>
        <span class="na">employeeCount</span><span class="p">:</span> <span class="mi">47</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">companyId</span><span class="p">:</span> <span class="s1">'09876'</span><span class="p">,</span>
    <span class="na">companyDomain</span><span class="p">:</span> <span class="s1">'contoso.com'</span><span class="p">,</span> <span class="c1">// If domain is set, Moesif will enrich your profiles with publicly available info </span>
    <span class="na">campaign</span><span class="p">:</span> <span class="p">{</span> 
      <span class="na">utmSource</span><span class="p">:</span> <span class="s1">'facebook'</span><span class="p">,</span>
      <span class="na">utmMedium</span><span class="p">:</span> <span class="s1">'cpc'</span><span class="p">,</span> 
      <span class="na">utmCampaign</span><span class="p">:</span> <span class="s1">'retargeting'</span>
    <span class="p">},</span>
    <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">orgName</span><span class="p">:</span> <span class="s1">'Contoso, Inc'</span><span class="p">,</span>
      <span class="na">planName</span><span class="p">:</span> <span class="s1">'Paid Plan'</span><span class="p">,</span>
      <span class="na">dealStage</span><span class="p">:</span> <span class="s1">'Lead'</span><span class="p">,</span>
      <span class="na">mrr</span><span class="p">:</span> <span class="mi">48000</span><span class="p">,</span>
      <span class="na">demographics</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">alexaRanking</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span>
        <span class="na">employeeCount</span><span class="p">:</span> <span class="mi">53</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="nx">apiClient</span><span class="p">.</span><span class="nx">updateCompanies</span><span class="p">(</span><span class="nx">companies</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do Something</span>
<span class="p">});</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">moesifapi.moesif_api_client</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">moesifapi.models</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">MoesifAPIClient</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="o">.</span><span class="n">api</span>

<span class="c"># Only company_id is required.</span>
<span class="c"># Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c"># See https://www.moesif.com/docs/api#update-a-company for campaign schema</span>
<span class="c"># metadata can be any custom object</span>
<span class="n">companies</span> <span class="o">=</span> <span class="p">[{</span>
  <span class="s">'company_id'</span><span class="p">:</span> <span class="s">'67890'</span><span class="p">,</span>
  <span class="s">'company_domain'</span><span class="p">:</span> <span class="s">'acmeinc.com'</span><span class="p">,</span> <span class="c"># If domain is set, Moesif will enrich your profiles with publicly available info </span>
  <span class="s">'campaign'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'utm_source'</span><span class="p">:</span> <span class="s">'google'</span><span class="p">,</span>
    <span class="s">'utm_medium'</span><span class="p">:</span> <span class="s">'cpc'</span><span class="p">,</span> 
    <span class="s">'utm_campaign'</span><span class="p">:</span> <span class="s">'adwords'</span><span class="p">,</span>
    <span class="s">'utm_term'</span><span class="p">:</span> <span class="s">'api+tooling'</span><span class="p">,</span>
    <span class="s">'utm_content'</span><span class="p">:</span> <span class="s">'landing'</span>
  <span class="p">},</span>
  <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'org_name'</span><span class="p">:</span> <span class="s">'Acme, Inc'</span><span class="p">,</span>
    <span class="s">'plan_name'</span><span class="p">:</span> <span class="s">'Free'</span><span class="p">,</span>
    <span class="s">'deal_stage'</span><span class="p">:</span> <span class="s">'Lead'</span><span class="p">,</span>
    <span class="s">'mrr'</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
    <span class="s">'demographics'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'alexa_ranking'</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span>
        <span class="s">'employee_count'</span><span class="p">:</span> <span class="mi">47</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">},</span>
<span class="p">{</span>
  <span class="s">'company_id'</span><span class="p">:</span> <span class="s">'09876'</span><span class="p">,</span>
  <span class="s">'company_domain'</span><span class="p">:</span> <span class="s">'contoso.com'</span><span class="p">,</span> <span class="c"># If domain is set, Moesif will enrich your profiles with publicly available info </span>
  <span class="s">'campaign'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'utm_source'</span><span class="p">:</span> <span class="s">'facebook'</span><span class="p">,</span>
    <span class="s">'utm_medium'</span><span class="p">:</span> <span class="s">'cpc'</span><span class="p">,</span> 
    <span class="s">'utm_campaign'</span><span class="p">:</span> <span class="s">'retargeting'</span>
  <span class="p">},</span>
  <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'org_name'</span><span class="p">:</span> <span class="s">'Contoso, Inc'</span><span class="p">,</span>
    <span class="s">'plan_name'</span><span class="p">:</span> <span class="s">'Paid'</span><span class="p">,</span>
    <span class="s">'deal_stage'</span><span class="p">:</span> <span class="s">'Lead'</span><span class="p">,</span>
    <span class="s">'mrr'</span><span class="p">:</span> <span class="mi">48000</span><span class="p">,</span>
    <span class="s">'demographics'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'alexa_ranking'</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span>
        <span class="s">'employee_count'</span><span class="p">:</span> <span class="mi">53</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">}]</span>

<span class="n">update_company</span> <span class="o">=</span> <span class="n">api_client</span><span class="o">.</span><span class="n">update_companies</span><span class="p">(</span><span class="n">companies</span><span class="p">)</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="n">api_client</span> <span class="o">=</span> <span class="no">MoesifApi</span><span class="o">::</span><span class="no">MoesifAPIClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'YOUR_COLLECTOR_APPLICATION_ID'</span><span class="p">).</span><span class="nf">api</span>

<span class="n">companies</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="ss">:org_name</span> <span class="o">=&gt;</span> <span class="s1">'Acme, Inc'</span><span class="p">,</span>
  <span class="ss">:plan_name</span> <span class="o">=&gt;</span> <span class="s1">'Free'</span><span class="p">,</span>
  <span class="ss">:deal_stage</span> <span class="o">=&gt;</span> <span class="s1">'Lead'</span><span class="p">,</span>
  <span class="ss">:mrr</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
  <span class="ss">:demographics</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:alexa_ranking</span> <span class="o">=&gt;</span> <span class="mi">500000</span><span class="p">,</span>
      <span class="ss">:employee_count</span> <span class="o">=&gt;</span> <span class="mi">47</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1"># See https://www.moesif.com/docs/api#update-a-company for campaign schema</span>
<span class="n">campaign</span> <span class="o">=</span> <span class="no">CampaignModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_source</span> <span class="o">=</span> <span class="s2">"google"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_medium</span> <span class="o">=</span> <span class="s2">"cpc"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_campaign</span> <span class="o">=</span> <span class="s2">"adwords"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_term</span> <span class="o">=</span> <span class="s2">"api+tooling"</span>
<span class="n">campaign</span><span class="p">.</span><span class="nf">utm_content</span> <span class="o">=</span> <span class="s2">"landing"</span>

<span class="c1"># Only company_id is required.</span>
<span class="c1"># metadata can be any custom object</span>
<span class="n">company</span> <span class="o">=</span> <span class="no">CompanyModel</span><span class="p">.</span><span class="nf">new</span><span class="p">()</span>
<span class="n">company</span><span class="p">.</span><span class="nf">company_id</span> <span class="o">=</span> <span class="s2">"67890"</span>
<span class="n">company</span><span class="p">.</span><span class="nf">company_domain</span> <span class="o">=</span> <span class="s2">"acmeinc.com"</span> <span class="c1"># If domain is set, Moesif will enrich your profiles with publicly available info </span>
<span class="n">company</span><span class="p">.</span><span class="nf">campaign</span> <span class="o">=</span> <span class="n">campaign</span>
<span class="n">company</span><span class="p">.</span><span class="nf">metadata</span> <span class="o">=</span> <span class="n">metadata</span>

<span class="n">companies</span> <span class="o">&lt;&lt;</span> <span class="n">company</span>

<span class="n">update_company</span> <span class="o">=</span> <span class="n">api_client</span><span class="p">.</span><span class="nf">update_companies</span><span class="p">(</span><span class="n">companies</span><span class="p">)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Depending on your project setup, you might need to include composer's
// autoloader in your PHP code to enable autoloading of classes.
</span>
<span class="k">require_once</span> <span class="s2">"vendor/autoload.php"</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">MoesifApi\MoesifApiClient</span><span class="p">;</span>
<span class="nv">$apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MoesifApiClient</span><span class="p">(</span><span class="s2">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getApi</span><span class="p">();</span>

<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels
// See https://www.moesif.com/docs/api#update-a-company for campaign schema
</span><span class="nv">$campaignA</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\CampaignModel</span><span class="p">();</span>
<span class="nv">$campaignA</span><span class="o">-&gt;</span><span class="na">utmSource</span> <span class="o">=</span> <span class="s2">"google"</span><span class="p">;</span>
<span class="nv">$campaignA</span><span class="o">-&gt;</span><span class="na">utmCampaign</span> <span class="o">=</span> <span class="s2">"cpc"</span><span class="p">;</span>
<span class="nv">$campaignA</span><span class="o">-&gt;</span><span class="na">utmMedium</span> <span class="o">=</span> <span class="s2">"adwords"</span><span class="p">;</span>
<span class="nv">$campaignA</span><span class="o">-&gt;</span><span class="na">utmContent</span> <span class="o">=</span> <span class="s2">"api+tooling"</span><span class="p">;</span>
<span class="nv">$campaignA</span><span class="o">-&gt;</span><span class="na">utmTerm</span> <span class="o">=</span> <span class="s2">"landing"</span><span class="p">;</span>


<span class="nv">$companyA</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\CompanyModel</span><span class="p">();</span>
<span class="nv">$companyA</span><span class="o">-&gt;</span><span class="na">companyId</span> <span class="o">=</span> <span class="s2">"67890"</span><span class="p">;</span>
<span class="nv">$companyA</span><span class="o">-&gt;</span><span class="na">companyDomain</span> <span class="o">=</span> <span class="s2">"acmeinc.com"</span><span class="p">;</span>
<span class="nv">$companyA</span><span class="o">-&gt;</span><span class="na">campaign</span> <span class="o">=</span> <span class="nv">$campaign</span><span class="p">;</span>

<span class="c1">// metadata can be any custom object
</span><span class="nv">$companyB</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"org_name"</span> <span class="o">=&gt;</span> <span class="s2">"Acme, Inc"</span><span class="p">,</span>
        <span class="s2">"plan_name"</span> <span class="o">=&gt;</span> <span class="s2">"Free"</span><span class="p">,</span>
        <span class="s2">"deal_stage"</span> <span class="o">=&gt;</span> <span class="s2">"Lead"</span><span class="p">,</span>
        <span class="s2">"mrr"</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="s2">"demographics"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s2">"alexa_ranking"</span> <span class="o">=&gt;</span> <span class="mi">500000</span><span class="p">,</span>
            <span class="s2">"employee_count"</span> <span class="o">=&gt;</span> <span class="mi">47</span>
        <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$companyB</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Models\CompanyModel</span><span class="p">();</span>
<span class="nv">$companyB</span><span class="o">-&gt;</span><span class="na">companyId</span> <span class="o">=</span> <span class="s2">"67890"</span><span class="p">;</span>
<span class="nv">$companyB</span><span class="o">-&gt;</span><span class="na">companyDomain</span> <span class="o">=</span> <span class="s2">"acmeinc.com"</span><span class="p">;</span>
<span class="nv">$companyB</span><span class="o">-&gt;</span><span class="na">campaign</span> <span class="o">=</span> <span class="nv">$campaign</span><span class="p">;</span>

<span class="c1">// metadata can be any custom object
</span><span class="nv">$companyB</span><span class="o">-&gt;</span><span class="na">metadata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"org_name"</span> <span class="o">=&gt;</span> <span class="s2">"Acme, Inc"</span><span class="p">,</span>
        <span class="s2">"plan_name"</span> <span class="o">=&gt;</span> <span class="s2">"Free"</span><span class="p">,</span>
        <span class="s2">"deal_stage"</span> <span class="o">=&gt;</span> <span class="s2">"Lead"</span><span class="p">,</span>
        <span class="s2">"mrr"</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="s2">"demographics"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s2">"alexa_ranking"</span> <span class="o">=&gt;</span> <span class="mi">500000</span><span class="p">,</span>
            <span class="s2">"employee_count"</span> <span class="o">=&gt;</span> <span class="mi">47</span>
        <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$companies</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$companyA</span><span class="p">,</span> <span class="nv">$companyB</span><span class="p">)</span>
<span class="nv">$apiClient</span><span class="o">-&gt;</span><span class="na">updateCompaniesBatch</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$companies</span><span class="p">));</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"github.com/moesif/moesifapi-go/models"</span><span class="x">

</span><span class="n">apiClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">moesifapi</span><span class="o">.</span><span class="n">NewAPI</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">)</span><span class="x">

</span><span class="c">// List of Companies</span><span class="x">
</span><span class="k">var</span><span class="x"> </span><span class="n">companies</span><span class="x"> </span><span class="p">[]</span><span class="o">*</span><span class="n">models</span><span class="o">.</span><span class="n">CompanyModel</span><span class="x">

</span><span class="c">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span><span class="x">
</span><span class="c">// See https://www.moesif.com/docs/api#update-a-company for campaign schema</span><span class="x">
</span><span class="n">campaign</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">CampaignModel</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">UtmSource</span><span class="o">:</span><span class="x"> </span><span class="s">"google"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmMedium</span><span class="o">:</span><span class="x"> </span><span class="s">"cpc"</span><span class="p">,</span><span class="x"> 
  </span><span class="n">UtmCampaign</span><span class="o">:</span><span class="x"> </span><span class="s">"adwords"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmTerm</span><span class="o">:</span><span class="x"> </span><span class="s">"api+tooling"</span><span class="p">,</span><span class="x">
  </span><span class="n">UtmContent</span><span class="o">:</span><span class="x"> </span><span class="s">"landing"</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// metadata can be any custom dictionary</span><span class="x">
</span><span class="n">metadata</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
  </span><span class="s">"org_name"</span><span class="p">,</span><span class="x"> </span><span class="s">"Acme, Inc"</span><span class="p">,</span><span class="x">
  </span><span class="s">"plan_name"</span><span class="p">,</span><span class="x"> </span><span class="s">"Free"</span><span class="p">,</span><span class="x">
  </span><span class="s">"deal_stage"</span><span class="p">,</span><span class="x"> </span><span class="s">"Lead"</span><span class="p">,</span><span class="x">
  </span><span class="s">"mrr"</span><span class="p">,</span><span class="x"> </span><span class="m">24000</span><span class="p">,</span><span class="x">
  </span><span class="s">"demographics"</span><span class="p">,</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
      </span><span class="s">"alexa_ranking"</span><span class="p">,</span><span class="x"> </span><span class="m">500000</span><span class="p">,</span><span class="x">
      </span><span class="s">"employee_count"</span><span class="p">,</span><span class="x"> </span><span class="m">47</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">// Prepare company model</span><span class="x">
</span><span class="n">companyA</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">CompanyModel</span><span class="p">{</span><span class="x">
    </span><span class="n">CompanyId</span><span class="o">:</span><span class="x">        </span><span class="s">"67890"</span><span class="p">,</span><span class="x">  </span><span class="c">// The only required field is your company id</span><span class="x">
    </span><span class="n">CompanyDomain</span><span class="o">:</span><span class="x">  </span><span class="s">"acmeinc.com"</span><span class="p">,</span><span class="x"> </span><span class="c">// If domain is set, Moesif will enrich your profiles with publicly available info </span><span class="x">
    </span><span class="n">Campaign</span><span class="o">:</span><span class="x">         </span><span class="o">&amp;</span><span class="n">campaign</span><span class="p">,</span><span class="x">
    </span><span class="n">Metadata</span><span class="o">:</span><span class="x">           </span><span class="o">&amp;</span><span class="n">metadata</span><span class="p">,</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">companies</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">append</span><span class="p">(</span><span class="n">companies</span><span class="p">,</span><span class="x"> </span><span class="o">&amp;</span><span class="n">companyA</span><span class="p">)</span><span class="x">

</span><span class="c">// Queue the company asynchronously</span><span class="x">
</span><span class="n">apiClient</span><span class="o">.</span><span class="n">QueueCompanies</span><span class="p">(</span><span class="o">&amp;</span><span class="n">companies</span><span class="p">)</span><span class="x">

</span><span class="c">// Update the company synchronously</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">apiClient</span><span class="o">.</span><span class="n">UpdateCompaniesBatch</span><span class="p">(</span><span class="o">&amp;</span><span class="n">companies</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">apiClient</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MoesifApiClient</span><span class="p">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="p">).</span><span class="n">Api</span><span class="p">;;</span>

<span class="kt">var</span> <span class="n">companies</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">CompanyModel</span><span class="p">&gt;();</span>

<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1">// See https://www.moesif.com/docs/api#companies for campaign schema</span>
<span class="kt">var</span> <span class="n">campaignA</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CampaignModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">UtmSource</span> <span class="p">=</span> <span class="s">"google"</span><span class="p">,</span>
    <span class="n">UtmMedium</span> <span class="p">=</span> <span class="s">"cpc"</span>
  <span class="n">UtmCampaign</span> <span class="p">=</span> <span class="s">"adwords"</span>
    <span class="n">UtmTerm</span> <span class="p">=</span> <span class="s">"api+tooling"</span>
    <span class="n">UtmContent</span> <span class="p">=</span> <span class="s">"landing"</span>
<span class="p">};</span>

<span class="c1">// metadata can be any custom dictionary</span>
<span class="kt">var</span> <span class="n">metadataA</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span><span class="s">"org_name"</span><span class="p">,</span> <span class="s">"Acme, Inc"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"plan_name"</span><span class="p">,</span> <span class="s">"Free"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"deal_stage"</span><span class="p">,</span> <span class="s">"Lead"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"mrr"</span><span class="p">,</span> <span class="m">24000</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"demographics"</span><span class="p">,</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="p">{</span><span class="s">"alexa_ranking"</span><span class="p">,</span> <span class="m">500000</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"employee_count"</span><span class="p">,</span> <span class="m">47</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Only company id is required</span>
<span class="kt">var</span> <span class="n">companyA</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CompanyModel</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">CompanyId</span> <span class="p">=</span> <span class="s">"67890"</span><span class="p">,</span>
  <span class="n">CompanyDomain</span> <span class="p">=</span> <span class="s">"acmeinc.com"</span><span class="p">,</span> <span class="c1">// If domain is set, Moesif will enrich your profiles with publicly available info </span>
  <span class="n">Campaign</span> <span class="p">=</span> <span class="n">campaign</span><span class="p">,</span>
    <span class="n">Metadata</span> <span class="p">=</span> <span class="n">metadata</span>
<span class="p">};</span>

<span class="c1">// metadata can be any custom dictionary</span>
<span class="kt">var</span> <span class="n">metadataB</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="p">{</span><span class="s">"org_name"</span><span class="p">,</span> <span class="s">"Contoso, Inc"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"plan_name"</span><span class="p">,</span> <span class="s">"Paid"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"deal_stage"</span><span class="p">,</span> <span class="s">"Lead"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"mrr"</span><span class="p">,</span> <span class="m">48000</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"demographics"</span><span class="p">,</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="p">{</span><span class="s">"alexa_ranking"</span><span class="p">,</span> <span class="m">500000</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"employee_count"</span><span class="p">,</span> <span class="m">53</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Only company id is required</span>
<span class="kt">var</span> <span class="n">companyB</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CompanyModel</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">CompanyId</span> <span class="p">=</span> <span class="s">"09876"</span><span class="p">,</span>
  <span class="n">CompanyDomain</span> <span class="p">=</span> <span class="s">"contoso.com"</span><span class="p">,</span> <span class="c1">// If domain is set, Moesif will enrich your profiles with publicly available info </span>
  <span class="n">Campaign</span> <span class="p">=</span> <span class="n">campaign</span><span class="p">,</span>
    <span class="n">Metadata</span> <span class="p">=</span> <span class="n">metadata</span>
<span class="p">};</span>


<span class="n">companies</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">companyA</span><span class="p">);</span>
<span class="n">companies</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">companyB</span><span class="p">);</span>

<span class="c1">// Update the companies asynchronously</span>
<span class="k">await</span> <span class="n">apiClient</span><span class="p">.</span><span class="nf">UpdateCompaniesBatchAsync</span><span class="p">(</span><span class="n">companies</span><span class="p">);</span>

<span class="c1">// Update the companies synchronously</span>
<span class="n">apiClient</span><span class="p">.</span><span class="nf">UpdateCompaniesBatch</span><span class="p">(</span><span class="n">companies</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">MoesifAPIClient</span> <span class="n">apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoesifAPIClient</span><span class="o">(</span><span class="s">"YOUR_COLLECTOR_APPLICATION_ID"</span><span class="o">).</span><span class="na">Api</span><span class="o">;</span>

<span class="c1">// Campaign object is optional, but useful if you want to track ROI of acquisition channels</span>
<span class="c1">// See https://www.moesif.com/docs/api#update-a-company for campaign schema</span>
<span class="n">CampaignModel</span> <span class="n">campaign</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CampaignBuilder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">utmSource</span><span class="o">(</span><span class="s">"google"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmCampaign</span><span class="o">(</span><span class="s">"cpc"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmMedium</span><span class="o">(</span><span class="s">"adwords"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmTerm</span><span class="o">(</span><span class="s">"api+tooling"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">utmContent</span><span class="o">(</span><span class="s">"landing"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// Only companyId is required</span>
<span class="c1">// metadata can be any custom object</span>
<span class="n">CompanyModel</span> <span class="n">company</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CompanyBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">companyId</span><span class="o">(</span><span class="s">"67890"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">companyDomain</span><span class="o">(</span><span class="s">"acmeinc.com"</span><span class="o">)</span> <span class="c1">// If set, Moesif will enrich your profiles with publicly available info </span>
    <span class="o">.</span><span class="na">campaign</span><span class="o">(</span><span class="n">campaign</span><span class="o">)</span> 
    <span class="o">.</span><span class="na">metadata</span><span class="o">(</span><span class="n">APIHelper</span><span class="o">.</span><span class="na">deserialize</span><span class="o">(</span><span class="s">"{"</span> <span class="o">+</span>
        <span class="s">"\"org_name\": \"Acme, Inc\","</span> <span class="o">+</span>
        <span class="s">"\"plan_name\": \"Free\","</span> <span class="o">+</span>
        <span class="s">"\"deal_stage\": \"Lead\","</span> <span class="o">+</span>
        <span class="s">"\"mrr\": 24000,"</span> <span class="o">+</span>
        <span class="s">"\"demographics\": {"</span> <span class="o">+</span>
            <span class="s">"\"alexa_ranking\": 500000,"</span> <span class="o">+</span>
            <span class="s">"\"employee_count\": 47"</span> <span class="o">+</span>
          <span class="s">"}"</span> <span class="o">+</span>
        <span class="s">"}"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// Asynchronous Call to update company</span>
<span class="n">apiClient</span><span class="o">.</span><span class="na">updateCompanyAsync</span><span class="o">(</span><span class="n">company</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>

<span class="c1">// Synchronous Call to update company</span>
<span class="n">apiClient</span><span class="o">.</span><span class="na">updateCompany</span><span class="o">(</span><span class="n">company</span><span class="o">,</span> <span class="n">callBack</span><span class="o">);</span>
</code></pre>
<blockquote class="lang-specific javascript--browser">
<b>Since this is a client side SDK, you cannot save a batch of companies with moesif-browser-js.</b>
</blockquote>

<h4 id="company-id-vs-session-token">Company id vs. session token</h4>

<p>Companies in Moesif are identified by two attributes: <em>company_id</em> and <em>session_token</em>.</p>

<ul>
<li><p>A <code class="prettyprint">company_id</code> is a unique identifier for the company or enterprise account performing the activity.
Company Ids are a <strong>permanent</strong> and robust identifier, like a database id or permanent <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>.
We recommend using database ids instead of the company&rsquo;s name or website domain, because database ids never change.</p></li>
<li><p>A <code class="prettyprint">session_token</code> is an API key or <a href="https://jwt.io/introduction/">JSON Web Tokens&rsquo;s</a> (JWT) that expires after a short duration.
Unlike company ids, session tokens, are <strong>transient</strong>. Thus, the same company can be associated with many API keys and tokens over
the lifetime of the company. </p></li>
</ul>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>company_id</td>
<td>string</td>
<td><strong>true</strong></td>
<td>The unique identifier for this company.</td>
</tr>
<tr>
<td>company_domain</td>
<td>string</td>
<td>false</td>
<td>If set, Moesif will enrich your company profile with publicly available info</td>
</tr>
<tr>
<td>session_token</td>
<td>string</td>
<td>false</td>
<td>Associate this company with a new API key/session token. This field is <em>append only</em> meaning when you set this field, previously set tokens are not removed.</td>
</tr>
<tr>
<td>modified_time</td>
<td>string(date-time)</td>
<td>false</td>
<td>Last modified time of company profile. Set automatically by Moesif if not provided.</td>
</tr>
<tr>
<td>ip_address</td>
<td>string</td>
<td>false</td>
<td>Set the company&rsquo;s last known ip address. Moesif sets this automatically from the user&rsquo;s most recent API activity if not provided.</td>
</tr>
<tr>
<td>campaign</td>
<td>object</td>
<td>false</td>
<td><a href="https://en.wikipedia.org/wiki/HTTP_referer">Referrer</a> and <a href="https://en.wikipedia.org/wiki/UTM_parameters">UTM parameters</a> to track effectiveness of your acquisition channels. Set automatically by moesif-browser-js, but not with server side SDKs</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_source</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies which site sent the traffic</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_medium</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies what type of link was used, such as cost per click or email.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_campaign</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies a specific product promotion or strategic campaign.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_term</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies search terms.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">utm_content</p></td>
<td>string</td>
<td>false</td>
<td>UTM parameter that identifies what specifically was clicked to bring the company to the site, such as a banner ad or a text link.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">referrer</p></td>
<td>string</td>
<td>false</td>
<td>The referring URI before your domain.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">referring_domain</p></td>
<td>string</td>
<td>false</td>
<td>The referring domain of the page that linked to your domain.</td>
</tr>
<tr>
<td><p style="margin-left:1.5em">gclid</p></td>
<td>string</td>
<td>false</td>
<td>Google click Identifier to track Google Ads</td>
</tr>
<tr>
<td>metadata</td>
<td>object</td>
<td>false</td>
<td>An object containing company demographics or other properties you want to store with this profile.</td>
</tr>
</tbody></table>

          <h1 id="management-api">Management API v1</h1>

<blockquote>
<p>Scroll down for code samples, example requests and responses. Select a language for code samples from the tabs above or the mobile navigation menu.</p>
</blockquote>

<p>Management API to query data in Moesif. You can use the management API to export data for custom reports or to build custom dashboards.</p>

<p>Base URL:</p>

<ul>
<li><a href="https://api.moesif.com/v1">https://api.moesif.com/v1</a></li>
</ul>

<p><a href="https://www.moesif.com/terms">Terms of service</a></p>

<h2 id="authentication">Authentication</h2>

<ul>
<li>Your Management API token must be added to the request <em>Authorization</em> header using the following format:</li>
</ul>

<p><code class="prettyprint">Authorization: Bearer MY_API_TOKEN</code></p>

<p>- Token URL = <a href="https://api.moesif.com/v1/:orgId/oauth/access_tokens">https://api.moesif.com/v1/:orgId/oauth/access_tokens</a></p>

<table><thead>
<tr>
<th>Scope</th>
<th>Scope Description</th>
</tr>
</thead><tbody>
<tr>
<td>read:public_workspaces</td>
<td>Read public workspaces/shared links</td>
</tr>
<tr>
<td>read:virtual_eventtypes</td>
<td>Read existing virtual events/tags</td>
</tr>
<tr>
<td>update:companies</td>
<td>Update existing companies and associated company metadata</td>
</tr>
<tr>
<td>create:companies</td>
<td>Create new companies and associated company metadata</td>
</tr>
<tr>
<td>create:reports</td>
<td>Create a new report such as SmartDiff</td>
</tr>
<tr>
<td>delete:workspaces</td>
<td>Delete existing workspaces</td>
</tr>
<tr>
<td>create:workspaces</td>
<td>Create a new workspace/chart that can be shared</td>
</tr>
<tr>
<td>read:workspaces</td>
<td>Read existing workspaces</td>
</tr>
<tr>
<td>update:virtual_eventtypes</td>
<td>Update existing virtual events/tags</td>
</tr>
<tr>
<td>read:events</td>
<td>Read/query API calls/events and associated event metadata</td>
</tr>
<tr>
<td>create:events</td>
<td>Create new API calls/events and associated event metadata</td>
</tr>
<tr>
<td>update:apps</td>
<td>Update an existing application</td>
</tr>
<tr>
<td>update:organizations</td>
<td>Update an existing application</td>
</tr>
<tr>
<td>create:access_tokens</td>
<td>Create new tokens to access the Management API or Collector API</td>
</tr>
<tr>
<td>create:users</td>
<td>Create new users and associated user metadata</td>
</tr>
<tr>
<td>create:apps</td>
<td>Create a new application/project under the organization</td>
</tr>
<tr>
<td>update:workspaces</td>
<td>Update existing workspaces</td>
</tr>
<tr>
<td>read:users</td>
<td>Read/query users and associated user metadata</td>
</tr>
<tr>
<td>delete:virtual_eventtypes</td>
<td>Delete existing virtual events/tags</td>
</tr>
<tr>
<td>read:reports</td>
<td>Read reports such as SmartDiff</td>
</tr>
<tr>
<td>delete:reports</td>
<td>Delete existing reports such as SmartDiff</td>
</tr>
<tr>
<td>update:users</td>
<td>Update existing users and associated user metadata</td>
</tr>
<tr>
<td>read:companies</td>
<td>Read/query companies and associated company metadata</td>
</tr>
<tr>
<td>create:virtual_eventtypes</td>
<td>Create virtual events/tags</td>
</tr>
<tr>
<td>delete:apps</td>
<td>Delete an existing application</td>
</tr>
<tr>
<td>delete:companies</td>
<td>Delete existing companies and associated company metadata</td>
</tr>
<tr>
<td>read:apps</td>
<td>Read the organization&rsquo;s applications</td>
</tr>
<tr>
<td>create:eth_abi</td>
<td>Create/upload new Ethereum ABI Entries</td>
</tr>
<tr>
<td>delete:users</td>
<td>Delete existing users and associated user metadata</td>
</tr>
</tbody></table>

<h2 id="management-api-Workspaces">Workspaces</h2>

<h3 id="add-acl-permission">Add ACL permission</h3>

<p><a id="opIdaddACLPermissions"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/replay/~/workspaces/<span class="o">{</span>id<span class="o">}</span>/policy/acl?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /replay/~/workspaces/{id}/policy/acl</code></p>

<h4 id="addACLPermissions-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>grantee</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>permission</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<h4 id="addACLPermissions-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: create:workspaces )
</aside>

<h3 id="delete-acl-permission">Delete ACL permission</h3>

<p><a id="opIddeleteACLPermissions"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X DELETE https://api.moesif.com/v1/replay/~/workspaces/<span class="o">{</span>id<span class="o">}</span>/policy/acl?app_id<span class="o">=</span>string&amp;grantee<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl?app_id=string&amp;grantee=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'DELETE'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span><span class="p">,</span>  <span class="s">'grantee'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">delete</span> <span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span><span class="p">,</span>
<span class="s1">'grantee'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'DELETE'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}/policy/acl?app_id=string&amp;grantee=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"DELETE"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">DELETE /replay/~/workspaces/{id}/policy/acl</code></p>

<h4 id="deleteACLPermissions-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>grantee</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<h4 id="deleteACLPermissions-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: delete:workspaces )
</aside>

<h3 id="create-a-new-comment">Create a New Comment</h3>

<p><a id="opIdcreateComment"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/replay/~/workspaces/<span class="o">{</span>id<span class="o">}</span>/comments?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}/comments?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/~/workspaces/{id}/comments'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}/comments'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}/comments'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}/comments"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}/comments?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /replay/~/workspaces/{id}/comments</code></p>

<h4 id="createComment-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<h4 id="createComment-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2">Created</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: update:workspaces )
</aside>

<h3 id="update-a-workspace">Update a Workspace</h3>

<p><a id="opIdupdateWorkspace"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/replay/~/workspaces/<span class="o">{</span>id<span class="o">}</span>?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/~/workspaces/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /replay/~/workspaces/{id}</code></p>

<h4 id="updateWorkspace-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<h4 id="updateWorkspace-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: update:workspaces )
</aside>

<h3 id="get-a-workspace">Get a Workspace</h3>

<p><a id="opIdgetWorkspace"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/replay/~/workspaces/<span class="o">{</span>id<span class="o">}</span>?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/~/workspaces/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /replay/~/workspaces/{id}</code></p>

<h4 id="getWorkspace-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="getWorkspace-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="getWorkspace-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:workspaces )
</aside>

<h3 id="delete-a-workspace">Delete a Workspace</h3>

<p><a id="opIddeleteWorkspace"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X DELETE https://api.moesif.com/v1/replay/~/workspaces/<span class="o">{</span>id<span class="o">}</span>?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'DELETE'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/~/workspaces/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">delete</span> <span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'DELETE'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/{id}?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"DELETE"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">DELETE /replay/~/workspaces/{id}</code></p>

<h4 id="deleteWorkspace-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<h4 id="deleteWorkspace-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: delete:workspaces )
</aside>

<h3 id="get-new-workspace-token">Get new Workspace Token</h3>

<p><a id="opIdgetWorkspaceToken"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/replay/workspaces/access_token <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/workspaces/access_token'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/workspaces/access_token'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/replay/workspaces/access_token'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/workspaces/access_token'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/workspaces/access_token"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/workspaces/access_token"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /replay/workspaces/access_token</code></p>

<p>Get a new Workspace Access Token</p>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span>
<span class="pi">}</span>
</code></pre>
<h4 id="getWorkspaceToken-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td><a href="#signeken">Signeken</a></td>
</tr>
</tbody></table>

<h4 id="getWorkspaceToken-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» _id</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>» token</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:workspaces )
</aside>

<h3 id="create-new-workspace">Create New Workspace</h3>

<p><a id="opIdcreateWorkspace"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/replay/~/workspaces?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/~/workspaces'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/replay/~/workspaces'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /replay/~/workspaces</code></p>

<h4 id="createWorkspace-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>expiration</td>
<td>query</td>
<td>string(date-time)</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="createWorkspace-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2">Created</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="createWorkspace-responseschema">Response Schema</h4>

<p>Status Code <strong>201</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: create:workspaces )
</aside>

<h3 id="get-workspaces">Get Workspaces</h3>

<p><a id="opIdgetWorkspaces"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/replay/~/workspaces?app_id<span class="o">=</span>string&amp;take<span class="o">=</span>0&amp;access<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces?app_id=string&amp;take=0&amp;access=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/~/workspaces'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span><span class="p">,</span>  <span class="s">'take'</span><span class="p">:</span> <span class="s">'0'</span><span class="p">,</span>  <span class="s">'access'</span><span class="p">:</span> <span class="p">[</span>
  <span class="s">"string"</span>
<span class="p">]</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/replay/~/workspaces'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span><span class="p">,</span>
<span class="s1">'take'</span> <span class="o">=&gt;</span> <span class="s1">'integer(int32)'</span><span class="p">,</span>
<span class="s1">'access'</span> <span class="o">=&gt;</span> <span class="s1">'array[string]'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces?app_id=string&amp;take=0&amp;access=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /replay/~/workspaces</code></p>

<h4 id="getWorkspaces-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>take</td>
<td>query</td>
<td>integer(int32)</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>before_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>type</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>access</td>
<td>query</td>
<td>array[string]</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">[]</span>
</code></pre>
<h4 id="getWorkspaces-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>Inline</td>
</tr>
</tbody></table>

<h4 id="getWorkspaces-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:workspaces )
</aside>

<h3 id="create-new-workspace">Create New Workspace</h3>

<p><a id="opIdcreateDefaultWorkspaces"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/replay/~/workspaces/default?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/default?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/replay/~/workspaces/default'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/default'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/replay/~/workspaces/default'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/default"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/replay/~/workspaces/default?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /replay/~/workspaces/default</code></p>

<h4 id="createDefaultWorkspaces-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="createDefaultWorkspaces-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2">Created</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="createDefaultWorkspaces-responseschema">Response Schema</h4>

<p>Status Code <strong>201</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: create:workspaces )
</aside>

<h2 id="management-api-OAuth">OAuth</h2>

<h3 id="get-token-info">Get Token Info</h3>

<p><a id="opIdgetTokenInfo"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/~/oauth/tokeninfo?scope<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/~/oauth/tokeninfo?scope=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/~/oauth/tokeninfo'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'scope'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/~/oauth/tokeninfo'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'scope'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/~/oauth/tokeninfo'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/~/oauth/tokeninfo"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/~/oauth/tokeninfo?scope=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /~/oauth/tokeninfo</code></p>

<p>Get info for user&rsquo;s token</p>

<h4 id="getTokenInfo-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>scope</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="getTokenInfo-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="getTokenInfo-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:access_tokens )
</aside>

<h3 id="get-a-new-access-token">Get a new Access Token</h3>

<p><a id="opIdgetAccessToken"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/~/oauth/access_tokens?target<span class="o">=</span>string&amp;scope<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/~/oauth/access_tokens?target=string&amp;scope=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/~/oauth/access_tokens'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'target'</span><span class="p">:</span> <span class="s">'string'</span><span class="p">,</span>  <span class="s">'scope'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/~/oauth/access_tokens'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'target'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span><span class="p">,</span>
<span class="s1">'scope'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/~/oauth/access_tokens'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/~/oauth/access_tokens"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/~/oauth/access_tokens?target=string&amp;scope=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /~/oauth/access_tokens</code></p>

<p>Get a new access_token using logged in user&rsquo;s token</p>

<h4 id="getAccessToken-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>target</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>scope</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>expiration</td>
<td>query</td>
<td>string(date-time)</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">app_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span>
<span class="pi">}</span>
</code></pre>
<h4 id="getAccessToken-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td><a href="#accesstoken">AccessToken</a></td>
</tr>
</tbody></table>

<h4 id="getAccessToken-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» app_token</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: create:access_tokens )
</aside>

<h2 id="management-api-URL-Encoder">URL Encoder</h2>

<h3 id="encodes-a-url">Encodes a URL</h3>

<p><a id="opIdencodeUrl"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/url_encoder

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/url_encoder'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span>

<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/url_encoder'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/url_encoder'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">}</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/url_encoder'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/url_encoder"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/url_encoder"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /url_encoder</code></p>

<p>Encodes the URL to be used with Moesif Collector/Proxy Server</p>

<h4 id="encodeUrl-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td><a href="#url">Url</a></td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example request </p>
</blockquote>

<h4 id="encodeUrl-requestschema">Request Schema</h4>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">url"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span>
<span class="pi">}</span>
</code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» url</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<h4 id="encodeUrl-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<aside class="success">
This operation does not require authentication
</aside>

<h2 id="management-api-Applications">Applications</h2>

<h3 id="create-a-new-app">Create a new App</h3>

<p><a id="opIdaddApp"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/~/apps <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/~/apps'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/~/apps'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/~/apps'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/~/apps'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/~/apps"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/~/apps"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /~/apps</code></p>

<p>Create a new app under the selected organization</p>

<h4 id="addApp-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><a href="#appcreate">AppCreate</a></td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span>
<span class="pi">}</span>
</code></pre>
<h4 id="addApp-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td><a href="#appresponse">AppResponse</a></td>
</tr>
</tbody></table>

<h4 id="addApp-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» name</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: create:apps )
</aside>

<h3 id="gets-apps">Gets Apps</h3>

<p><a id="opIdgetApps"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/~/apps?take<span class="o">=</span>0 <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/~/apps?take=0'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/~/apps'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'take'</span><span class="p">:</span> <span class="s">'0'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/~/apps'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'take'</span> <span class="o">=&gt;</span> <span class="s1">'integer(int32)'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/~/apps'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/~/apps"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/~/apps?take=0"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /~/apps</code></p>

<p>Gets a list of apps for the selected organization</p>

<h4 id="getApps-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>take</td>
<td>query</td>
<td>integer(int32)</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>before_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">[</span>
  <span class="pi">{</span>
    <span class="s2">"</span><span class="s">id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span>
  <span class="pi">}</span>
<span class="pi">]</span>
</code></pre>
<h4 id="getApps-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>Inline</td>
</tr>
</tbody></table>

<h4 id="getApps-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» name</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:apps )
</aside>

<h3 id="update-apps">Update Apps</h3>

<p><a id="opIdupdateApp"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/~/apps/<span class="o">{</span>id<span class="o">}</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/~/apps/{id}'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/~/apps/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/~/apps/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/~/apps/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/~/apps/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/~/apps/{id}"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /~/apps/{id}</code></p>

<p>Update the name of the app for the selected organization</p>

<h4 id="updateApp-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span>
<span class="pi">}</span>
</code></pre>
<h4 id="updateApp-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td><a href="#appupdate">AppUpdate</a></td>
</tr>
</tbody></table>

<h4 id="updateApp-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» name</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: update:apps )
</aside>

<h3 id="delete-apps">Delete Apps</h3>

<p><a id="opIddeleteApp"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X DELETE https://api.moesif.com/v1/~/apps/<span class="o">{</span>id<span class="o">}</span> <span class="se">\</span>
  -H <span class="s1">'Accept: 0'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'0'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/~/apps/{id}'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'DELETE'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'0'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/~/apps/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">delete</span> <span class="s1">'https://api.moesif.com/v1/~/apps/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'DELETE'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/~/apps/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"0"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/~/apps/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/~/apps/{id}"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"DELETE"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">DELETE /~/apps/{id}</code></p>

<p>Delete the app for the selected organization</p>

<h4 id="deleteApp-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="deleteApp-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="deleteApp-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: delete:apps )
</aside>

<h2 id="management-api-Health">Health</h2>

<h3 id="health-probe">Health Probe</h3>

<p><a id="opIdprobe"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/health/probe <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/health/probe'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/health/probe'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/health/probe'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/health/probe'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/health/probe"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/health/probe"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /health/probe</code></p>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">status"</span><span class="pi">:</span> <span class="nv">true</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">region"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">string"</span>
<span class="pi">}</span>
</code></pre>
<h4 id="probe-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td><a href="#status">Status</a></td>
</tr>
</tbody></table>

<h4 id="probe-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» status</td>
<td>boolean</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>» region</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="success">
This operation does not require authentication
</aside>

<h2 id="management-api-UserMetrics">UserMetrics</h2>

<h3 id="search-usermetrics-metrics">Search UserMetrics/Metrics</h3>

<p><a id="opIdsearchUserMetricsChild"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/search/usermetrics/metrics?from<span class="o">=</span>2019-11-27T01:02:01Z&amp;to<span class="o">=</span>2019-11-27T01:02:01Z <span class="se">\</span>
  -H <span class="s1">'Accept: 0'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'0'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/search/usermetrics/metrics?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'0'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/search/usermetrics/metrics'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'from'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span><span class="p">,</span>  <span class="s">'to'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/search/usermetrics/metrics'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'from'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span><span class="p">,</span>
<span class="s1">'to'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/search/usermetrics/metrics'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"0"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/search/usermetrics/metrics"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/search/usermetrics/metrics?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/search/usermetrics/metrics</code></p>

<h4 id="searchUserMetricsChild-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>from</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The start date, which can be absolute such as 2019-07-01T00:00:00Z or relative such as -24h</td>
</tr>
<tr>
<td>to</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The end date, which can be absolute such as 2019-07-02T00:00:00Z or relative such as now</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><em>See Below</em></td>
<td>false</td>
<td>The search definition using the Elasticsearch Query DSL</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="searchUserMetricsChild-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="searchUserMetricsChild-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:users )
</aside>

<h3 id="search-usermetrics-users">Search UserMetrics/Users</h3>

<p><a id="opIdsearchUserMetricsParent"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/search/usermetrics/users?from<span class="o">=</span>2019-11-27T01:02:01Z&amp;to<span class="o">=</span>2019-11-27T01:02:01Z <span class="se">\</span>
  -H <span class="s1">'Accept: 0'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'0'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/search/usermetrics/users?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'0'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/search/usermetrics/users'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'from'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span><span class="p">,</span>  <span class="s">'to'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/search/usermetrics/users'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'from'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span><span class="p">,</span>
<span class="s1">'to'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/search/usermetrics/users'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"0"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/search/usermetrics/users"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/search/usermetrics/users?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/search/usermetrics/users</code></p>

<h4 id="searchUserMetricsParent-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>from</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The start date, which can be absolute such as 2019-07-01T00:00:00Z or relative such as -24h</td>
</tr>
<tr>
<td>to</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The end date, which can be absolute such as 2019-07-02T00:00:00Z or relative such as now</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><em>See Below</em></td>
<td>false</td>
<td>The search definition using the Elasticsearch Query DSL</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="searchUserMetricsParent-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="searchUserMetricsParent-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:users )
</aside>

<h2 id="management-api-Properties">Properties</h2>

<h3 id="get-property-mapping-for-users">Get Property Mapping for Users</h3>

<p><a id="opIdgetProperties"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/search/~/mappings/users/properties?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/mappings/users/properties?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/mappings/users/properties'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/search/~/mappings/users/properties'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/mappings/users/properties'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/mappings/users/properties"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/mappings/users/properties?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /search/~/mappings/users/properties</code></p>

<h4 id="getProperties-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="getProperties-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="getProperties-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:users )
</aside>

<h2 id="management-api-Companies">Companies</h2>

<h3 id="get-a-company">Get a Company</h3>

<p><a id="opIdgetCompany"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/search/~/companies/<span class="o">{</span>id<span class="o">}</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/companies/{id}'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/companies/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/search/~/companies/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/companies/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/companies/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/companies/{id}"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /search/~/companies/{id}</code></p>

<h4 id="getCompany-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="getCompany-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="getCompany-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:companies )
</aside>

<h3 id="delete-a-company">Delete a Company</h3>

<p><a id="opIddeleteCompany"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X DELETE https://api.moesif.com/v1/search/~/companies/<span class="o">{</span>id<span class="o">}</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/companies/{id}'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'DELETE'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/companies/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">delete</span> <span class="s1">'https://api.moesif.com/v1/search/~/companies/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'DELETE'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/companies/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/companies/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/companies/{id}"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"DELETE"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">DELETE /search/~/companies/{id}</code></p>

<h4 id="deleteCompany-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<h4 id="deleteCompany-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: delete:companies )
</aside>

<h3 id="search-companies">Search Companies</h3>

<p><a id="opIdsearchCompanies"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/search/companies <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/search/companies'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/search/companies'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/search/companies'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/search/companies'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/search/companies"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/search/companies"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/search/companies</code></p>

<h4 id="searchCompanies-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><em>See Below</em></td>
<td>false</td>
<td>The search definition using the Elasticsearch Query DSL</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="searchCompanies-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2">Created</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="searchCompanies-responseschema">Response Schema</h4>

<p>Status Code <strong>201</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:companies )
</aside>

<h3 id="update-a-company">Update a Company</h3>

<p><a id="opIdupdateCompanies"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/companies <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/companies'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/companies'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/companies'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/companies'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/companies"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/companies"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/companies</code></p>

<h4 id="updateCompanies-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><a href="#companyupdate">CompanyUpdate</a></td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="updateCompanies-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="updateCompanies-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: create:companies update:companies )
</aside>

<h3 id="update-companies-in-batch">Update Companies in Batch</h3>

<p><a id="opIdbatchUpdateCompanies"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/companies/batch <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/companies/batch'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/companies/batch'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/companies/batch'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/companies/batch'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/companies/batch"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/companies/batch"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/companies/batch</code></p>

<h4 id="batchUpdateCompanies-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td>array[object]</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="batchUpdateCompanies-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="batchUpdateCompanies-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: create:companies update:companies )
</aside>

<h3 id="count-companies">Count Companies</h3>

<p><a id="opIdcountCompanies"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/count/companies?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/count/companies?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/count/companies'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/count/companies'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/count/companies'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/count/companies"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/count/companies?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/count/companies</code></p>

<h4 id="countCompanies-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><em>See Below</em></td>
<td>false</td>
<td>A query to restrict the results specified with the Elasticsearch Query DSL</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="countCompanies-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="countCompanies-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:companies )
</aside>

<h2 id="management-api-Events">Events</h2>

<h3 id="search-events-in-saved-workspace">Search Events in Saved Workspace</h3>

<p><a id="opIdsearchWorkspaceEvents"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/workspaces/<span class="o">{</span>workspaceId<span class="o">}</span>/search/events?from<span class="o">=</span>2019-11-27T01:02:01Z&amp;to<span class="o">=</span>2019-11-27T01:02:01Z <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/workspaces/{workspaceId}/search/events?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/workspaces/{workspaceId}/search/events'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'from'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span><span class="p">,</span>  <span class="s">'to'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/workspaces/{workspaceId}/search/events'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'from'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span><span class="p">,</span>
<span class="s1">'to'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/workspaces/{workspaceId}/search/events'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/workspaces/{workspaceId}/search/events"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/workspaces/{workspaceId}/search/events?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/workspaces/{workspaceId}/search/events</code></p>

<h4 id="searchWorkspaceEvents-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>from</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The start date, which can be absolute such as 2019-07-01T00:00:00Z or relative such as -24h</td>
</tr>
<tr>
<td>to</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The end date, which can be absolute such as 2019-07-02T00:00:00Z or relative such as now</td>
</tr>
<tr>
<td>workspaceId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><em>See Below</em></td>
<td>false</td>
<td>The search definition using the Elasticsearch Query DSL</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>201 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">took"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">timed_out"</span><span class="pi">:</span> <span class="nv">false</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">hits"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">total"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">hits"</span><span class="pi">:</span> <span class="pi">[</span>
      <span class="pi">{</span>
        <span class="s2">"</span><span class="s">_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_source"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">duration_ms"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">request"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
            <span class="s2">"</span><span class="s">uri"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">user_agent"</span><span class="pi">:</span> <span class="pi">{</span>
              <span class="s2">"</span><span class="s">patch"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="pi">},</span>
            <span class="s2">"</span><span class="s">geo_ip"</span><span class="pi">:</span> <span class="pi">{</span>
              <span class="s2">"</span><span class="s">ip"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">continent_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">location"</span><span class="pi">:</span> <span class="pi">[</span>
                <span class="nv">0</span>
              <span class="pi">],</span>
              <span class="s2">"</span><span class="s">latitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">timezone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">area_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">longitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">real_region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">dma_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">postal_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">city_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">country_code2"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">country_code3"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">country_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="pi">},</span>
            <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">verb"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">route"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
              <span class="s2">"</span><span class="s">_accept-_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_connection"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_cache-_control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_user-_agent"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_host"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_accept"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="pi">}</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">response"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
              <span class="s2">"</span><span class="s">_vary"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_cache-_control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_strict-_transport-_security"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_access-_control-_expose-_headers"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_content-_security-_policy"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_transfer-_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_e_tag"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_content-_type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_access-_control-_allow-_origin"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="pi">},</span>
            <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
            <span class="s2">"</span><span class="s">status"</span><span class="pi">:</span> <span class="nv">0</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{},</span>
          <span class="s2">"</span><span class="s">app_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">org_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">user"</span><span class="pi">:</span> <span class="pi">{}</span>
        <span class="pi">},</span>
        <span class="s2">"</span><span class="s">sort"</span><span class="pi">:</span> <span class="pi">[</span>
          <span class="nv">0</span>
        <span class="pi">]</span>
      <span class="pi">}</span>
    <span class="pi">]</span>
  <span class="pi">}</span>
<span class="pi">}</span>
</code></pre>
<h4 id="searchWorkspaceEvents-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2">Created</a></td>
<td>success</td>
<td><a href="#schemasearcheventsresponse">searchEventsResponse</a></td>
</tr>
</tbody></table>

<h4 id="searchWorkspaceEvents-responseschema">Response Schema</h4>

<p>Status Code <strong>201</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» took</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» timed_out</td>
<td>boolean</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» hits</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» total</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» hits</td>
<td>[<a href="#schemaeventresponse">eventResponse</a>]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» _id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» _source</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» duration_ms</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» request</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» uri</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» user_agent</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» patch</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» geo_ip</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» ip</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» continent_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» location</td>
<td>[double]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» latitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» timezone</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» area_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» longitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» real_region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» dma_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» postal_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» city_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» country_code2</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» country_code3</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» country_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» ip_address</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» verb</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» route</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» headers</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _accept-_encoding</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _connection</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _cache-_control</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _user-_agent</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _host</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _accept</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» user_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» response</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» headers</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _vary</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _cache-_control</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _strict-_transport-_security</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _access-_control-_expose-_headers</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _content-_security-_policy</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _transfer-_encoding</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _e_tag</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _content-_type</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _access-_control-_allow-_origin</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» status</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» session_token</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» metadata</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» app_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» org_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» user</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» sort</td>
<td>[integer]</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:events )
</aside>

<h3 id="count-events">Count Events</h3>

<p><a id="opIdcountEvents"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/count/events?from<span class="o">=</span>2019-11-27T01:02:01Z&amp;to<span class="o">=</span>2019-11-27T01:02:01Z <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/count/events?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/count/events'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'from'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span><span class="p">,</span>  <span class="s">'to'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/count/events'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'from'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span><span class="p">,</span>
<span class="s1">'to'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/count/events'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/count/events"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/count/events?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/count/events</code></p>

<h4 id="countEvents-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>from</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The start date, which can be absolute such as 2019-07-01T00:00:00Z or relative such as -24h</td>
</tr>
<tr>
<td>to</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The end date, which can be absolute such as 2019-07-02T00:00:00Z or relative such as now</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><em>See Below</em></td>
<td>false</td>
<td>The search definition using the Elasticsearch Query DSL</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="countEvents-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="countEvents-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:events )
</aside>

<h3 id="search-events">Search Events</h3>

<p><a id="opIdsearchEvents"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/search/events?from<span class="o">=</span>2019-11-27T01:02:01Z&amp;to<span class="o">=</span>2019-11-27T01:02:01Z <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/search/events?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/search/events'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'from'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span><span class="p">,</span>  <span class="s">'to'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/search/events'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'from'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span><span class="p">,</span>
<span class="s1">'to'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/search/events'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/search/events"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/search/events?from=2019-11-27T01:02:01Z&amp;to=2019-11-27T01:02:01Z"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/search/events</code></p>

<h4 id="searchEvents-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>from</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The start date, which can be absolute such as 2019-07-01T00:00:00Z or relative such as -24h</td>
</tr>
<tr>
<td>to</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>The end date, which can be absolute such as 2019-07-02T00:00:00Z or relative such as now</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><em>See Below</em></td>
<td>false</td>
<td>The search definition using the Elasticsearch Query DSL</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>201 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">took"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">timed_out"</span><span class="pi">:</span> <span class="nv">false</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">hits"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">total"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">hits"</span><span class="pi">:</span> <span class="pi">[</span>
      <span class="pi">{</span>
        <span class="s2">"</span><span class="s">_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_source"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">duration_ms"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">request"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
            <span class="s2">"</span><span class="s">uri"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">user_agent"</span><span class="pi">:</span> <span class="pi">{</span>
              <span class="s2">"</span><span class="s">patch"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="pi">},</span>
            <span class="s2">"</span><span class="s">geo_ip"</span><span class="pi">:</span> <span class="pi">{</span>
              <span class="s2">"</span><span class="s">ip"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">continent_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">location"</span><span class="pi">:</span> <span class="pi">[</span>
                <span class="nv">0</span>
              <span class="pi">],</span>
              <span class="s2">"</span><span class="s">latitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">timezone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">area_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">longitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">real_region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">dma_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">postal_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">city_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">country_code2"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">country_code3"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">country_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="pi">},</span>
            <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">verb"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">route"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
              <span class="s2">"</span><span class="s">_accept-_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_connection"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_cache-_control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_user-_agent"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_host"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_accept"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="pi">}</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">response"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
              <span class="s2">"</span><span class="s">_vary"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_cache-_control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_strict-_transport-_security"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_access-_control-_expose-_headers"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_content-_security-_policy"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_transfer-_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_e_tag"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_content-_type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">_access-_control-_allow-_origin"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="pi">},</span>
            <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
            <span class="s2">"</span><span class="s">status"</span><span class="pi">:</span> <span class="nv">0</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{},</span>
          <span class="s2">"</span><span class="s">app_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">org_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">user"</span><span class="pi">:</span> <span class="pi">{}</span>
        <span class="pi">},</span>
        <span class="s2">"</span><span class="s">sort"</span><span class="pi">:</span> <span class="pi">[</span>
          <span class="nv">0</span>
        <span class="pi">]</span>
      <span class="pi">}</span>
    <span class="pi">]</span>
  <span class="pi">}</span>
<span class="pi">}</span>
</code></pre>
<h4 id="searchEvents-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2">Created</a></td>
<td>success</td>
<td><a href="#schemasearcheventsresponse">searchEventsResponse</a></td>
</tr>
</tbody></table>

<h4 id="searchEvents-responseschema">Response Schema</h4>

<p>Status Code <strong>201</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» took</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» timed_out</td>
<td>boolean</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» hits</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» total</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» hits</td>
<td>[<a href="#schemaeventresponse">eventResponse</a>]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» _id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» _source</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» duration_ms</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» request</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» uri</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» user_agent</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» patch</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» geo_ip</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» ip</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» continent_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» location</td>
<td>[double]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» latitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» timezone</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» area_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» longitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» real_region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» dma_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» postal_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» city_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» country_code2</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» country_code3</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» country_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» ip_address</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» verb</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» route</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» headers</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _accept-_encoding</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _connection</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _cache-_control</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _user-_agent</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _host</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» _accept</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» user_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» response</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» headers</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _vary</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _cache-_control</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _strict-_transport-_security</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _access-_control-_expose-_headers</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _content-_security-_policy</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _transfer-_encoding</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _e_tag</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _content-_type</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»»» _access-_control-_allow-_origin</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» status</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» session_token</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» metadata</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» app_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» org_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» user</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» sort</td>
<td>[integer]</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:events )
</aside>

<h3 id="get-an-event">Get an Event</h3>

<p><a id="opIdgetEvent"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/search/~/events/<span class="o">{</span>id<span class="o">}</span>?event_time<span class="o">=</span>2019-11-27T01:02:01Z <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/events/{id}?event_time=2019-11-27T01:02:01Z'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/events/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'event_time'</span><span class="p">:</span> <span class="s">'2019-11-27T01:02:01Z'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/search/~/events/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'event_time'</span> <span class="o">=&gt;</span> <span class="s1">'string(date-time)'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/events/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/events/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/events/{id}?event_time=2019-11-27T01:02:01Z"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /search/~/events/{id}</code></p>

<h4 id="getEvent-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>event_time</td>
<td>query</td>
<td>string(date-time)</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">_source"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">duration_ms"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">request"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
      <span class="s2">"</span><span class="s">uri"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">user_agent"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">patch"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">geo_ip"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">ip"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">continent_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">location"</span><span class="pi">:</span> <span class="pi">[</span>
          <span class="nv">0</span>
        <span class="pi">],</span>
        <span class="s2">"</span><span class="s">latitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">timezone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">area_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">longitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">real_region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">dma_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">postal_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">city_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">country_code2"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">country_code3"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">country_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">verb"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">route"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">_accept-_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_connection"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_cache-_control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_user-_agent"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_host"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_accept"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
      <span class="pi">}</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">user_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">response"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">headers"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">_vary"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_cache-_control"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_strict-_transport-_security"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_access-_control-_expose-_headers"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_content-_security-_policy"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_transfer-_encoding"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_e_tag"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_content-_type"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_access-_control-_allow-_origin"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
      <span class="s2">"</span><span class="s">status"</span><span class="pi">:</span> <span class="nv">0</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">metadata"</span><span class="pi">:</span> <span class="pi">{},</span>
    <span class="s2">"</span><span class="s">app_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">org_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">user"</span><span class="pi">:</span> <span class="pi">{}</span>
  <span class="pi">},</span>
  <span class="s2">"</span><span class="s">sort"</span><span class="pi">:</span> <span class="pi">[</span>
    <span class="nv">0</span>
  <span class="pi">]</span>
<span class="pi">}</span>
</code></pre>
<h4 id="getEvent-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td><a href="#schemaeventresponse">eventResponse</a></td>
</tr>
</tbody></table>

<h4 id="getEvent-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» _id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» _source</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» duration_ms</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» request</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» uri</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» user_agent</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» patch</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» geo_ip</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» ip</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» continent_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» location</td>
<td>[double]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» latitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» timezone</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» area_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» longitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» real_region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» dma_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» postal_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» city_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» country_code2</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» country_code3</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» country_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» ip_address</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» verb</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» route</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» headers</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» _accept-_encoding</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» _connection</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» _cache-_control</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» _user-_agent</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» _host</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» _accept</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» user_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» response</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» headers</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» _vary</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» _cache-_control</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» _strict-_transport-_security</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» _access-_control-_expose-_headers</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» _content-_security-_policy</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» _transfer-_encoding</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» _e_tag</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» _content-_type</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» _access-_control-_allow-_origin</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» status</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» session_token</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» metadata</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» app_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» org_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» user</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» sort</td>
<td>[integer]</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:events )
</aside>

<h2 id="management-api-Users">Users</h2>

<h3 id="count-users">Count Users</h3>

<p><a id="opIdcountUsers"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/count/users?app_id<span class="o">=</span>string <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/count/users?app_id=string'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/count/users'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>
  <span class="s">'app_id'</span><span class="p">:</span> <span class="s">'string'</span>
<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/count/users'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="s1">'app_id'</span> <span class="o">=&gt;</span> <span class="s1">'string'</span>
<span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/count/users'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/count/users"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/count/users?app_id=string"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/count/users</code></p>

<h4 id="countUsers-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><em>See Below</em></td>
<td>false</td>
<td>A query to restrict the results specified with the Elasticsearch Query DSL</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>
</blockquote>

<h4 id="countUsers-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="countUsers-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:users )
</aside>

<h3 id="update-a-user">Update a User</h3>

<p><a id="opIdupdateUsers"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/users <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/users'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/users'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/users'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/users'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/users"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/users"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/users</code></p>

<h4 id="updateUsers-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><a href="#userupdate">UserUpdate</a></td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">_source"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
    <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">first_seen_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">user_agent"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os_major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os_minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">device"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">geo_ip"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">ip"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">continent_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">location"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">lon"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">lat"</span><span class="pi">:</span> <span class="nv">0</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">latitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">timezone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">longitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">dma_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">postal_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">region_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">city_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">country_code2"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">country_code3"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">country_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">modified_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="pi">[</span>
      <span class="s2">"</span><span class="s">"</span>
    <span class="pi">],</span>
    <span class="s2">"</span><span class="s">last_seen_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">app_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">org_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="pi">},</span>
  <span class="s2">"</span><span class="s">sort"</span><span class="pi">:</span> <span class="pi">[</span>
    <span class="nv">0</span>
  <span class="pi">]</span>
<span class="pi">}</span>
</code></pre>
<h4 id="updateUsers-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td><a href="#schemauserresponse">userResponse</a></td>
</tr>
</tbody></table>

<h4 id="updateUsers-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» _id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» _source</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» first_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» email</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» first_seen_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» user_agent</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os_major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os_minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» device</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» geo_ip</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» ip</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» continent_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» location</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» lon</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» lat</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» latitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» timezone</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» longitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» dma_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» postal_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» region_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» city_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» country_code2</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» country_code3</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» country_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» modified_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» last_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» ip_address</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» session_token</td>
<td>[string]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» last_seen_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» app_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» org_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» sort</td>
<td>[integer]</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: create:users update:users )
</aside>

<h3 id="search-users">Search Users</h3>

<p><a id="opIdsearchUsers"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/search/users <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/search/users'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/search/users'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/search/users'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/search/users'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/search/users"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/search/users"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/search/users</code></p>

<h4 id="searchUsers-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td><em>See Below</em></td>
<td>false</td>
<td>The search definition using the Elasticsearch Query DSL</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>201 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">took"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">timed_out"</span><span class="pi">:</span> <span class="nv">false</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">hits"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">total"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">hits"</span><span class="pi">:</span> <span class="pi">[</span>
      <span class="pi">{</span>
        <span class="s2">"</span><span class="s">_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">_source"</span><span class="pi">:</span> <span class="pi">{</span>
          <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
          <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">first_seen_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">user_agent"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">os_major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">os"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">os_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">os_minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">device"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">geo_ip"</span><span class="pi">:</span> <span class="pi">{</span>
            <span class="s2">"</span><span class="s">ip"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">continent_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">location"</span><span class="pi">:</span> <span class="pi">{</span>
              <span class="s2">"</span><span class="s">lon"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
              <span class="s2">"</span><span class="s">lat"</span><span class="pi">:</span> <span class="nv">0</span>
            <span class="pi">},</span>
            <span class="s2">"</span><span class="s">latitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">timezone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">longitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">dma_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">postal_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">region_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">city_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">country_code2"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">country_code3"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
            <span class="s2">"</span><span class="s">country_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
          <span class="pi">},</span>
          <span class="s2">"</span><span class="s">modified_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="pi">[</span>
            <span class="s2">"</span><span class="s">"</span>
          <span class="pi">],</span>
          <span class="s2">"</span><span class="s">last_seen_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">app_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">org_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
        <span class="pi">},</span>
        <span class="s2">"</span><span class="s">sort"</span><span class="pi">:</span> <span class="pi">[</span>
          <span class="nv">0</span>
        <span class="pi">]</span>
      <span class="pi">}</span>
    <span class="pi">]</span>
  <span class="pi">}</span>
<span class="pi">}</span>
</code></pre>
<h4 id="searchUsers-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2">Created</a></td>
<td>success</td>
<td><a href="#schemasearchusersresponse">searchUsersResponse</a></td>
</tr>
</tbody></table>

<h4 id="searchUsers-responseschema">Response Schema</h4>

<p>Status Code <strong>201</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» took</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» timed_out</td>
<td>boolean</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» hits</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» total</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» hits</td>
<td>[<a href="#schemauserresponse">userResponse</a>]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» _id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» _source</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» first_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» email</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» first_seen_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» user_agent</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» os_major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» os</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» os_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» os_minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» device</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» geo_ip</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» ip</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» continent_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» location</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» lon</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»»» lat</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» latitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» timezone</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» longitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» dma_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» postal_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» region_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» city_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» country_code2</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» country_code3</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»»» country_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» modified_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» last_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» ip_address</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» session_token</td>
<td>[string]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» last_seen_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» app_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» org_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» sort</td>
<td>[integer]</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:users )
</aside>

<h3 id="update-users-in-batch">Update Users in Batch</h3>

<p><a id="opIdbatchUpdateUsers"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X POST https://api.moesif.com/v1/search/~/users/batch <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/users/batch'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/users/batch'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://api.moesif.com/v1/search/~/users/batch'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/users/batch'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/users/batch"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/users/batch"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">POST /search/~/users/batch</code></p>

<h4 id="batchUpdateUsers-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>body</td>
<td>body</td>
<td>array[object]</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">_source"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
    <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">first_seen_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">user_agent"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os_major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os_minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">device"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">geo_ip"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">ip"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">continent_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">location"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">lon"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">lat"</span><span class="pi">:</span> <span class="nv">0</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">latitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">timezone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">longitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">dma_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">postal_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">region_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">city_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">country_code2"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">country_code3"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">country_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">modified_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="pi">[</span>
      <span class="s2">"</span><span class="s">"</span>
    <span class="pi">],</span>
    <span class="s2">"</span><span class="s">last_seen_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">app_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">org_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="pi">},</span>
  <span class="s2">"</span><span class="s">sort"</span><span class="pi">:</span> <span class="pi">[</span>
    <span class="nv">0</span>
  <span class="pi">]</span>
<span class="pi">}</span>
</code></pre>
<h4 id="batchUpdateUsers-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td><a href="#schemauserresponse">userResponse</a></td>
</tr>
</tbody></table>

<h4 id="batchUpdateUsers-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» _id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» _source</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» first_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» email</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» first_seen_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» user_agent</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os_major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os_minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» device</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» geo_ip</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» ip</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» continent_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» location</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» lon</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» lat</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» latitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» timezone</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» longitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» dma_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» postal_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» region_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» city_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» country_code2</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» country_code3</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» country_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» modified_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» last_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» ip_address</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» session_token</td>
<td>[string]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» last_seen_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» app_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» org_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» sort</td>
<td>[integer]</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: create:users update:users )
</aside>

<h3 id="get-a-user">Get a User</h3>

<p><a id="opIdgetUser"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X GET https://api.moesif.com/v1/search/~/users/<span class="o">{</span>id<span class="o">}</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/users/{id}'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/users/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://api.moesif.com/v1/search/~/users/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/users/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Accept"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"application/json"</span><span class="p">},</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/users/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/users/{id}"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">GET /search/~/users/{id}</code></p>

<h4 id="getUser-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<blockquote>
<p>Example response</p>

<p>200 undefined</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="pi">{</span>
  <span class="s2">"</span><span class="s">_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
  <span class="s2">"</span><span class="s">_source"</span><span class="pi">:</span> <span class="pi">{</span>
    <span class="s2">"</span><span class="s">first_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">body"</span><span class="pi">:</span> <span class="pi">{},</span>
    <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">email"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">first_seen_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">user_agent"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os_major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">os_minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">major"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">device"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">minor"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">geo_ip"</span><span class="pi">:</span> <span class="pi">{</span>
      <span class="s2">"</span><span class="s">ip"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">region_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">continent_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">location"</span><span class="pi">:</span> <span class="pi">{</span>
        <span class="s2">"</span><span class="s">lon"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
        <span class="s2">"</span><span class="s">lat"</span><span class="pi">:</span> <span class="nv">0</span>
      <span class="pi">},</span>
      <span class="s2">"</span><span class="s">latitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">timezone"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">longitude"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">dma_code"</span><span class="pi">:</span> <span class="nv">0</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">postal_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">region_code"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">city_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">country_code2"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">country_code3"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
      <span class="s2">"</span><span class="s">country_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
    <span class="pi">},</span>
    <span class="s2">"</span><span class="s">modified_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">last_name"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">ip_address"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">session_token"</span><span class="pi">:</span> <span class="pi">[</span>
      <span class="s2">"</span><span class="s">"</span>
    <span class="pi">],</span>
    <span class="s2">"</span><span class="s">last_seen_time"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">app_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span><span class="pi">,</span>
    <span class="s2">"</span><span class="s">org_id"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="pi">},</span>
  <span class="s2">"</span><span class="s">sort"</span><span class="pi">:</span> <span class="pi">[</span>
    <span class="nv">0</span>
  <span class="pi">]</span>
<span class="pi">}</span>
</code></pre>
<h4 id="getUser-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td><a href="#schemauserresponse">userResponse</a></td>
</tr>
</tbody></table>

<h4 id="getUser-responseschema">Response Schema</h4>

<p>Status Code <strong>200</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» _id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» _source</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» first_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» body</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» email</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» first_seen_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» user_agent</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os_major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» os_minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» major</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» device</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» minor</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» geo_ip</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» ip</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» region_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» continent_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» location</td>
<td>object</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» lon</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»»» lat</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» latitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» timezone</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» longitude</td>
<td>double</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» dma_code</td>
<td>integer</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» postal_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» region_code</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» city_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» country_code2</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» country_code3</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»»» country_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» modified_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» last_name</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» ip_address</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» session_token</td>
<td>[string]</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» last_seen_time</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» app_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>»» org_id</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>» sort</td>
<td>[integer]</td>
<td>false</td>
<td>No description</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: read:users )
</aside>

<h3 id="delete-a-user">Delete a User</h3>

<p><a id="opIddeleteUser"></a></p>
<pre class="highlight shell tab-shell"><code><span class="c"># You can also use wget</span>
curl -X DELETE https://api.moesif.com/v1/search/~/users/<span class="o">{</span>id<span class="o">}</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {access-token}'</span>

</code></pre><pre class="highlight javascript tab-javascript--nodejs"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span><span class="p">:</span><span class="s1">'Bearer {access-token}'</span>

<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.moesif.com/v1/search/~/users/{id}'</span><span class="p">,</span>
<span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'DELETE'</span><span class="p">,</span>

  <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">'https://api.moesif.com/v1/search/~/users/{id}'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rest-client'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">delete</span> <span class="s1">'https://api.moesif.com/v1/search/~/users/{id}'</span><span class="p">,</span>
  <span class="ss">params: </span><span class="p">{</span>
  <span class="p">},</span> <span class="ss">headers: </span><span class="n">headers</span>

<span class="nb">p</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Bearer {access-token}'</span><span class="p">,</span>

    <span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\GuzzleHttp\Client</span><span class="p">();</span>

<span class="c1">// Define array of request body.
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">'DELETE'</span><span class="p">,</span><span class="s1">'https://api.moesif.com/v1/search/~/users/{id}'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="nv">$headers</span><span class="p">,</span>
        <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="nv">$request_body</span><span class="p">,</span>
       <span class="p">)</span>
    <span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getContents</span><span class="p">());</span>
 <span class="p">}</span>
 <span class="k">catch</span> <span class="p">(</span><span class="nx">\GuzzleHttp\Exception\BadResponseException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle exception or api errors.
</span>    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
 <span class="p">}</span>

 <span class="c1">// ...
</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
       </span><span class="s">"bytes"</span><span class="x">
       </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">

    </span><span class="n">headers</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kt">string</span><span class="p">{</span><span class="x">
        </span><span class="s">"Authorization"</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"Bearer {access-token}"</span><span class="p">},</span><span class="x">

    </span><span class="p">}</span><span class="x">

    </span><span class="n">data</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">{</span><span class="n">jsonReq</span><span class="p">})</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.moesif.com/v1/search/~/users/{id}"</span><span class="p">,</span><span class="x"> </span><span class="n">data</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">headers</span><span class="x">

    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="c">// ...</span><span class="x">
</span><span class="p">}</span><span class="x">

</span></code></pre><pre class="highlight java tab-java"><code><span class="n">URL</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s">"https://api.moesif.com/v1/search/~/users/{id}"</span><span class="o">);</span>
<span class="n">HttpURLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">obj</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">con</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"DELETE"</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">responseCode</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">();</span>
<span class="n">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
<span class="n">String</span> <span class="n">inputLine</span><span class="o">;</span>
<span class="n">StringBuffer</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
<span class="k">while</span> <span class="o">((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">inputLine</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

</code></pre>
<p><code class="prettyprint">DELETE /search/~/users/{id}</code></p>

<h4 id="deleteUser-parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orgId</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
<tr>
<td>app_id</td>
<td>query</td>
<td>string</td>
<td>false</td>
<td>No description</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>true</td>
<td>No description</td>
</tr>
</tbody></table>

<h4 id="deleteUser-responses">Responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Meaning</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1">OK</a></td>
<td>success</td>
<td>None</td>
</tr>
</tbody></table>

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
managementAPIToken ( Scopes: delete:users )
</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="yaml">JSON</a>
                <a href="#" data-language-name="shell">Shell</a>
                <a href="#" data-language-name="javascript--nodejs">Node.js</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="go">Go</a>
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="javascript--browser">Browser</a>
          </div>
      </div>
    </div>
  </body>
</html>
